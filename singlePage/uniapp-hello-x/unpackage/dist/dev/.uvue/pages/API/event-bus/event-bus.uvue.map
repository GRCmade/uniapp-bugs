{"version":3,"file":"pages/API/event-bus/event-bus.uvue","names":[],"sources":["pages/API/event-bus/event-bus.uvue"],"sourcesContent":["<template>\n\n  <scroll-view class=\"page-scroll-view\">\n\n    <view>\n      <button @click=\"on\">开始监听</button>\n      <button @click=\"once\">监听一次</button>\n      <button @click=\"off\">取消监听</button>\n      <!-- <button @click=\"offAll\">取消全部监听</button> -->\n      <button @click=\"emit\">触发监听</button>\n      <button @click=\"clear\">清空消息</button>\n      <view class=\"box\">\n        <view>收到的消息：</view>\n        <view>\n          <view v-for=\"(item, index) in log\" :key=\"index\">{{ item }}</view>\n        </view>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        log: [] as string[],\n      }\n    },\n    methods: {\n      fn(res : string) {\n        this.log.push(res)\n      },\n      fn2(res : string) {\n        this.log.push(res)\n      },\n      on() {\n        uni.$on('test', this.fn)\n      },\n      on2() {\n        uni.$on('test', this.fn2)\n      },\n      once() {\n        uni.$once('test', this.fn)\n      },\n      off() {\n        uni.$off('test', this.fn)\n      },\n      offAll() {\n        uni.$off('test')\n      },\n      emit() {\n        uni.$emit('test', 'msg:' + Date.now())\n      },\n      clear() {\n        this.log.length = 0\n      },\n    },\n  }\n</script>\n\n<style>\n  .box {\n    padding: 10px;\n  }\n</style>\n"],"mappings":"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"}