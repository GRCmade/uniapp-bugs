{"version":3,"file":"pages/component/sticky-section/sticky-section.uvue","names":[],"sources":["pages/component/sticky-section/sticky-section.uvue"],"sourcesContent":["<template>\n  <page-head title=\"sticky-section\"></page-head>\n  <list-view id=\"list-view\" ref=\"list-view\" show-scrollbar=false class=\"page\" :scroll-into-view=\"scrollIntoView\"\n  @scroll=\"onScroll\" @scrollend=\"onScrollEnd\" rebound=\"false\">\n    <list-item style=\"padding: 10px; margin: 5px 0;align-items: center;\" :type = 20>\n      <button @click=\"gotoStickyHeader('C')\" size=\"mini\">跳转到id为C的sticky-header位置上</button>\n    </list-item>\n    <sticky-section v-for=\"(sectionText) in data\" :padding=\"sectionPadding\" :push-pinned-header=\"true\">\n      <sticky-header :header-id=\"sectionText\" :id=\"sectionText\">\n        <text class=\"sticky-header-text\">{{sectionText}}</text>\n      </sticky-header>\n      <list-item v-for=\"i in 10\" class=\"content-item\" :type=10>\n        <text class=\"text\">{{sectionText}}--item--content----{{i}}</text>\n      </list-item>\n    </sticky-section>\n    <list-item style=\"padding: 10px; margin: 5px 0;align-items: center;\" :type= 30>\n      <!-- <text style=\"color: #aaa\">到底了</text> -->\n      <button @click=\"toTop\" size=\"mini\">回到顶部</button>\n    </list-item>\n  </list-view>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        data: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N'],\n        sectionPadding: [0, 10, 0, 10] as Array<number>,\n        scrollIntoView: \"\",\n        scrolling: false\n      }\n    },\n    methods: {\n      toTop(){\n        this.scrollIntoView = \"\"\n        uni.getElementById(\"list-view\")!.scrollTop = 0\n      },\n      //用于自动化测试\n      listViewScrollByY(y : number) {\n        const listview = this.$refs[\"list-view\"] as UniElement\n        // listview.scrollBy(0, y)\n        listview.scrollTop = y\n      },\n      gotoStickyHeader(id : string) {\n\n        this.scrollIntoView = id\n\n\n\n\n      },\n      onScroll() {\n        this.scrolling = true\n      },\n      onScrollEnd() {\n        this.scrolling = false\n        //滚动后重置scrollIntoView = \"\"\n        if(this.scrollIntoView != \"\") {\n          this.scrollIntoView = \"\"\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  .page {\n    flex: 1;\n    background-color: #f5f5f5;\n  }\n\n  .sticky-header-text {\n    font-size: 16px;\n    padding: 8px;\n    color: #959595;\n    background-color: #f5f5f5;\n  }\n\n  .content-item {\n    padding: 15px;\n    margin-bottom: 10px;\n    background-color: #fff;\n  }\n</style>\n"],"mappings":";EAuBE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACL,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC5E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACjB;IACF,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;MAC/C,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC5B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;MACvB,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;;QAE5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;;;;;MAKzB,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MACtB,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;UAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QACzB;MACF;IACF;EACF;;;;;;;;;IA7DA,YAA8C,iCAAnC,KAAK,EAAC,gBAAgB;IACjC,mBAiBY;MAjBD,EAAE,EAAC,WAAW;MAAC,GAAG,EAAC,WAAW;MAAC,gBAAc,EAAC,OAAK;MAAC,KAAK,EAAC,MAAM;MAAE,kBAAgB,EAAE,mBAAc;MAC5G,QAAM,EAAE,aAAQ;MAAG,WAAS,EAAE,gBAAW;MAAE,OAAO,EAAC,OAAO;;MACzD,mBAEY;QAFD,KAAyD,iBAAzD,oEAAyD;QAAE,IAAI,EAAG,EAAE;;QAC7E,mBAAoF;UAA3E,OAAK,SAAE,qBAAgB;UAAO,IAAI,EAAC,MAAM;YAAC,0BAAwB;;MAE7E,mBAOiB,yCAPuB,SAAI,GAApB,WAAW,EAAX,KAAW,EAAX,OAAW;eAAnC,mBAOiB;UAP8B,OAAO,EAAE,mBAAc;UAAG,oBAAkB,EAAE,IAAI;;UAC/F,mBAEgB;YAFA,WAAS,EAAE,WAAW;YAAG,EAAE,EAAE,WAAW;;YACtD,mBAAuD,mBAAjD,KAAK,EAAC,oBAAoB,qBAAG,WAAW;;UAEhD,mBAEY,yCAFW,EAAE,GAAP,CAAC,EAAD,KAAC,EAAD,OAAC;mBAAnB,mBAEY;cAFe,KAAK,EAAC,cAAc;cAAE,IAAI,EAAC,EAAE;;cACtD,mBAAiE,mBAA3D,KAAK,EAAC,MAAM,qBAAG,WAAW,IAAE,qBAAmB,mBAAE,CAAC;;;;;MAG5D,mBAGY;QAHD,KAAyD,iBAAzD,oEAAyD;QAAE,IAAI,EAAE,EAAE;;QAE5E,mBAAgD;UAAvC,OAAK,EAAE,UAAK;UAAE,IAAI,EAAC,MAAM;YAAC,MAAI"}