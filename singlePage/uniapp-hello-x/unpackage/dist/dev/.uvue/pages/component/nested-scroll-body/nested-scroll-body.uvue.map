{"version":3,"file":"pages/component/nested-scroll-body/nested-scroll-body.uvue","names":[],"sources":["pages/component/nested-scroll-body/nested-scroll-body.uvue"],"sourcesContent":["<template>\n\t<scroll-view style=\"flex:1\" type=\"nested\" direction=\"vertical\" refresher-enabled=\"true\" refresher-default-style=\"none\"\n      bounces=\"false\" :refresher-triggered=\"refresherTriggered\" @refresherpulling=\"onRefresherpulling\" @refresherrefresh=\"onRefresherrefresh\" @refresherrestore=\"onRefreshrestore\">\n    <nested-scroll-header>\n      <swiper ref=\"header\" indicator-dots=\"true\" circular=\"true\">\n        <swiper-item  v-for=\"i in 3\" :item-id=\"i\">\n          <image src=\"/static/shuijiao.jpg\" style=\"width:100% ;height: 240px;\"></image>\n        </swiper-item>\n      </swiper>\n    </nested-scroll-header>\n    <nested-scroll-body>\n      <view style=\"flex:1\">\n        <view style=\"flex-direction: row;\">\n          <text style=\"padding: 12px 15px;\">nested-scroll-body</text>\n        </view>\n        <!-- 嵌套滚动仅可能关闭bounces效果 会影响嵌套滚动不连贯 -->\n        <list-view bounces=\"false\" id=\"body-list\" :scroll-top=\"scrollTop\" style=\"flex:1\" associative-container=\"nested-scroll-view\">\n          <list-item v-for=\"key in scrollData\">\n          \t<view class=\"scroll-item\">\n          \t\t<text class=\"scroll-item-title\">{{key}}</text>\n          \t</view>\n          </list-item>\n        </list-view>\n      </view>\n      <text>不会渲染，因为 nested-scroll-body 只会渲染第一个子节点</text>\n    </nested-scroll-body>\n    <!-- 支持自定义样式下拉刷新slot组件 -->\n    <refresh-box slot=\"refresher\" :state=\"state\"></refresh-box>\n\t</scroll-view>\n</template>\n\n<script>\n  import refreshBox from '../../template/custom-refresher/refresh-box/refresh-box.uvue';\n\texport default {\n    components: { refreshBox },\n\t\tdata() {\n\t\t\treturn {\n          scrollData: [] as Array<string>,\n          scrollTop: 0,\n          refresherTriggered: false,\n          pullingDistance: 0,\n          resetting: false\n\t\t\t}\n\t\t},\n    computed: {\n    \tstate() : number {\n    \t\tif (this.resetting) {\n    \t\t\treturn 3;\n    \t\t}\n    \t\tif (this.refresherTriggered) {\n    \t\t\treturn 2\n    \t\t}\n    \t\tif (this.pullingDistance > 45) {\n    \t\t\treturn 1\n    \t\t} else {\n    \t\t\treturn 0;\n    \t\t}\n    \t}\n    },\n    onLoad() {\n    \tlet lists : Array<string> = []\n    \tfor (let i = 0; i < 30; i++) {\n    \t\tlists.push(\"item---\" + i)\n    \t}\n    \tthis.scrollData = lists\n    },\n\t\tmethods: {\n      onRefresherpulling(e : RefresherEvent) {\n      \tthis.pullingDistance = e.detail.dy;\n      },\n      onRefresherrefresh() {\n      \tthis.refresherTriggered = true\n      \tsetTimeout(() => {\n      \t\tthis.refresherTriggered = false\n      \t\tthis.resetting = true;\n      \t}, 1500)\n      },\n      onRefreshrestore() {\n        this.pullingDistance = 0\n      \tthis.resetting = false;\n      },\n      //自动化测试使用\n      testBodyScrollBy(y: number) {\n        this.scrollTop = y\n      }\n\t\t}\n\t}\n</script>\n\n<style>\n\t.scroll-item {\r\n\t\tmargin-left: 6px;\r\n\t\tmargin-right: 6px;\r\n\t\tmargin-top: 6px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.scroll-item-title {\r\n\t\twidth: 100%;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t\ttext-align: center;\r\n\t\tcolor: #555;\r\n\t}\n\n  .scroll-header-tiem {\n    height: 200px;\n    background-color: #66ccff;\n    align-items: center;\n    justify-content: center;\n  }\n</style>\n"],"mappings":";EAgCE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACtF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;GACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;UACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;GACtB;EACD,CAAC;IACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;KACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MAChB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;OACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACT;MACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;OAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACR;MACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;OAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACR,EAAE,CAAC,CAAC,CAAC,EAAE;OACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACT;KACD;IACD,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;KACR,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;KAC7B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;MAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;KACzB;KACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;OACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnC,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;OACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;OAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;OACtB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACR,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;OACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;MACnB;EACJ;CACD;;;;;;;;SArFA,mBA2Bc;IA3BD,KAAc,iBAAd,sBAAc;IAAC,IAAI,EAAC,QAAQ;IAAC,SAAS,EAAC,UAAU;IAAC,mBAAiB,EAAC,MAAM;IAAC,yBAAuB,EAAC,MAAM;IACjH,OAAO,EAAC,OAAO;IAAE,qBAAmB,EAAE,uBAAkB;IAAG,kBAAgB,EAAE,uBAAkB;IAAG,kBAAgB,EAAE,uBAAkB;IAAG,kBAAgB,EAAE,qBAAgB;;IAC7K,mBAMuB;MALrB,mBAIS;QAJD,GAAG,EAAC,QAAQ;QAAC,gBAAc,EAAC,MAAM;QAAC,QAAQ,EAAC,MAAM;;QACxD,mBAEc,yCAFY,CAAC,GAAN,CAAC,EAAD,KAAC,EAAD,OAAC;iBAAtB,mBAEc,0BAFgB,SAAO,EAAE,CAAC;YACtC,mBAA6E;cAAtE,GAAG,EAAC,sBAAsB;cAAC,KAAkC,iBAAlC,2CAAkC;;;;;;IAI1E,mBAeqB;MAdnB,mBAYO;QAZD,KAAc,iBAAd,sBAAc;;QAClB,mBAEO;UAFD,KAA4B,iBAA5B,kCAA4B;;UAChC,mBAA2D;YAArD,KAA2B,iBAA3B,iCAA2B;cAAC,oBAAkB;;QAGtD,mBAMY;UAND,OAAO,EAAC,OAAO;UAAC,EAAE,EAAC,WAAW;UAAE,YAAU,EAAE,cAAS;UAAE,KAAc,iBAAd,sBAAc;UAAC,uBAAqB,EAAC,oBAAoB;;UACzH,mBAIY,yCAJa,eAAU,GAAjB,GAAG,EAAH,KAAG,EAAH,OAAG;mBAArB,mBAIY;cAHX,mBAEO,mBAFD,KAAK,EAAC,aAAa;gBACxB,mBAA8C,mBAAxC,KAAK,EAAC,mBAAmB,qBAAG,GAAG;;;;;;MAK3C,mBAAkD,cAA5C,uCAAqC;;IAG7C,YAA2D;MAA9C,IAAI,EAAC,WAAW;MAAE,KAAK,EAAE,UAAK"}