{"version":3,"file":"pages/template/scroll-sticky/scroll-sticky.uvue","names":[],"sources":["pages/template/scroll-sticky/scroll-sticky.uvue"],"sourcesContent":["<template>\r\n\t<scroll-view ref=\"scroll\" @scroll=\"onScroll\" class=\"page\" rebound=\"false\">\r\n\t\t<view class=\"content-item\">\r\n\t\t\t<text class=\"text\">向上滑动页面，体验元素吸顶效果。</text>\r\n\t\t</view>\r\n\t\t<view v-for=\"(item,index) in list\" :key=\"index\" class=\"content-item\">\r\n\t\t\t<text class=\"text\">first content-{{item}}</text>\r\n\t\t</view>\r\n\r\n\t\t<view ref=\"sticky\" class=\"search\">\r\n\t\t\t<view style=\"flex-direction: row;\">\r\n\t\t\t\t<image src=\"/static/template/scroll-fold-nav/search.png\" style=\"width: 15px;\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text class=\"search-tip-text\">请输入你要搜索的内容</text>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"search-btn\">搜索</text>\r\n\t\t</view>\r\n\r\n\t\t<view v-for=\"(item,index) in list\" :key=\"index\" class=\"content-item\">\r\n\t\t\t<text class=\"text\">second content-{{item}}</text>\r\n\t\t</view>\r\n\r\n\t\t<view v-for=\"(item,index) in list\" :key=\"index\" class=\"content-item\">\r\n\t\t\t<text class=\"text\">second content-{{item}}</text>\r\n\t\t</view>\r\n\r\n\t</scroll-view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15'],\r\n\t\t\t\tstickyTop: 0,\r\n\t\t\t\tstickyTran: 0,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tstickyNode: null as UniElement | null\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonScroll(e : ScrollEvent) {\r\n\t\t\t\tif (e.detail.scrollTop > this.stickyTop) {\r\n\t\t\t\t\tlet stickyTran = e.detail.scrollTop - this.stickyTop;\r\n\t\t\t\t\tif (stickyTran != this.stickyTran) {\r\n\t\t\t\t\t\tthis.stickyNode?.style?.setProperty('transform', 'translateY(' + stickyTran + 'px)');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.stickyTran = stickyTran;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.stickyNode?.style?.setProperty('transform', '');\r\n\t\t\t\t\tthis.stickyTran = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tsuccess(result) {\r\n\t\t\t\t\t\tconsole.log('navigateBack success', result.errMsg)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(error) {\r\n\t\t\t\t\t\tconsole.log('navigateBack fail', error.errMsg)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete(result) {\r\n\t\t\t\t\t\tconsole.log('navigateBack complete', result.errMsg)\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.stickyNode = this.$refs['sticky'] as UniElement;\r\n\t\t\t// let rect = this.stickyNode?.getBoundingClientRect();\r\n\t\t\t// this.stickyTop = rect?.top;\r\n\t\t\t//this.stickyTop = this.stickyNode?.getBoundingClientRect()?.top;\r\n\t\t\tconst stickyRect = (this.$refs['sticky'] as UniElement).getBoundingClientRect();\n      const scrollRect = (this.$refs['scroll'] as UniElement).getBoundingClientRect();\r\n\t\t\tthis.stickyTop = stickyRect.top - scrollRect.top;\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.page {\r\n\t\tflex: 1;\r\n\t\tpadding: 0 15px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.content-item {\r\n\t\tpadding: 15px;\r\n\t\tmargin: 5px 0;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 5px;\r\n\r\n\t}\r\n\r\n\t.text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.search {\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder: 1px solid #fbdf0d;\r\n\t\theight: 35px;\r\n\t\tborder-radius: 100px;\r\n\t\tmargin: 0 12px;\r\n\t\tpadding: 8px;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.search-tip-text {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.search-btn {\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: #ff6900;\r\n\t\tcolor: #FFF;\r\n\t\tpadding: 5px 8px;\r\n\t\tborder-radius: 100px;\r\n\t}\r\n</style>\n"],"mappings":";CA6BC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;GACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACvF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;GACrC;EACD,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;GACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACzB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;KACxC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACpD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACrF;KACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B,EAAE,CAAC,CAAC,CAAC,EAAE;KACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,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"}