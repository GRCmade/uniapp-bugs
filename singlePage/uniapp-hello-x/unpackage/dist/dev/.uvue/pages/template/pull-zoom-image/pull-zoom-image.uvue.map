{"version":3,"file":"pages/template/pull-zoom-image/pull-zoom-image.uvue","names":[],"sources":["pages/template/pull-zoom-image/pull-zoom-image.uvue"],"sourcesContent":["<template>\n  <view @click=\"back\" class=\"nav-back\">\n    <image class=\"back-img\" src=\"/static/template/pull-zoom-image/back.png\" mode=\"widthFix\"></image>\n  </view>\n  <scroll-view style=\"flex:1;\" :refresher-enabled=\"true\"\n    refresher-default-style=\"none\" @refresherpulling=\"onRefresherpulling\"\n    :refresher-threshold=\"300\" :refresher-max-drag-distance=\"299\"\n    @scroll=\"onScroll\" :rebound=\"false\"\n    >\n    <view class=\"head-img-box-2\" ref=\"head-img-box-2\">\n      <image class=\"img\" ref=\"head-img-2\" src=\"../../../static/template/pull-zoom-image/head-img.jpg\" mode=\"scaleToFill\"></image>\n    </view>\n    <view class=\"user-info\" ref=\"user-info\">\n      <image class=\"user-avatar\" src=\"../../../static/test-image/logo.png\" mode=\"widthFix\"></image>\n      <view class=\"font-box\">\n        <text class=\"username\">uni-app-x</text>\n        <text class=\"slogan\">一次开发，多端覆盖</text>\n      </view>\n    </view>\n    <view class=\"list-box\">\n      <view class=\"item\" v-for=\"(item,index) in 30\" :key=\"index\">\n        <text class=\"text\">{{item}}. 占位</text>\n      </view>\n    </view>\n\n\n    <view slot=\"refresher\">\n      <view class=\"head-img-box-1\">\n        <image class=\"img\" ref=\"head-img-1\" src=\"/static/template/pull-zoom-image/head-img.jpg\" mode=\"scaleToFill\"></image>\n      </view>\n    </view>\n\n\n  </scroll-view>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        $elementMap: new Map<string, UniElement>()\n      }\n    },\n    methods: {\n      onScroll(e : ScrollEvent) {\n        const {scrollTop} = e.detail\n        let y : number = scrollTop - 110\n        let s : number = (100 - scrollTop/3)/100\n        if(y < 0){\n          y = 0\n        }\n        if(s < 0.7){\n          s = 0.7\n        }\n        let x : number = (1 - s) * -100\n        this.setElementStyle(\"user-info\", \"transform\", `translate(${x}px, ${y + (s-1)* -50}px) scale(${s})`)\n        this.setElementStyle(\"head-img-box-2\", \"transform\", `translateY(${y}px)`)\n      },\n      onRefresherpulling(e : RefresherEvent) {\n        // console.log('onRefresherpulling',e.detail.dy)\n        let pullingDistance : number = e.detail.dy\n        this.setElementStyle(\"head-img-1\", 'transform', `scale(${pullingDistance / 200 + 1})`)\n        this.setElementStyle(\"head-img-2\", 'transform', `scale(${pullingDistance / 200 + 1})`)\n      },\n      // 工具方法，用于快速设置 Element 的 style\n      setElementStyle(refName : string, propertyName : string, propertyStyle : any) : void {\n        let element : UniElement | null = (this.$data['$elementMap'] as Map<string, UniElement>).get(refName)\n        if (element == null) {\n          element = this.$refs[refName] as UniElement;\n          (this.$data['$elementMap'] as Map<string, UniElement>).set(refName, element)\n        }\n        element.style.setProperty(propertyName, propertyStyle);\n      },\n      back() {\n        uni.navigateBack({\n          success(result) {\n            console.log('navigateBack success', result.errMsg)\n          },\n          fail(error) {\n            console.log('navigateBack fail', error.errMsg)\n          },\n          complete(result) {\n            console.log('navigateBack complete', result.errMsg)\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style>\n  .head-img-box-1,\n  .head-img-box-2\n  {\n    position: relative;\n    height: 300px;\n  }\n\n  .head-img-box-1 .img,\n  .head-img-box-2 .img\n  {\n    position: absolute;\n    left: -125rpx;\n    width: 1000rpx;\n    height: 600px;\n  }\n\n  .head-img-box-1 .img {\n    top: 0;\n  }\n\n  .head-img-box-2 .img {\n    bottom: -100;\n  }\n\n  .head-img-box-2 {\n    z-index: 9;\n    height: 200px;\n  }\n\n  .user-info{\n    margin-top: -110px;\n    width: 750rpx;\n    padding: 15px;\n    flex-direction: row;\n    z-index: 10;\n  }\n\n  .user-info .user-avatar {\n    width: 75px;\n    height: 75px;\n    border-radius: 100px;\n    border: 3px solid #FFF;\n  }\n\n  .user-info .font-box {\n    flex-direction: column;\n    justify-content: space-around;\n    padding: 10px;\n  }\n\n  .user-info .username {\n    font-size: 26px;\n    color: #FFF;\n  }\n\n  .user-info .slogan {\n    font-size: 16px;\n    color: #FFF;\n  }\n\n\n  .list-box {\n    background-color: #FFF;\n    z-index: 1;\n  }\n\n  .list-box .item {\n    padding: 10px;\n    margin: 5px;\n    border-radius: 5px;\n    border: 1px solid rgba(220, 220, 220, 0.3);\n  }\n\n  .list-box .text {\n    font-size: 14px;\n    color: #666;\n    line-height: 20px;\n  }\n\n  .nav-back {\n    position: absolute;\n    top: 30px;\n    left: 10px;\n    border-radius: 100px;\n    width: 28px;\n    height: 28px;\n    justify-content: center;\n    align-items: center;\n    z-index: 10;\n  }\n\n  .nav-back .back-img {\n    width: 18px;\n    height: 18px;\n  }\n</style>\n"],"mappings":";EAqCE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3C;IACF,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACxB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAC/B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;UACP,EAAE,EAAE;QACN;QACA,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;UACT,EAAE,EAAE,CAAC,CAAC;QACR;QACA,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1E,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACrC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QACrF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MACvF,CAAC;MACD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE;QACnF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,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"}