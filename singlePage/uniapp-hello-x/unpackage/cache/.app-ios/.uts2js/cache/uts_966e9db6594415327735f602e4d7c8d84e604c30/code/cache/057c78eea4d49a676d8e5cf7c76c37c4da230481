{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            list: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15'],\n            stickyTop: 0,\n            stickyTran: 0,\n            scrollTop: 0,\n            stickyNode: null\n        };\n    },\n    methods: {\n        onScroll(e) {\n            var _a, _b, _c, _d;\n            if (e.detail.scrollTop > this.stickyTop) {\n                let stickyTran = e.detail.scrollTop - this.stickyTop;\n                if (stickyTran != this.stickyTran) {\n                    (_b = (_a = this.stickyNode) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.setProperty('transform', 'translateY(' + stickyTran + 'px)');\n                }\n                this.stickyTran = stickyTran;\n            }\n            else {\n                (_d = (_c = this.stickyNode) === null || _c === void 0 ? void 0 : _c.style) === null || _d === void 0 ? void 0 : _d.setProperty('transform', '');\n                this.stickyTran = 0;\n            }\n        },\n        back() {\n            uni.navigateBack({\n                success(result = null) {\n                    uni.__log__('log', 'at pages/template/scroll-sticky/scroll-sticky.uvue:56', 'navigateBack success', result.errMsg);\n                },\n                fail(error) {\n                    uni.__log__('log', 'at pages/template/scroll-sticky/scroll-sticky.uvue:59', 'navigateBack fail', error.errMsg);\n                },\n                complete(result) {\n                    uni.__log__('log', 'at pages/template/scroll-sticky/scroll-sticky.uvue:62', 'navigateBack complete', result.errMsg);\n                },\n            });\n        }\n    },\n    onLoad() {\n    },\n    onReady() {\n        this.stickyNode = this.$refs['sticky'];\n        // let rect = this.stickyNode?.getBoundingClientRect();\n        // this.stickyTop = rect?.top;\n        //this.stickyTop = this.stickyNode?.getBoundingClientRect()?.top;\n        const stickyRect = this.$refs['sticky'].getBoundingClientRect();\n        const scrollRect = this.$refs['scroll'].getBoundingClientRect();\n        this.stickyTop = stickyRect.top - scrollRect.top;\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/template/scroll-sticky/scroll-sticky.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.navigateBack","uni.__log__"],"map":"{\"version\":3,\"file\":\"scroll-sticky.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"scroll-sticky.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC,+BAAe;IACd,IAAI;QACH,OAAO;YACN,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;YACvF,SAAS,EAAE,CAAC;YACZ,UAAU,EAAE,CAAC;YACb,SAAS,EAAE,CAAC;YACZ,UAAU,EAAE,IAAyB;SACrC,CAAA;IACF,CAAC;IACD,OAAO,EAAE;QACR,QAAQ,CAAC,CAAe;;YACvB,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,EAAE;gBACxC,IAAI,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACrD,IAAI,UAAU,IAAI,IAAI,CAAC,UAAU,EAAE;oBAClC,MAAA,MAAA,IAAI,CAAC,UAAU,0CAAE,KAAK,0CAAE,WAAW,CAAC,WAAW,EAAE,aAAa,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC;iBACrF;gBACD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;aAC7B;iBAAM;gBACN,MAAA,MAAA,IAAI,CAAC,UAAU,0CAAE,KAAK,0CAAE,WAAW,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;gBACrD,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;aACpB;QACF,CAAC;QACD,IAAI;YACH,GAAG,CAAC,YAAY,CAAC;gBAChB,OAAO,CAAC,MAAM,OAAA;oBACb,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,uDAAuD,EAAC,sBAAsB,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;gBACjH,CAAC;gBACD,IAAI,CAAC,KAAK;oBACT,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,uDAAuD,EAAC,mBAAmB,EAAE,KAAK,CAAC,MAAM,CAAC,CAAA;gBAC7G,CAAC;gBACD,QAAQ,CAAC,MAAM;oBACd,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,uDAAuD,EAAC,uBAAuB,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;gBAClH,CAAC;aACD,CAAC,CAAA;QACH,CAAC;KACD;IACD,MAAM;IACN,CAAC;IACD,OAAO;QACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAe,CAAC;QACrD,uDAAuD;QACvD,8BAA8B;QAC9B,iEAAiE;QACjE,MAAM,UAAU,GAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAgB,CAAC,qBAAqB,EAAE,CAAC;QAC7E,MAAM,UAAU,GAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAgB,CAAC,qBAAqB,EAAE,CAAC;QACnF,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;IAClD,CAAC;CACD,EAAA\"}"}
