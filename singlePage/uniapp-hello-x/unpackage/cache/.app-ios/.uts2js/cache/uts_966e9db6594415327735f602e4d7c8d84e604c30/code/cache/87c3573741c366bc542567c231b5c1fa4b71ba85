{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            $elementMap: new Map()\n        };\n    },\n    methods: {\n        onScroll(e) {\n            const scrollTop = e.detail.scrollTop;\n            let y = scrollTop - 110;\n            let s = (100 - scrollTop / 3) / 100;\n            if (y < 0) {\n                y = 0;\n            }\n            if (s < 0.7) {\n                s = 0.7;\n            }\n            let x = (1 - s) * -100;\n            this.setElementStyle(\"user-info\", \"transform\", `translate(${x}px, ${y + (s - 1) * -50}px) scale(${s})`);\n            this.setElementStyle(\"head-img-box-2\", \"transform\", `translateY(${y}px)`);\n        },\n        onRefresherpulling(e) {\n            // uni.__log__('log','at pages/template/pull-zoom-image/pull-zoom-image.uvue:60','onRefresherpulling',e.detail.dy)\n            let pullingDistance = e.detail.dy;\n            this.setElementStyle(\"head-img-1\", 'transform', `scale(${pullingDistance / 200 + 1})`);\n            this.setElementStyle(\"head-img-2\", 'transform', `scale(${pullingDistance / 200 + 1})`);\n        },\n        // 工具方法，用于快速设置 Element 的 style\n        setElementStyle(refName, propertyName, propertyStyle = null) {\n            let element = UTS.mapGet(this.$data['$elementMap'], refName);\n            if (element == null) {\n                element = this.$refs[refName];\n                this.$data['$elementMap'].set(refName, element);\n            }\n            element.style.setProperty(propertyName, propertyStyle);\n        },\n        back() {\n            uni.navigateBack({\n                success(result = null) {\n                    uni.__log__('log', 'at pages/template/pull-zoom-image/pull-zoom-image.uvue:77', 'navigateBack success', result.errMsg);\n                },\n                fail(error) {\n                    uni.__log__('log', 'at pages/template/pull-zoom-image/pull-zoom-image.uvue:80', 'navigateBack fail', error.errMsg);\n                },\n                complete(result) {\n                    uni.__log__('log', 'at pages/template/pull-zoom-image/pull-zoom-image.uvue:83', 'navigateBack complete', result.errMsg);\n                }\n            });\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/template/pull-zoom-image/pull-zoom-image.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.navigateBack","uni.__log__"],"map":"{\"version\":3,\"file\":\"pull-zoom-image.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"pull-zoom-image.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACE,+BAAe;IACb,IAAI;QACF,OAAO;YACL,WAAW,EAAE,IAAI,GAAG,EAAsB;SAC3C,CAAA;IACH,CAAC;IACD,OAAO,EAAE;QACP,QAAQ,CAAC,CAAe;YACf,MAAA,SAAS,GAAI,CAAC,CAAC,MAAM,UAAZ,CAAY;YAC5B,IAAI,CAAC,GAAY,SAAS,GAAG,GAAG,CAAA;YAChC,IAAI,CAAC,GAAY,CAAC,GAAG,GAAG,SAAS,GAAC,CAAC,CAAC,GAAC,GAAG,CAAA;YACxC,IAAG,CAAC,GAAG,CAAC,EAAC;gBACP,CAAC,GAAG,CAAC,CAAA;aACN;YACD,IAAG,CAAC,GAAG,GAAG,EAAC;gBACT,CAAC,GAAG,GAAG,CAAA;aACR;YACD,IAAI,CAAC,GAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAA;YAC/B,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,WAAW,EAAE,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,CAAC,GAAE,CAAC,EAAE,aAAa,CAAC,GAAG,CAAC,CAAA;YACpG,IAAI,CAAC,eAAe,CAAC,gBAAgB,EAAE,WAAW,EAAE,cAAc,CAAC,KAAK,CAAC,CAAA;QAC3E,CAAC;QACD,kBAAkB,CAAC,CAAkB;YACnC,kHAAkH;YAClH,IAAI,eAAe,GAAY,CAAC,CAAC,MAAM,CAAC,EAAE,CAAA;YAC1C,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,eAAe,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAA;YACtF,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,eAAe,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAA;QACxF,CAAC;QACD,8BAA8B;QAC9B,eAAe,CAAC,OAAgB,EAAE,YAAqB,EAAE,oBAAmB;YAC1E,IAAI,OAAO,cAAwB,IAAI,CAAC,KAAK,CAAC,aAAa,CAA6B,EAAK,OAAO,CAAC,CAAA;YACrG,IAAI,OAAO,IAAI,IAAI,EAAE;gBACnB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAe,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,aAAa,CAA6B,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;aAC7E;YACD,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;QACzD,CAAC;QACD,IAAI;YACF,GAAG,CAAC,YAAY,CAAC;gBACf,OAAO,CAAC,MAAM,OAAA;oBACZ,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,2DAA2D,EAAC,sBAAsB,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;gBACtH,CAAC;gBACD,IAAI,CAAC,KAAK;oBACR,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,2DAA2D,EAAC,mBAAmB,EAAE,KAAK,CAAC,MAAM,CAAC,CAAA;gBAClH,CAAC;gBACD,QAAQ,CAAC,MAAM;oBACb,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,2DAA2D,EAAC,uBAAuB,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;gBACvH,CAAC;aACF,CAAC,CAAA;QACJ,CAAC;KACF;CACF,EAAA\"}"}
