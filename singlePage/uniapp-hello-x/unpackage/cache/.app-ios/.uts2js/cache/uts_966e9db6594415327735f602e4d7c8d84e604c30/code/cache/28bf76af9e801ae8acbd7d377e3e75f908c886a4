{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            osThemeChangeId: 0,\n            appThemeChangeId: 0,\n            osTheme: \"light\",\n            appTheme: \"light\",\n            originalTheme: \"light\",\n            current: 0,\n            items: [\n                \"light\",\n                \"dark\",\n                \"auto\"\n            ]\n        };\n    },\n    methods: {\n        bindOsThemeChange() {\n            //注册osTheme变化监听\n            return uni.onOsThemeChange((res) => {\n                this.osTheme = res.osTheme;\n            });\n        },\n        bindAppThemeChange() {\n            //注册appTheme变化监听\n            return uni.onAppThemeChange((res) => {\n                this.appTheme = res.appTheme;\n            });\n        },\n        radioChange(e) {\n            const theme = e.detail.value;\n            this.setAppTheme(theme);\n            uni.showToast({\n                icon: 'none',\n                title: '当前选中:' + theme,\n            });\n        },\n        setAppTheme(value) {\n            uni.setAppTheme({\n                theme: value,\n                success: function () {\n                    uni.__log__('log', 'at pages/API/theme-change/theme-change.uvue:72', \"设置appTheme为\", value, \"成功\");\n                },\n                fail: function (e) {\n                    uni.__log__('log', 'at pages/API/theme-change/theme-change.uvue:75', \"设置appTheme为\", value, \"失败,原因:\", e.errMsg);\n                }\n            });\n        }\n    },\n    onReady() {\n        uni.getSystemInfo({\n            success: (res) => {\n                this.osTheme = res.osTheme;\n                this.originalTheme = res.appTheme;\n                this.appTheme = res.appTheme == \"auto\" ? res.osTheme : res.appTheme;\n                this.current = this.items.indexOf(res.appTheme);\n            }\n        });\n        this.osThemeChangeId = this.bindOsThemeChange();\n        this.appThemeChangeId = this.bindAppThemeChange();\n    },\n    onUnload() {\n        //注销监听\n        uni.offAppThemeChange(this.appThemeChangeId);\n        uni.offOsThemeChange(this.osThemeChangeId);\n        uni.showToast({\n            \"position\": \"bottom\",\n            \"title\": \"已停止监听主题切换\"\n        });\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/API/theme-change/theme-change.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.onOsThemeChange","uni.onAppThemeChange","uni.showToast","uni.setAppTheme","uni.__log__","uni.getSystemInfo","uni.offAppThemeChange","uni.offOsThemeChange"],"map":"{\"version\":3,\"file\":\"theme-change.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"theme-change.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACE,+BAAe;IACb,IAAI;QACF,OAAO;YACL,eAAe,EAAE,CAAC;YAClB,gBAAgB,EAAE,CAAC;YACnB,OAAO,EAAE,OAAiB;YAC1B,QAAQ,EAAE,OAAiB;YAC3B,aAAa,EAAE,OAAiB;YAChC,OAAO,EAAE,CAAC;YACV,KAAK,EAAE;gBACL,OAAO;gBACP,MAAM;gBACN,MAAM;aACK;SACd,CAAA;IACH,CAAC;IACD,OAAO,EAAE;QACP,iBAAiB;YACf,eAAe;YACf,OAAO,GAAG,CAAC,eAAe,CAAC,CAAC,GAAwB;gBAClD,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAA;YAC5B,CAAC,CAAC,CAAA;QACJ,CAAC;QACD,kBAAkB;YAChB,gBAAgB;YAChB,OAAO,GAAG,CAAC,gBAAgB,CAAC,CAAC,GAAyB;gBACpD,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAA;YAC9B,CAAC,CAAC,CAAA;QACJ,CAAC;QACD,WAAW,CAAC,CAA4B;YACtC,MAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAA;YAC5B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;YACvB,GAAG,CAAC,SAAS,CAAC;gBACZ,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,OAAO,GAAC,KAAK;aACrB,CAAC,CAAA;QACJ,CAAC;QACD,WAAW,CAAC,KAAa;YACvB,GAAG,CAAC,WAAW,CAAC;gBACd,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE;oBACP,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,gDAAgD,EAAC,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;gBAChG,CAAC;gBACD,IAAI,EAAE,UAAS,CAAgB;oBAC7B,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,gDAAgD,EAAC,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,CAAA;gBAC9G,CAAC;aACF,CAAC,CAAA;QACJ,CAAC;KACF;IACD,OAAO;QACL,GAAG,CAAC,aAAa,CAAC;YAChB,OAAO,EAAE,CAAC,GAAuB;gBAC/B,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAQ,CAAA;gBAC3B,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,QAAS,CAAA;gBAClC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,OAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,QAAS,CAAA;gBACrE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,QAAS,CAAC,CAAA;YAClD,CAAC;SACF,CAAC,CAAA;QACF,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAA;QAC/C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAA;IACnD,CAAC;IACD,QAAQ;QACN,MAAM;QACN,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;QAC5C,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAA;QAC1C,GAAG,CAAC,SAAS,CAAC;YACZ,UAAU,EAAC,QAAQ;YACnB,OAAO,EAAC,WAAW;SACpB,CAAC,CAAA;IACJ,CAAC;CACF,EAAA\"}"}
