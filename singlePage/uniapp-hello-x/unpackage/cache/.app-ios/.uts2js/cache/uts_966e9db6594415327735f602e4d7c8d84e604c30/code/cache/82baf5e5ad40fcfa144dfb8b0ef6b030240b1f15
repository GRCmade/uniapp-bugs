{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            title: '云存储'\n        };\n    },\n    onLoad() {\n    },\n    onUnload() {\n    },\n    methods: {\n        uploadFile: function () {\n            uni.chooseImage({\n                count: 1,\n                success(res) {\n                    uni.showLoading({\n                        title: '上传中...'\n                    });\n                    const tempFilePath = res.tempFilePaths[0];\n                    uniCloud.uploadFile({\n                        filePath: tempFilePath,\n                        cloudPath: 'test.jpg'\n                    })\n                        .then(function (res) {\n                        uni.hideLoading();\n                        uni.__log__('log', 'at pages/API/unicloud-file-api/unicloud-file-api.uvue:44', res);\n                        uni.showModal({\n                            content: '上传成功',\n                            showCancel: false\n                        });\n                    })\n                        .catch(function (err = null) {\n                        uni.hideLoading();\n                        const error = err;\n                        uni.showModal({\n                            content: '上传失败，' + error.errMsg,\n                            showCancel: false\n                        });\n                    });\n                    // .finally((_: number) : void => {\n                    //   uni.hideLoading()\n                    // })\n                },\n                fail(err) {\n                    uni.__log__('error', 'at pages/API/unicloud-file-api/unicloud-file-api.uvue:63', 'chooseImage fail: ', err);\n                }\n            });\n        },\n        chooseAndUploadFile() {\n            uniCloud.chooseAndUploadFile({\n                type: 'image'\n            }).then(function (res) {\n                uni.hideLoading();\n                uni.__log__('log', 'at pages/API/unicloud-file-api/unicloud-file-api.uvue:72', res);\n                uni.showModal({\n                    content: '上传成功',\n                    showCancel: false\n                });\n            })\n                .catch(function (err = null) {\n                uni.hideLoading();\n                const error = err;\n                uni.showModal({\n                    content: '上传失败，' + error.errMsg,\n                    showCancel: false\n                });\n            });\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/API/unicloud-file-api/unicloud-file-api.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.chooseImage","uni.showLoading","uniCloud.uploadFile","uni.hideLoading","uni.__log__","uni.showModal","uniCloud.chooseAndUploadFile"],"map":"{\"version\":3,\"file\":\"unicloud-file-api.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"unicloud-file-api.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACE,+BAAe;IACb,IAAI;QACF,OAAO;YACL,KAAK,EAAE,KAAK;SACb,CAAA;IACH,CAAC;IACD,MAAM;IACN,CAAC;IACD,QAAQ;IACR,CAAC;IACD,OAAO,EAAE;QACP,UAAU,EAAE;YACV,GAAG,CAAC,WAAW,CAAC;gBACd,KAAK,EAAE,CAAC;gBACR,OAAO,CAAC,GAAG;oBACT,GAAG,CAAC,WAAW,CAAC;wBACd,KAAK,EAAE,QAAQ;qBAChB,CAAC,CAAA;oBACF,MAAM,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAA;oBACzC,QAAQ,CAAC,UAAU,CAAC;wBAClB,QAAQ,EAAE,YAAY;wBACtB,SAAS,EAAE,UAAU;qBACtB,CAAC;yBACC,IAAI,CAAC,UAAU,GAAG;wBACjB,GAAG,CAAC,WAAW,EAAE,CAAA;wBACjB,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,0DAA0D,EAAC,GAAG,CAAC,CAAA;wBACjF,GAAG,CAAC,SAAS,CAAC;4BACZ,OAAO,EAAE,MAAM;4BACf,UAAU,EAAE,KAAK;yBAClB,CAAC,CAAC;oBACL,CAAC,CAAC;yBACD,KAAK,CAAC,UAAU,UAAgB;wBAC/B,GAAG,CAAC,WAAW,EAAE,CAAA;wBACjB,MAAM,KAAK,GAAG,GAAoB,CAAA;wBAClC,GAAG,CAAC,SAAS,CAAC;4BACZ,OAAO,EAAE,OAAO,GAAG,KAAK,CAAC,MAAM;4BAC/B,UAAU,EAAE,KAAK;yBAClB,CAAC,CAAC;oBACL,CAAC,CAAC,CAAA;oBACJ,mCAAmC;oBACnC,sBAAsB;oBACtB,KAAK;gBACP,CAAC;gBACD,IAAI,CAAC,GAAG;oBACN,GAAG,CAAC,OAAO,CAAC,OAAO,EAAC,0DAA0D,EAAC,oBAAoB,EAAE,GAAG,CAAC,CAAA;gBAC3G,CAAC;aACF,CAAC,CAAA;QACJ,CAAC;QACD,mBAAmB;YACjB,QAAQ,CAAC,mBAAmB,CAAC;gBAC3B,IAAI,EAAE,OAAO;aACd,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG;gBACjB,GAAG,CAAC,WAAW,EAAE,CAAA;gBACjB,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,0DAA0D,EAAC,GAAG,CAAC,CAAA;gBACjF,GAAG,CAAC,SAAS,CAAC;oBACZ,OAAO,EAAE,MAAM;oBACf,UAAU,EAAE,KAAK;iBAClB,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,UAAU,UAAgB;gBAC/B,GAAG,CAAC,WAAW,EAAE,CAAA;gBACjB,MAAM,KAAK,GAAG,GAAoB,CAAA;gBAClC,GAAG,CAAC,SAAS,CAAC;oBACZ,OAAO,EAAE,OAAO,GAAG,KAAK,CAAC,MAAM;oBAC/B,UAAU,EAAE,KAAK;iBAClB,CAAC,CAAC;YACL,CAAC,CAAC,CAAA;QACN,CAAC;KACF;CACF,EAAA\"}"}
