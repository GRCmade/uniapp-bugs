{"code":"import { defineComponent } from \"vue\";\nclass ScrollEventTest extends UTS.UTSType {\n    static get$UTSMetadata$() {\n        return {\n            kind: 2,\n            get fields() {\n                return {\n                    type: { type: String, optional: false },\n                    target: { type: \"Unknown\", optional: true },\n                    currentTarget: { type: \"Unknown\", optional: true },\n                    direction: { type: String, optional: true }\n                };\n            }\n        };\n    }\n    constructor(options, metadata = ScrollEventTest.get$UTSMetadata$(), isJSONParse = false) {\n        super();\n        this.__props__ = UTS.UTSType.initProps(options, metadata, isJSONParse);\n        this.type = this.__props__.type;\n        this.target = this.__props__.target;\n        this.currentTarget = this.__props__.currentTarget;\n        this.direction = this.__props__.direction;\n        delete this.__props__;\n    }\n}\nexport default defineComponent({\n    data() {\n        return {\n            scrollTop: 0,\n            oldScrollTop: 0,\n            scrollLeft: 120,\n            showScrollbar: true,\n            // 自动化测试\n            isScrollTest: '',\n            isScrolltolowerTest: '',\n            isScrolltoupperTest: '',\n            // 在web端scroll事件event参数中detail类型报错，先条件编译处理\n            scrollDetailTest: null,\n            scrollEndDetailTest: null,\n        };\n    },\n    methods: {\n        upper: function (e) {\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view.uvue:92', '滚动到顶部/左边', e);\n            this.checkEventTest(new ScrollEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                direction: e.detail.direction,\n            }), 'scrolltoupper');\n        },\n        lower: function (e) {\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view.uvue:101', '滚动到底部/右边', e);\n            this.checkEventTest(new ScrollEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                direction: e.detail.direction,\n            }), 'scrolltolower');\n        },\n        scroll: function (e) {\n            this.scrollDetailTest = e.detail;\n            this.checkEventTest(new ScrollEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget\n            }), 'scroll');\n            this.oldScrollTop = e.detail.scrollTop;\n        },\n        end: function (e) {\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view.uvue:121', '滚动结束时触发', e);\n            this.scrollEndDetailTest = e.detail;\n            this.checkEventTest(new ScrollEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget\n            }), 'scrollend');\n        },\n        goTop: function () {\n            // 解决view层不同步的问题\n            this.scrollTop = this.oldScrollTop;\n            this.$nextTick(function () {\n                this.scrollTop = 0;\n            });\n            uni.showToast({\n                icon: 'none',\n                title: '纵向滚动 scrollTop 值已被修改为 0',\n            });\n        },\n        // 自动化测试专用（由于事件event参数对象中存在循环引用，在ios端JSON.stringify报错，自动化测试无法page.data获取）\n        checkEventTest(e, eventName) {\n            const isPass = e.type === eventName && UTS.isInstanceOf(e.target, UniElement) && UTS.isInstanceOf(e.currentTarget, UniElement);\n            const result = isPass ? `${eventName}:Success` : `${eventName}:Fail`;\n            switch (eventName) {\n                case 'scroll':\n                    this.isScrollTest = result;\n                    break;\n                case 'scrolltolower':\n                    this.isScrolltolowerTest = result + `-${e.direction}`;\n                    break;\n                case 'scrolltoupper':\n                    this.isScrolltoupperTest = result + `-${e.direction}`;\n                    break;\n                default:\n                    break;\n            }\n        },\n    },\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/scroll-view/scroll-view.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.__log__","uni.showToast"],"map":"{\"version\":3,\"file\":\"scroll-view.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"scroll-view.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
