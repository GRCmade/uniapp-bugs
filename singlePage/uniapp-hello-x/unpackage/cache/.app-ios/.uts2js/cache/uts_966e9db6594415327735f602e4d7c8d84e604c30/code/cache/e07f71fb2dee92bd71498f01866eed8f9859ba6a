{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            move: false,\n            posX: 0,\n            posY: 0,\n            lastX: 0,\n            lastY: 0,\n            touchEvent: null,\n            icon: null\n        };\n    },\n    onReady() {\n        this.icon = uni.getElementById(\"icon\");\n    },\n    methods: {\n        onTouchStart(e) {\n            this.touchEvent = e;\n            if (!this.move) {\n                this.move = true;\n                this.posX = e.touches[0].screenX;\n                this.posY = e.touches[0].screenY;\n            }\n        },\n        onTouchMove(e) {\n            var _a, _b;\n            e.preventDefault();\n            this.touchEvent = e;\n            let p = e.touches[0];\n            if (p.screenX == this.lastX && p.screenY == this.lastY) {\n                return null;\n            }\n            let x = p.screenX - this.posX;\n            let y = p.screenY - this.posY;\n            this.lastX = p.screenX;\n            this.lastY = p.screenY;\n            (_b = (_a = this.icon) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.setProperty('transform', 'translate(' + x + 'px,' + y + 'px)');\n        },\n        onTouchEnd(e) {\n            if (e.touches.length == 0) {\n                this.resetIcon();\n                this.touchEvent = null;\n            }\n        },\n        onTouchCancel(_) {\n            this.resetIcon();\n            this.touchEvent = null;\n        },\n        resetIcon() {\n            var _a, _b;\n            this.move = false;\n            this.posX = 0;\n            this.posY = 0;\n            (_b = (_a = this.icon) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.setProperty('transform', 'translate(0px,0px)');\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/general-event/touch-event.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getElementById"],"map":"{\"version\":3,\"file\":\"touch-event.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"touch-event.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC,+BAAe;IACd,IAAI;QACH,OAAO;YACF,IAAI,EAAE,KAAK;YACX,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,CAAC;YACR,UAAU,EAAE,IAAyB;YACrC,IAAI,EAAE,IAAyB;SACnC,CAAA;IACF,CAAC;IACC,OAAO;QACL,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,cAAc,CAAC,MAAM,CAAC,CAAA;IACxC,CAAC;IACH,OAAO,EAAE;QACL,YAAY,CAAC,CAAa;YACxB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAA;YACnB,IAAG,CAAC,IAAI,CAAC,IAAI,EAAE;gBACb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;gBAChB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAA;gBAChC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAA;aACjC;QACH,CAAC;QACJ,WAAW,CAAC,CAAa;;YACpB,CAAC,CAAC,cAAc,EAAE,CAAA;YAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAA;YACnB,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;YACpB,IAAG,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,EAAC;gBACrD,YAAM;aACN;YACD,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAA;YAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAA;YAC3B,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,OAAO,CAAA;YACtB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,OAAO,CAAA;YACtB,MAAA,MAAA,IAAI,CAAC,IAAI,0CAAE,KAAK,0CAAE,WAAW,CAAC,WAAW,EAAE,YAAY,GAAC,CAAC,GAAC,KAAK,GAAC,CAAC,GAAC,KAAK,CAAC,CAAA;QAC1E,CAAC;QACD,UAAU,CAAC,CAAa;YACtB,IAAG,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;gBACxB,IAAI,CAAC,SAAS,EAAE,CAAA;gBAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;aACvB;QACH,CAAC;QACD,aAAa,CAAC,CAAa;YACzB,IAAI,CAAC,SAAS,EAAE,CAAA;YAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;QACxB,CAAC;QACD,SAAS;;YACP,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAClB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YACd,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YACd,MAAA,MAAA,IAAI,CAAC,IAAI,0CAAE,KAAK,0CAAE,WAAW,CAAC,WAAW,EAAE,oBAAoB,CAAC,CAAA;QAClE,CAAC;KACJ;CACD,EAAA\"}"}
