{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            mode: \"center\",\n            snapImage: \"/static/uni.png\"\n        };\n    },\n    methods: {\n        takeSnapshotClick() {\n            const view = uni.getElementById('snapshot-content');\n            view.takeSnapshot({\n                success: (res) => {\n                    uni.__log__('log', 'at pages/API/element-takesnapshot/element-takesnapshot.uvue:27', res.tempFilePath);\n                    this.snapImage = res.tempFilePath;\n                    this.mode = 'widthFix';\n                    uni.showToast({\n                        title: '截图成功，路径：' + res.tempFilePath,\n                        icon: \"none\"\n                    });\n                },\n                fail: (res) => {\n                    uni.__log__('log', 'at pages/API/element-takesnapshot/element-takesnapshot.uvue:36', res);\n                    uni.showToast({\n                        icon: 'error',\n                        title: '截图失败'\n                    });\n                }\n            });\n        },\n        saveToAlbum(e) {\n            // uni.__log__('log','at pages/API/element-takesnapshot/element-takesnapshot.uvue:45',e.currentTarget!.getAttribute(\"src\"));\n            let filePath = e.currentTarget.getAttribute(\"src\");\n            uni.showActionSheet({\n                itemList: [\"保存\"],\n                success: res => {\n                    // uni.__log__('log','at pages/API/element-takesnapshot/element-takesnapshot.uvue:50',res.tapIndex);\n                    if (res.tapIndex == 0) {\n                        uni.saveImageToPhotosAlbum({\n                            filePath: filePath,\n                            success() {\n                                uni.showToast({\n                                    position: \"center\",\n                                    icon: \"none\",\n                                    title: \"图片保存成功，请到手机相册查看\"\n                                });\n                            },\n                            fail(e) {\n                                uni.showModal({\n                                    content: \"保存相册失败，errCode：\" + e.errCode + \"，errMsg：\" + e.errMsg + \"，errSubject：\" + e.errSubject,\n                                    showCancel: false\n                                });\n                            }\n                        });\n                    }\n                },\n                fail: () => { },\n                complete: () => { }\n            });\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/API/element-takesnapshot/element-takesnapshot.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getElementById","uni.__log__","uni.showToast","uni.showActionSheet","uni.saveImageToPhotosAlbum","uni.showModal"],"map":"{\"version\":3,\"file\":\"element-takesnapshot.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"element-takesnapshot.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACE,+BAAe;IACb,IAAI;QACF,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,SAAS,EAAE,iBAAiB;SAC7B,CAAA;IACH,CAAC;IACD,OAAO,EAAE;QACP,iBAAiB;YACf,MAAM,IAAI,GAAG,GAAG,CAAC,cAAc,CAAC,kBAAkB,CAAE,CAAA;YACpD,IAAI,CAAC,YAAY,CAAC;gBAChB,OAAO,EAAE,CAAC,GAAG;oBACX,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,gEAAgE,EAAC,GAAG,CAAC,YAAY,CAAC,CAAA;oBACpG,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,YAAY,CAAA;oBACjC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAA;oBACtB,GAAG,CAAC,SAAS,CAAC;wBACZ,KAAK,EAAE,UAAU,GAAG,GAAG,CAAC,YAAY;wBACpC,IAAI,EAAE,MAAM;qBACb,CAAC,CAAA;gBACJ,CAAC;gBACD,IAAI,EAAE,CAAC,GAAG;oBACR,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,gEAAgE,EAAC,GAAG,CAAC,CAAA;oBACvF,GAAG,CAAC,SAAS,CAAC;wBACZ,IAAI,EAAE,OAAO;wBACb,KAAK,EAAE,MAAM;qBACd,CAAC,CAAA;gBACJ,CAAC;aACF,CAAC,CAAA;QACJ,CAAC;QACD,WAAW,CAAC,CAAc;YACxB,4HAA4H;YAC5H,IAAI,QAAQ,GAAY,CAAC,CAAC,aAAc,CAAC,YAAY,CAAC,KAAK,CAAW,CAAA;YACtE,GAAG,CAAC,eAAe,CAAC;gBAClB,QAAQ,EAAE,CAAC,IAAI,CAAC;gBAChB,OAAO,EAAE,GAAG;oBACV,oGAAoG;oBACpG,IAAI,GAAG,CAAC,QAAQ,IAAI,CAAC,EAAE;wBACrB,GAAG,CAAC,sBAAsB,CAAC;4BACzB,QAAQ,EAAE,QAAQ;4BAClB,OAAO;gCACL,GAAG,CAAC,SAAS,CAAC;oCACZ,QAAQ,EAAE,QAAQ;oCAClB,IAAI,EAAE,MAAM;oCACZ,KAAK,EAAE,iBAAiB;iCACzB,CAAC,CAAA;4BACJ,CAAC;4BACD,IAAI,CAAC,CAAC;gCACJ,GAAG,CAAC,SAAS,CAAC;oCACZ,OAAO,EAAE,iBAAiB,GAAG,CAAC,CAAC,OAAO,GAAG,UAAU,GAAG,CAAC,CAAC,MAAM,GAAG,cAAc,GAAG,CAAC,CAAC,UAAU;oCAC9F,UAAU,EAAE,KAAK;iCAClB,CAAC,CAAC;4BACL,CAAC;yBACF,CAAC,CAAA;qBACH;gBACH,CAAC;gBACD,IAAI,EAAE,QAAQ,CAAC;gBACf,QAAQ,EAAE,QAAQ,CAAC;aACpB,CAAC,CAAC;QACL,CAAC;KACF;CACF,EAAA\"}"}
