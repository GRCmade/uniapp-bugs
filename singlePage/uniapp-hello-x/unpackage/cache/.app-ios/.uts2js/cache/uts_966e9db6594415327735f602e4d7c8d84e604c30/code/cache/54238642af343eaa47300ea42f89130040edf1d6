{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            src: 'https://www.dcloud.io',\n            webview_styles: {\n                progress: {\n                    color: '#FF3333'\n                }\n            },\n            webviewContext: null,\n            loadError: false,\n            horizontalScrollBarAccess: true,\n            verticalScrollBarAccess: true,\n            // 自动化测试\n            autoTest: false,\n            eventLoading: null,\n            eventLoad: null,\n            eventError: null\n        };\n    },\n    onReady() {\n        // TODO web 实现createWebviewContext\n        this.webviewContext = uni.createWebviewContext('web-view', this);\n    },\n    methods: {\n        back() {\n            var _a;\n            (_a = this.webviewContext) === null || _a === void 0 ? void 0 : _a.back();\n        },\n        forward() {\n            var _a;\n            (_a = this.webviewContext) === null || _a === void 0 ? void 0 : _a.forward();\n        },\n        reload() {\n            var _a;\n            (_a = this.webviewContext) === null || _a === void 0 ? void 0 : _a.reload();\n        },\n        stop() {\n            var _a;\n            (_a = this.webviewContext) === null || _a === void 0 ? void 0 : _a.stop();\n        },\n        nativeToWeb() {\n            var _a;\n            (_a = this.webviewContext) === null || _a === void 0 ? void 0 : _a.evalJS(\"alert('hello uni-app x')\");\n        },\n        message(event) {\n            uni.__log__('log', 'at pages/component/web-view/web-view.uvue:84', UTS.JSON.stringify(event.detail));\n        },\n        error(event) {\n            var _a;\n            this.loadError = true;\n            uni.__log__('log', 'at pages/component/web-view/web-view.uvue:88', UTS.JSON.stringify(event.detail));\n            if (this.autoTest) {\n                this.eventError = new UTSJSONObject({\n                    \"tagName\": (_a = event.target) === null || _a === void 0 ? void 0 : _a.tagName,\n                    \"type\": event.type,\n                    \"errCode\": event.detail.errCode,\n                    \"errMsg\": event.detail.errMsg,\n                    \"url\": event.detail.url,\n                    \"fullUrl\": event.detail.fullUrl,\n                    \"src\": event.detail.src\n                });\n            }\n        },\n        loading(event) {\n            var _a;\n            uni.__log__('log', 'at pages/component/web-view/web-view.uvue:102', UTS.JSON.stringify(event.detail));\n            if (this.autoTest) {\n                this.eventLoading = new UTSJSONObject({\n                    \"tagName\": (_a = event.target) === null || _a === void 0 ? void 0 : _a.tagName,\n                    \"type\": event.type,\n                    \"src\": event.detail.src\n                });\n            }\n        },\n        load(event) {\n            var _a;\n            uni.__log__('log', 'at pages/component/web-view/web-view.uvue:112', UTS.JSON.stringify(event.detail));\n            if (this.autoTest) {\n                this.eventLoad = new UTSJSONObject({\n                    \"tagName\": (_a = event.target) === null || _a === void 0 ? void 0 : _a.tagName,\n                    \"type\": event.type,\n                    \"src\": event.detail.src\n                });\n            }\n        },\n        download(event) {\n            uni.__log__('log', 'at pages/component/web-view/web-view.uvue:122', UTS.JSON.stringify(event.detail));\n            uni.showModal({\n                content: \"下载链接: \" + event.detail.url + \"\\n文件大小: \" + event.detail.contentLength / 1024 + \"KB\",\n                showCancel: false\n            });\n        },\n        confirm(event) {\n            let url = event.detail.value;\n            if (!url.startsWith('https://') && !url.startsWith('http://')) {\n                url = 'https://' + url;\n            }\n            this.src = url;\n        },\n        changeHorizontalScrollBarAccess(event) {\n            this.horizontalScrollBarAccess = event.detail.value;\n        },\n        changeVerticalScrollBarAccess(event) {\n            this.verticalScrollBarAccess = event.detail.value;\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/web-view/web-view.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.createWebviewContext","uni.__log__","uni.showModal"],"map":"{\"version\":3,\"file\":\"web-view.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"web-view.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
