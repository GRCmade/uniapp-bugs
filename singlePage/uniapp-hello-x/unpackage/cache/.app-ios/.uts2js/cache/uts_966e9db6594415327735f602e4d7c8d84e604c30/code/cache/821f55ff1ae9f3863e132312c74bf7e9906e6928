{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            loadError: false,\n            loadFinish: false,\n            // 自动化测试\n            autoTest: false,\n            eventMessage: null,\n            eventDownload: null\n        };\n    },\n    methods: {\n        message(event) {\n            var _a;\n            uni.__log__('log', 'at pages/component/web-view-local/web-view-local.uvue:21', UTS.JSON.stringify(event.detail));\n            let contentStr = UTS.JSON.stringify(event.detail);\n            contentStr = UTS.JSON.stringify(event.detail.data[0]);\n            uni.showModal({\n                content: contentStr,\n                showCancel: false\n            });\n            if (this.autoTest) {\n                this.eventMessage = new UTSJSONObject({\n                    \"tagName\": (_a = event.target) === null || _a === void 0 ? void 0 : _a.tagName,\n                    \"type\": event.type,\n                    \"data\": event.detail.data\n                });\n            }\n        },\n        error(event) {\n            this.loadError = true;\n            uni.__log__('log', 'at pages/component/web-view-local/web-view-local.uvue:40', UTS.JSON.stringify(event.detail));\n        },\n        loading(event) {\n            uni.__log__('log', 'at pages/component/web-view-local/web-view-local.uvue:43', UTS.JSON.stringify(event.detail));\n        },\n        load(event) {\n            this.loadFinish = true;\n            uni.__log__('log', 'at pages/component/web-view-local/web-view-local.uvue:47', UTS.JSON.stringify(event.detail));\n        },\n        download(event) {\n            var _a;\n            uni.__log__('log', 'at pages/component/web-view-local/web-view-local.uvue:50', UTS.JSON.stringify(event.detail));\n            if (this.autoTest) {\n                const arr = event.detail.userAgent.split(' ');\n                this.eventDownload = new UTSJSONObject({\n                    \"tagName\": (_a = event.target) === null || _a === void 0 ? void 0 : _a.tagName,\n                    \"type\": event.type,\n                    \"url\": event.detail.url,\n                    \"userAgent\": arr[arr.length - 1],\n                    \"contentDisposition\": event.detail.contentDisposition,\n                    \"mimetype\": event.detail.mimetype,\n                    \"isContentLengthValid\": (event.detail.contentLength / 1024 / 1024).toInt() > 1\n                });\n            }\n        },\n        // 自动化测试\n        testEventDownload() {\n            var _a;\n            (_a = uni.createWebviewContext('web-view')) === null || _a === void 0 ? void 0 : _a.evalJS(\"document.getElementsByTagName('a')[0].click()\");\n        },\n        testEventMessage() {\n            var _a;\n            (_a = uni.createWebviewContext('web-view')) === null || _a === void 0 ? void 0 : _a.evalJS(\"document.getElementById('postMessage').click()\");\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/web-view-local/web-view-local.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.__log__","uni.showModal","uni.createWebviewContext"],"map":"{\"version\":3,\"file\":\"web-view-local.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"web-view-local.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
