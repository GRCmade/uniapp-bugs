{"code":"import { defineComponent } from \"vue\";\nclass RefresherEventTest extends UTS.UTSType {\n    static get$UTSMetadata$() {\n        return {\n            kind: 2,\n            get fields() {\n                return {\n                    type: { type: String, optional: false },\n                    target: { type: \"Unknown\", optional: true },\n                    currentTarget: { type: \"Unknown\", optional: true },\n                    dy: { type: Number, optional: false }\n                };\n            }\n        };\n    }\n    constructor(options, metadata = RefresherEventTest.get$UTSMetadata$(), isJSONParse = false) {\n        super();\n        this.__props__ = UTS.UTSType.initProps(options, metadata, isJSONParse);\n        this.type = this.__props__.type;\n        this.target = this.__props__.target;\n        this.currentTarget = this.__props__.currentTarget;\n        this.dy = this.__props__.dy;\n        delete this.__props__;\n    }\n}\nexport default defineComponent({\n    data() {\n        return {\n            item_count: 20,\n            list_show: false,\n            refresherTriggered: true,\n            // 自动化测试使用\n            refresherrefreshTest: \"\",\n            onRefresherabortTest: \"\",\n            onRefresherrestoreTest: \"\",\n            onRefresherpullingTest: \"\"\n        };\n    },\n    onLoad() {\n        //延迟显示list-view\n        setTimeout(() => {\n            this.list_show = true;\n        }, 500);\n    },\n    methods: {\n        onRefresherrefresh(e) {\n            uni.__log__('log', 'at pages/component/list-view/list-view-refresh.uvue:41', 'refresherrefresh-----下拉刷新被触发', e.detail.dy);\n            this.refresherTriggered = true;\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherrefresh');\n            setTimeout(() => {\n                this.refresherTriggered = false;\n            }, 1000);\n        },\n        onRefresherabort(e) {\n            uni.__log__('log', 'at pages/component/list-view/list-view-refresh.uvue:54', \"onRefresherabort------下拉刷新被中止\", e.detail);\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherabort');\n        },\n        onRefresherrestore(e) {\n            uni.__log__('log', 'at pages/component/list-view/list-view-refresh.uvue:63', \"onRefresherrestore------下拉刷新被复位\", e.detail.dy);\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherrestore');\n        },\n        onRefresherpulling(e) {\n            uni.__log__('log', 'at pages/component/list-view/list-view-refresh.uvue:72', \"onRefresherpulling------拉刷新控件被下拉-dy=\" + e.detail.dy);\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherpulling');\n        },\n        // 自动化测试专用（由于事件event参数对象中存在循环引用，在ios端JSON.stringify报错，自动化测试无法page.data获取）\n        checkEventTest(e, eventName) {\n            const isPass = e.type === eventName && UTS.isInstanceOf(e.target, UniElement) && UTS.isInstanceOf(e.currentTarget, UniElement) && e.dy > 0;\n            const result = isPass ? `${eventName}:Success` : `${eventName}:Fail`;\n            switch (eventName) {\n                case 'refresherrefresh':\n                    this.refresherrefreshTest = result;\n                    break;\n                case 'refresherpulling':\n                    this.onRefresherpullingTest = result;\n                    break;\n                case 'refresherrestore':\n                    this.onRefresherrestoreTest = result;\n                    break;\n                case 'refresherabort':\n                    this.onRefresherabortTest = result;\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/list-view/list-view-refresh.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.__log__"],"map":"{\"version\":3,\"file\":\"list-view-refresh.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"list-view-refresh.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";MACO,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;AAMvB,+BAAe;IACb,IAAI;QACF,OAAO;YACL,UAAU,EAAE,EAAE;YACd,SAAS,EAAE,KAAK;YAChB,kBAAkB,EAAE,IAAI;YACxB,UAAU;YACV,oBAAoB,EAAC,EAAE;YACvB,oBAAoB,EAAC,EAAE;YACvB,sBAAsB,EAAC,EAAE;YACzB,sBAAsB,EAAC,EAAE;SAC1B,CAAA;IACH,CAAC;IACD,MAAM;QACJ,eAAe;QACf,UAAU,CAAC;YACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACxB,CAAC,EAAE,GAAG,CAAC,CAAA;IACT,CAAC;IACD,OAAO,EAAE;QACP,kBAAkB,CAAC,CAAmB;YACpC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,wDAAwD,EAAC,8BAA8B,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACxH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,cAAc,wBAAC;gBAClB,IAAI,EAAC,CAAC,CAAC,IAAI;gBACX,MAAM,EAAC,CAAC,CAAC,MAAM;gBACf,aAAa,EAAC,CAAC,CAAC,aAAa;gBAC7B,EAAE,EAAC,CAAC,CAAC,MAAM,CAAC,EAAE;aACf,GAAuB,kBAAkB,CAAC,CAAA;YAC3C,UAAU,CAAC;gBACT,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAClC,CAAC,EAAE,IAAI,CAAC,CAAA;QACV,CAAC;QACD,gBAAgB,CAAC,CAAmB;YAClC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,wDAAwD,EAAC,+BAA+B,EAAC,CAAC,CAAC,MAAM,CAAC,CAAA;YACpH,IAAI,CAAC,cAAc,wBAAC;gBAClB,IAAI,EAAC,CAAC,CAAC,IAAI;gBACX,MAAM,EAAC,CAAC,CAAC,MAAM;gBACf,aAAa,EAAC,CAAC,CAAC,aAAa;gBAC7B,EAAE,EAAC,CAAC,CAAC,MAAM,CAAC,EAAE;aACf,GAAuB,gBAAgB,CAAC,CAAA;QAC3C,CAAC;QACD,kBAAkB,CAAC,CAAmB;YACpC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,wDAAwD,EAAC,iCAAiC,EAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;YACzH,IAAI,CAAC,cAAc,wBAAC;gBAClB,IAAI,EAAC,CAAC,CAAC,IAAI;gBACX,MAAM,EAAC,CAAC,CAAC,MAAM;gBACf,aAAa,EAAC,CAAC,CAAC,aAAa;gBAC7B,EAAE,EAAC,CAAC,CAAC,MAAM,CAAC,EAAE;aACf,GAAuB,kBAAkB,CAAC,CAAA;QAC7C,CAAC;QACD,kBAAkB,CAAC,CAAmB;YACpC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,wDAAwD,EAAC,sCAAsC,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;YAChI,IAAI,CAAC,cAAc,wBAAC;gBAClB,IAAI,EAAC,CAAC,CAAC,IAAI;gBACX,MAAM,EAAC,CAAC,CAAC,MAAM;gBACf,aAAa,EAAC,CAAC,CAAC,aAAa;gBAC7B,EAAE,EAAC,CAAC,CAAC,MAAM,CAAC,EAAE;aACf,GAAuB,kBAAkB,CAAC,CAAA;QAC7C,CAAC;QACD,yEAAyE;QACzE,cAAc,CAAC,CAAoB,EAAE,SAAgB;YACnD,MAAM,MAAM,GAAG,CAAC,CAAC,IAAI,KAAK,SAAS,qBAAI,CAAC,CAAC,MAAM,EAAY,UAAU,CAAA,qBAAI,CAAC,CAAC,aAAa,EAAY,UAAU,CAAA,IAAI,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC;YACzH,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,SAAS,UAAU,CAAC,CAAC,CAAC,GAAG,SAAS,OAAO,CAAC;YACrE,QAAQ,SAAS,EAAC;gBAChB,KAAK,kBAAkB;oBACrB,IAAI,CAAC,oBAAoB,GAAG,MAAM,CAAA;oBAClC,MAAM;gBACR,KAAK,kBAAkB;oBACrB,IAAI,CAAC,sBAAsB,GAAI,MAAM,CAAA;oBACrC,MAAM;gBACR,KAAK,kBAAkB;oBACrB,IAAI,CAAC,sBAAsB,GAAI,MAAM,CAAA;oBACrC,MAAM;gBACR,KAAK,gBAAgB;oBACnB,IAAI,CAAC,oBAAoB,GAAI,MAAM,CAAA;oBACnC,MAAM;gBACR;oBACE,MAAM;aACT;QACH,CAAC;KACF;CACF,EAAA\"}"}
