{"code":"import { defineComponent } from \"vue\";\nclass RefresherEventTest extends UTS.UTSType {\n    static get$UTSMetadata$() {\n        return {\n            kind: 2,\n            get fields() {\n                return {\n                    type: { type: String, optional: false },\n                    target: { type: \"Unknown\", optional: true },\n                    currentTarget: { type: \"Unknown\", optional: true },\n                    dy: { type: Number, optional: false }\n                };\n            }\n        };\n    }\n    constructor(options, metadata = RefresherEventTest.get$UTSMetadata$(), isJSONParse = false) {\n        super();\n        this.__props__ = UTS.UTSType.initProps(options, metadata, isJSONParse);\n        this.type = this.__props__.type;\n        this.target = this.__props__.target;\n        this.currentTarget = this.__props__.currentTarget;\n        this.dy = this.__props__.dy;\n        delete this.__props__;\n    }\n}\nexport default defineComponent({\n    data() {\n        return {\n            scrollData: [],\n            refresherTriggered: false,\n            refresherrefresh: false,\n            refresherrefreshTimes: 0,\n            showScrollbar: false,\n            // 自动化测试使用\n            refresherrefreshTest: \"\",\n            onRefresherabortTest: \"\",\n            onRefresherrestoreTest: \"\",\n            onRefresherpullingTest: \"\"\n        };\n    },\n    onLoad() {\n        let lists = [];\n        for (let i = 0; i < 20; i++) {\n            lists.push(\"item---\" + i);\n        }\n        this.scrollData = lists;\n    },\n    methods: {\n        onRefresherrefresh(e) {\n            this.refresherrefresh = true;\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view-refresher.uvue:48', \"onRefresherrefresh------下拉刷新触发\");\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherrefresh');\n            this.refresherTriggered = true;\n            this.refresherrefreshTimes++;\n            setTimeout(() => {\n                this.refresherTriggered = false;\n            }, 1500);\n        },\n        onRefresherabort(e) {\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view-refresher.uvue:62', \"onRefresherabort------下拉刷新被中止\");\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherabort');\n        },\n        onRefresherrestore(e) {\n            this.refresherrefresh = false;\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view-refresher.uvue:72', \"onRefresherrestore------下拉刷新被复位\");\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherrestore');\n        },\n        onRefresherpulling(e) {\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view-refresher.uvue:81', \"onRefresherpulling------拉刷新控件被下拉-dy=\" + e.detail.dy);\n            this.checkEventTest(new RefresherEventTest({\n                type: e.type,\n                target: e.target,\n                currentTarget: e.currentTarget,\n                dy: e.detail.dy,\n            }), 'refresherpulling');\n        },\n        onScrolltolower(e) {\n            uni.__log__('log', 'at pages/component/scroll-view/scroll-view-refresher.uvue:90', \"onScrolltolower 滚动到底部-----\" + e.detail.direction);\n        },\n        // 自动化测试专用（由于事件event参数对象中存在循环引用，在ios端JSON.stringify报错，自动化测试无法page.data获取）\n        checkEventTest(e, eventName) {\n            const isPass = e.type === eventName && UTS.isInstanceOf(e.target, UniElement) && UTS.isInstanceOf(e.currentTarget, UniElement) && e.dy > 0;\n            const result = isPass ? `${eventName}:Success` : `${eventName}:Fail`;\n            switch (eventName) {\n                case 'refresherrefresh':\n                    this.refresherrefreshTest = result;\n                    break;\n                case 'refresherpulling':\n                    this.onRefresherpullingTest = result;\n                    break;\n                case 'refresherrestore':\n                    this.onRefresherrestoreTest = result;\n                    break;\n                case 'refresherabort':\n                    this.onRefresherabortTest = result;\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/scroll-view/scroll-view-refresher.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.__log__"],"map":"{\"version\":3,\"file\":\"scroll-view-refresher.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"scroll-view-refresher.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
