{"code":"import { defineComponent } from \"vue\";\nimport { COLLECTION_NAME, GenderType, GenderList, UNICLOUD_DB_CONTACTS_ADD } from './types.uts';\nexport default defineComponent({\n    data() {\n        return {\n            collection: COLLECTION_NAME,\n            genderList: GenderList,\n            uniCloudElement: null\n        };\n    },\n    onReady() {\n        this.uniCloudElement = this.$refs['udb'];\n    },\n    methods: {\n        onFormSubmit: function (e) {\n            const formData = e.detail.value;\n            const genderString = formData['gender'];\n            formData['gender'] = (genderString.length > 0) ? parseInt(genderString) : -1;\n            uni.__log__('log', 'at pages/component/unicloud-db-contacts/add.uvue:54', 'formData', formData);\n            this.uniCloudElement.add(formData, new UTSJSONObject({\n                showToast: false,\n                needLoading: true,\n                loadingTitle: \"正在保存...\",\n                success: (_) => {\n                    // TODO 后续通过 EventChannel 实现\n                    uni.$emit(UNICLOUD_DB_CONTACTS_ADD, '');\n                    setTimeout(() => {\n                        uni.navigateBack();\n                    }, 500);\n                },\n                fail: (err = null) => {\n                    const error = err;\n                    uni.showModal({\n                        content: error.errMsg,\n                        showCancel: false\n                    });\n                }\n            }));\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/component/unicloud-db-contacts/add.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.__log__","uni.$emit","uni.navigateBack","uni.showModal"],"map":"{\"version\":3,\"file\":\"add.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"add.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACE,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE,MAAM,aAAa,CAAA;AAE/F,+BAAe;IACb,IAAI;QACF,OAAO;YACL,UAAU,EAAE,eAAe;YAC3B,UAAU,EAAE,UAA0B;YACtC,eAAe,EAAE,IAAgC;SAClD,CAAA;IACH,CAAC;IACD,OAAO;QACL,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAsB,CAAA;IAC/D,CAAC;IACD,OAAO,EAAE;QACP,YAAY,EAAE,UAAU,CAAsB;YAC5C,MAAM,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAA;YAC/B,MAAM,YAAY,GAAG,QAAQ,CAAC,QAAQ,CAAW,CAAA;YACjD,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YAC5E,GAAG,CAAC,OAAO,CAAC,KAAK,EAAC,qDAAqD,EAAC,UAAU,EAAE,QAAQ,CAAC,CAAA;YAC7F,IAAI,CAAC,eAAgB,CAAC,GAAG,CAAC,QAAQ,oBAAE;gBAClC,SAAS,EAAE,KAAK;gBAChB,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,SAAS;gBACvB,OAAO,EAAE,CAAC,CAAuB;oBAC/B,4BAA4B;oBAC5B,GAAG,CAAC,KAAK,CAAC,wBAAwB,EAAE,EAAE,CAAC,CAAA;oBACvC,UAAU,CAAC;wBACT,GAAG,CAAC,YAAY,EAAE,CAAA;oBACpB,CAAC,EAAE,GAAG,CAAC,CAAA;gBACT,CAAC;gBACD,IAAI,EAAE,CAAC,UAAgB;oBACrB,MAAM,KAAK,GAAG,GAAoB,CAAA;oBAClC,GAAG,CAAC,SAAS,CAAC;wBACZ,OAAO,EAAE,KAAK,CAAC,MAAM;wBACrB,UAAU,EAAE,KAAK;qBAClB,CAAC,CAAA;gBACJ,CAAC;aACF,EAAC,CAAA;QACJ,CAAC;KACF;CACF,EAAA\"}"}
