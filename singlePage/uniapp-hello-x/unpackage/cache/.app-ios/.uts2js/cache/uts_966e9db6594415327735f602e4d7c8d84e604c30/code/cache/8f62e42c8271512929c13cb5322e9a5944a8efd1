{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            title: 'get/set/clearStorage',\n            key: '',\n            data: '',\n            apiGetData: '',\n            storageInfo: '',\n        };\n    },\n    methods: {\n        getStorageInfo() {\n            uni.getStorageInfo({\n                success: (res) => {\n                    this.apiGetData = res;\n                    this.storageInfo = UTS.JSON.stringify(res);\n                },\n            });\n        },\n        getStorageInfoSync() {\n            try {\n                const res = uni.getStorageInfoSync();\n                this.apiGetData = res;\n                this.storageInfo = UTS.JSON.stringify(res);\n            }\n            catch (e) {\n                // error\n                uni.__log__('log', 'at pages/API/storage/storage.uvue:127', e);\n            }\n        },\n        jsonLikeMock() {\n            this.key = 'key_' + Math.random();\n            this.data = UTS.JSON.stringify({\n                name: \"james\",\n                age: 12,\n                from: \"american\"\n            });\n        },\n        longLikeMock() {\n            this.key = 'key_' + Math.random();\n            this.data = \"1234567890\";\n        },\n        floatLikeMock() {\n            this.key = 'key_' + Math.random();\n            this.data = \"321456.1234567890\";\n        },\n        negativeLikeMock() {\n            this.key = 'key_' + Math.random();\n            this.data = \"-321456\";\n        },\n        strMock() {\n            this.key = 'key_' + Math.random();\n            this.data = '测试字符串数据，长度为16个字符';\n        },\n        complexMock() {\n            this.key = 'key_' + Math.random();\n            let jsonObj = new UTSJSONObject({\n                name: '张三',\n                age: 12,\n                classMate: [\n                    {\n                        id: 1001,\n                        name: '李四',\n                    },\n                    {\n                        id: 1002,\n                        name: 'jack ma',\n                    },\n                ],\n            });\n            this.data = jsonObj;\n        },\n        numberMock() {\n            this.key = 'key_' + Math.random();\n            this.data = 10011;\n        },\n        floatMock() {\n            this.key = 'key_' + Math.random();\n            this.data = 3.1415926535893384626;\n        },\n        keyChange: function (e) {\n            this.key = e.detail.value;\n        },\n        dataChange: function (e) {\n            this.data = e.detail.value;\n        },\n        getStorage: function () {\n            var key = this.key;\n            if (key.length == 0) {\n                uni.showModal({\n                    title: '读取数据失败',\n                    content: 'key 不能为空',\n                    showCancel: false,\n                });\n            }\n            else {\n                let that = this;\n                uni.getStorage({\n                    key: key,\n                    success: (res) => {\n                        that.apiGetData = res.data;\n                        let desc = typeof this.apiGetData;\n                        if (\"object\" == desc) {\n                            desc = desc + \": \" + UTS.JSON.stringify(this.apiGetData);\n                        }\n                        else {\n                            desc = desc + \": \" + this.apiGetData;\n                        }\n                        uni.showModal({\n                            title: '读取数据成功',\n                            content: desc,\n                            showCancel: false,\n                        });\n                    },\n                    fail: () => {\n                        uni.showModal({\n                            title: '读取数据失败',\n                            content: '找不到 key 对应的数据',\n                            showCancel: false,\n                        });\n                    },\n                });\n            }\n        },\n        getStorageSync: function () {\n            var key = this.key;\n            if (key.length == 0) {\n                uni.showModal({\n                    title: '读取数据失败',\n                    content: 'key 不能为空',\n                    showCancel: false,\n                });\n            }\n            else {\n                this.apiGetData = uni.getStorageSync(key);\n                let desc = typeof this.apiGetData;\n                if (\"object\" == desc) {\n                    desc = desc + \": \" + UTS.JSON.stringify(this.apiGetData);\n                }\n                else {\n                    desc = desc + \": \" + this.apiGetData;\n                }\n                uni.showModal({\n                    title: '读取数据成功',\n                    content: desc,\n                    showCancel: false,\n                });\n            }\n        },\n        setStorage: function () {\n            var key = this.key;\n            var data = this.data;\n            if (key.length == 0) {\n                uni.showModal({\n                    title: '保存数据失败',\n                    content: 'key 不能为空',\n                    showCancel: false,\n                });\n            }\n            else {\n                uni.setStorage({\n                    key: key,\n                    data: data,\n                    success: () => {\n                        uni.showModal({\n                            title: '存储数据成功',\n                            showCancel: false,\n                        });\n                    },\n                    fail: () => {\n                        uni.showModal({\n                            title: '储存数据失败!',\n                            showCancel: false,\n                        });\n                    },\n                });\n            }\n        },\n        setStorageSync: function () {\n            var key = this.key;\n            var data = this.data;\n            if (key.length == 0) {\n                uni.showModal({\n                    title: '保存数据失败',\n                    content: 'key 不能为空',\n                    showCancel: false,\n                });\n            }\n            else {\n                uni.setStorageSync(key, data);\n                uni.showModal({\n                    title: '存储数据成功',\n                    showCancel: false,\n                });\n            }\n        },\n        removeStorage: function () {\n            uni.removeStorage({\n                key: this.key,\n                success: () => {\n                    uni.showModal({\n                        title: '移除数据成功',\n                        showCancel: false,\n                    });\n                },\n                fail: () => {\n                    uni.showModal({\n                        title: '移除数据失败',\n                        showCancel: false,\n                    });\n                },\n            });\n        },\n        removeStorageSync: function () {\n            uni.removeStorageSync(this.key);\n            uni.showModal({\n                title: '移除数据成功',\n                showCancel: false,\n            });\n        },\n        clearStorage: function () {\n            this.key = '';\n            this.data = '';\n            uni.clearStorage({\n                success: function (_) {\n                    uni.showModal({\n                        title: '清除数据成功',\n                        showCancel: false,\n                    });\n                },\n                fail: function (_) {\n                    uni.showModal({\n                        title: '清除数据失败',\n                        showCancel: false,\n                    });\n                },\n            });\n        },\n        clearStorageSync: function () {\n            this.key = '';\n            this.data = '';\n            uni.clearStorageSync();\n            uni.showModal({\n                title: '清除数据成功',\n                content: ' ',\n                showCancel: false,\n            });\n        },\n    },\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/API/storage/storage.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getStorageInfo","uni.getStorageInfoSync","uni.__log__","uni.showModal","uni.getStorage","uni.getStorageSync","uni.setStorage","uni.setStorageSync","uni.removeStorage","uni.removeStorageSync","uni.clearStorage","uni.clearStorageSync"],"map":"{\"version\":3,\"file\":\"storage.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"storage.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
