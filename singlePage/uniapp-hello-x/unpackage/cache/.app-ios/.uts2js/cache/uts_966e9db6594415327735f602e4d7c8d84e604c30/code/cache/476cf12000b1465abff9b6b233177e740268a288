{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent } from \"vue\";\n// 引入支付云对象\nconst uniPayCo = uniCloud.importObject(\"uni-pay-co\");\nimport { checkPlatform, objectAssign } from \"../../js_sdk/js_sdk\";\nexport default defineComponent({\n    name: \"uni-pay\",\n    emits: [\"success\", \"cancel\", \"fail\", \"create\", \"mounted\", \"qrcode\"],\n    props: {\n        /**\n         * Banner广告位id\n         */\n        adpid: {\n            type: String,\n            default: \"\"\n        },\n        /**\n         * 是否自动跳转到插件内置的支付成功页面（具有看广告功能，可以增加开发者收益）默认true\n         */\n        toSuccessPage: {\n            type: Boolean,\n            default: true\n        },\n        /**\n         * 支付成功后，点击查看订单按钮时跳转的页面地址\n         */\n        returnUrl: {\n            type: String,\n            default: \"\"\n        },\n        /**\n         * 支付结果页主色调，默认支付宝小程序为#108ee9，其他端均为#01be6e\n         * 建议：绿色系 #01be6e 蓝色系 #108ee9 咖啡色 #816a4e 粉红 #fe4070 橙黄 #ffac0c 橘黄 #ff7100\n         */\n        mainColor: {\n            type: String,\n            default: \"\"\n        },\n        /**\n         * 收银台模式\n         * mobile 手机版\n         * pc 电脑版\n         */\n        mode: {\n            type: String,\n            default: \"\"\n        },\n        /**\n         * PC收银台模式时，展示的logo\n         */\n        logo: {\n            type: String,\n            default: \"/static/logo.png\"\n        },\n        /**\n         * 收银台高度（默认70vh）\n         */\n        height: {\n            type: [String],\n            default: \"70vh\"\n        },\n        /**\n         * 是否打印运行过程日志\n         */\n        debug: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            // 支付参数\n            myOptions: new UTSJSONObject({}),\n            // 支付云对象返回结果\n            orderRes: new UTSJSONObject({\n                order: \"\",\n                order_no: \"\",\n                out_trade_no: \"\",\n                provider: \"\",\n                provider_pay_type: \"\",\n                errCode: 0,\n            }),\n            images: new UTSJSONObject({\n                wxpay: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABC9JREFUeF7tWk1a20AMlUzv0bDr13AAYAOcpLCBcoqQU1DYEE6C2QAHIP26q3sPPOqniU2cZMYj+SeGxN5kEXlm9ObpjaQxwpY/uOX+Qw9Az4AtR6APgS0nQC+CfQi0FQLfrvcHXwAGPP4bQMK/fy5f7O9HehphwPfb/dOIogEhHQHBcamDCDESPoIxMQPTNSi1ABj+OrwDpNMaO5og4P2bMZOugFADwNTewWhU0/FVzAgnKZnxuoFQAbB3vX9MET7U2PHgq4R09vv8ZRI0bMhADMDw9uAhGN8NLQrWyAYRAGt1PgcRIU5TOms7JIIAdOL8nElJauikTRBKAdi7ObwioFFTzHaMw3mBzRV8DwKOXy+ertpagxcAq/YR/g2d6TlNrUDu4EiiE0Why4T1rgyINoXRC4DgjE+mF8+7RYAkp4RrRyVztRUKTgCkuz89fz4pAiB5z7WbklBrKxScAEgWxI6joZPXy5c4B0H0nkPdhzcHFIxxhHgZ8OA7AgMnAMObA479UnF6H5twQpF5RBMdibPDvB4AAAL6IZ0rNbTb9IngAyC8IwJ0K5okQBgzqFEKSV4wcXg17bxl8fIiJXFc0bHAgYLjYlHEFaZlVUQDoAIbcVZaN1VRrgAgUfImASiKW6Yh4pAohmHVQqpLABI0dMYiKhJPCeoV0ueuQsDmEJrkSeJ/bqNJnOqfApqVzWznzrdYWkvzhnUDYGnPKLTdV5gpfLiOqJUIaTefF8RKH6wxtAOX2IdA8NcCmmRItmBLfVF5jRBnR58kGQtWlGUJlBeAxpQ5A4eFKTu/ufLzPQv1f2mRRDiZ/nyyYwYrypI0OlQOc/9PsgshDsh2v+BUwTFnD3K5DglVlD4WlDZEsqywNgiK2F9gQBkLi7EtyV59WhBsiTURCjy5QZMgYRn9cxbZWgCQ+IKlnH2sFQYTURHmCYMgAJaKs9aYPkXNXGK6QhQdt9xeC4UhTC+eV/wVASASmrKj6IMA4NIBMQDsX1VN4IlbuU0K7vmiQS0G5EOpmiW6I1Dpjtp8pYc5yxYVj0RtXcMJcwDFSiqYLh2x+QgqAJwnAuEEydxbkZtdj+fKPVfwbPIq7KngqvMVX4WoAmDBAcH9HTMmXw23s0LJSlPOOsZx0l8VAu/0Fzjuc2Td3aY5zf1VoZgBvPgmvuhoIrFSMSXQThcDoJo0YLxGLfBSv5IINgVC1XxCOb/oZrkTBtRJqkQgKG6ROgPgPbGq/6HVIiYK51WngAj5ikbBhoZi3FALbHmozhlQXFChTc75g6wRM2ufzb9N/IwMcG0wg8HZJf9HBF/tFZnBBBH+cW/BpBDnd4XLDNJcon4oBiiY7jS194mEI0IaSz+12ygAclSYEcXvFsqA3UgANEzqAdCgtYm2PQM2cVc1PvUM0KC1ibY9AzZxVzU+bT0D/gPs/oxfcUEcJAAAAABJRU5ErkJggg==\",\n                alipay: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA2FJREFUeF7tmU122jAQx2cMB2hp9yULeK+naHISwhJyiIRDBJaQkwRO0fdgEWff0h4ANH0yFc+m+hhbckKNvJUsaX76z4ckhAv/8MLthwggKuDCCUQXuHABxCAYXSC6wIUTiC7wFgL4MPveTaj9optrO+696ya8yeQRQFRAdIEYAxoVBD/PNtdCwHWpDIJwr+1PMCk1DgAkCSx/jHrLsv/p+lfKAp3HzQOYDAqxKtcYBJPtXe/B1Y3TXgmATGst0WIrgAC7JmBINOQsNN8HE0zfVQFlFxzrgFgHNLQOkNJuQ7vrcgkS1CXEua5fgnDj+l+172CX/h59Tbn9Of0qBUE1cGe2ngPhLWeiEH0krFDBT63HC8Cnx/VtFuFDfgl90UOldDvuX4WcSo7lBSD0YuR4H6ebZwRNkRUw9xdSah1G+IzZmW5IW7ERDX/e9Rc+YwerBEMvQo1nrhfqkf/ZuYCxxK5J/t4AjkFQBi71CXxFoFSWq2XTlkn+AndXodNf5SwgT4J7gnttoNL6BqUEmCZET/tkvzQZYj5g1Sf/0goIkfcJYIkEK5HsFnkYnen6BXQptUb5lwJgMz4zCihXD/BqAwVDuoy+Uqx399kACrkZaYECVjY5qxJZXpoQwrcDHB6UghfVvPssAMo35W4R7oZVg5EMmAJxUCZ2CNzfVJ2Pm6qdleDBNwFClaHZdRrQAEhWe25VSPCuAMo1tnQhdIzMNUixfDYBqAOGVQEKQB15OFMCwXPV3QsFww7g73E39Pudr/Gn0EyplQPXCkBF/5AKsBtPKRA+AdKAEx/0BhYLL9nHFkhZLiBvbkOcxFzG5wPtoe7gBUrrTiMttqO+8ebZCkAtWErs17jHvrrSLcj+lkCpKeV5g/ABIA05lqgVM4Er2nPhZgev7DHGnToLG+ALIC9budgWwoRzyuMUPlzj8waVBuELIFOB5iksi7xIKQh8PS4wu8/j+a3vBScbRAgABVfg5BZbH6SFgP0kVIl7UCjNja4RCkAGwecaPLDhp4yNsSYkADlp/mncdNLLu8fpud9XQK7//wERGoBrAefSfgRBsLI9pTtPg+diUNV1yLuJypVg1Un/p/8arwDXZkQALkJNb48KaPoOu+yLCnARanp7VEDTd9hlX1SAi1DT2/8AaakVXysj5qkAAAAASUVORK5CYII=\"\n            }),\n            originalRroviders: [\"wxpay\", \"alipay\"],\n            currentProviders: [\"wxpay\", \"alipay\"],\n            openid: \"\"\n        };\n    },\n    mounted() {\n        let insideData = new UTSJSONObject({\n            images: new UTSJSONObject(this.images),\n            originalRroviders: this.originalRroviders,\n            currentProviders: this.currentProviders,\n        });\n        this.$emit(\"mounted\", insideData);\n    },\n    methods: {\n        // 发起支付 - 打开支付选项弹窗\n        open(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let provider = options['provider'];\n                if (provider != null && provider != \"\") {\n                    let providers = [];\n                    this.originalRroviders.map((item) => {\n                        if (provider == item) {\n                            providers.push(item);\n                        }\n                    });\n                    this.currentProviders = providers;\n                    options['provider'] = \"\";\n                }\n                else {\n                    this.currentProviders = UTS.JSON.parse(UTS.JSON.stringify(this.originalRroviders));\n                }\n                this.myOptions = options;\n                if (this.currentProviders.length == 1) {\n                    this.createOrder(new UTSJSONObject({ provider: this.currentProviders[0] }));\n                }\n                else {\n                    if (this.modeCom == \"pc\") {\n                        this._pcChooseProvider(this.currentProviders[0]);\n                    }\n                    this.openPopup(\"payPopup\");\n                }\n            });\n        },\n        createOrderByProvider(provider) {\n            this.createOrder(new UTSJSONObject({\n                provider\n            }));\n        },\n        // 创建支付\n        createOrder(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let options = this.myOptions;\n                options['qr_code'] = false;\n                options = objectAssign(options, data);\n                if (options['provider'] == \"appleiap\") {\n                    uni.showModal({\n                        title: \"提示\",\n                        content: \"uni-app x 暂不支持苹果内购\",\n                        showCancel: false\n                    });\n                    return Promise.resolve(null);\n                }\n                if (options['provider'] == \"wxpay\") {\n                }\n                let createOrderData = new UTSJSONObject({\n                    provider: options['provider'],\n                    total_fee: options.getNumber('total_fee'),\n                    order_no: options['order_no'],\n                    out_trade_no: options['out_trade_no'],\n                    description: options['description'],\n                    type: options['type'],\n                    qr_code: options.getBoolean('qr_code'),\n                    custom: options.getJSON('custom'),\n                    other: options.getJSON('other'),\n                    wxpay_virtual: options.getJSON('wxpay_virtual'), // 微信小程序虚拟支付需要\n                });\n                try {\n                    let res = yield uniPayCo.createOrder(createOrderData);\n                    if (res['errCode'] == 0) {\n                        this.$emit(\"create\", res);\n                        if (res['qr_code'] != null && res['qr_code'] == true && options.getBoolean('cancel_popup') != true) {\n                            this.orderRes = res;\n                            // 展示组件内置的二维码弹窗\n                            if (this.modeCom == \"pc\") {\n                                this.openPopup(\"payPopup\");\n                                this._pcChooseProvider(options['provider']);\n                            }\n                            else {\n                                this.openPopup(\"qrcodePopup\");\n                            }\n                        }\n                        else {\n                            // 调起支付\n                            this.orderPayment(res);\n                        }\n                    }\n                    else {\n                        this.$emit(\"fail\", res);\n                    }\n                }\n                catch (err) {\n                    this.$emit(\"fail\", err);\n                }\n            });\n        },\n        // 调起支付\n        orderPayment(res) {\n            this.orderRes = res;\n            if (res['qr_code'] != null && res['qr_code'] != \"\") {\n                this.$emit(\"qrcode\", res);\n            }\n            let _order = res.get('order');\n            let orderStr = typeof _order == \"string\" ? _order : UTS.JSON.stringify(_order);\n            uni.requestPayment({\n                provider: res['provider'],\n                orderInfo: orderStr,\n                success: (res) => {\n                    uni.__log__('log', 'at uni_modules/uni-pay-x/components/uni-pay/uni-pay.uvue:383', UTS.JSON.stringify(res));\n                    this._getOrder();\n                },\n                fail: (err) => {\n                    uni.__log__('log', 'at uni_modules/uni-pay-x/components/uni-pay/uni-pay.uvue:387', \"RequestPaymentFail\", UTS.JSON.stringify(err));\n                    let errCode = err.errCode;\n                    let errMsg = err.errMsg;\n                    if (errCode == 700713) {\n                        // 用户取消支付\n                        this.$emit(\"cancel\", err);\n                    }\n                    else if (errMsg.indexOf(\"fail cancel\") > -1) {\n                        // 用户取消支付\n                        this.$emit(\"cancel\", err);\n                    }\n                    else {\n                        // 发起支付失败\n                        uni.__log__('error', 'at uni_modules/uni-pay-x/components/uni-pay/uni-pay.uvue:398', \"uni.requestPayment:fail\", err);\n                        this.$emit(\"fail\", err);\n                    }\n                }\n            });\n        },\n        // 打开弹窗\n        openPopup(name) {\n            let popupRef = this.$refs[name];\n            popupRef.open();\n        },\n        // 关闭弹窗\n        closePopup(name) {\n            let popupRef = this.$refs[name];\n            popupRef.close();\n        },\n        // 查询订单（查询支付情况）\n        getOrder(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.getOrder(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 发起退款（此接口需要admin角色才可以访问）\n        refund(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.refund(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 查询退款（查询退款情况）\n        getRefund(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.getRefund(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 关闭订单\n        closeOrder(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.closeOrder(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 获取支持的支付供应商\n        getPayProviderFromCloud(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.getPayProviderFromCloud(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 获取支付配置内的appid（主要用于获取获取微信公众号的appid，用以获取code）\n        getProviderAppId(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.getProviderAppId(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 根据code获取openid\n        getOpenid(data) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let res = yield uniPayCo.getOpenid(data);\n                    return res;\n                }\n                catch (err) {\n                    return null;\n                }\n            });\n        },\n        // 支付成功后的逻辑\n        paySuccess(res) {\n            this.closePopup(\"payPopup\");\n            this.closePopup(\"payConfirmPopup\");\n            this.clearQrcode();\n            let toSuccessPage = this.toSuccessPage;\n            if (toSuccessPage) {\n                // 跳转到支付成功的内置页面\n                this.pageToSuccess(res);\n            }\n            this.$emit(\"success\", res);\n        },\n        pageToSuccess(res) {\n            let out_trade_no = res['out_trade_no'];\n            let pay_order = new UTSJSONObject(res.getJSON('pay_order'));\n            let order_no = pay_order['order_no'];\n            //let pay_date = pay_order['pay_date'];\n            let total_fee = pay_order.getNumber('total_fee');\n            if (total_fee == null) {\n                total_fee = 0;\n            }\n            let returnUrl = this.returnUrl;\n            let adpid = this.adpid;\n            let mainColor = this.mainColor;\n            if (this.modeCom != \"pc\") {\n                uni.navigateTo({\n                    url: `/uni_modules/uni-pay-x/pages/success/success?out_trade_no=${out_trade_no}&order_no=${order_no}&total_fee=${total_fee}&adpid=${adpid}&return_url=${returnUrl}&main_color=${mainColor}`\n                });\n            }\n            else {\n                if (returnUrl != \"\") {\n                    let url = returnUrl + `?out_trade_no=${out_trade_no}&order_no=${order_no}`;\n                    if (url.indexOf(\"/\") != 0)\n                        url = `/${url}`;\n                    uni.navigateTo({\n                        url\n                    });\n                }\n            }\n        },\n        // 监听 - 关闭二维码弹窗\n        clearQrcode() {\n            this.orderRes[\"codeUrl\"] = \"\";\n            this.orderRes[\"qr_code_image\"] = \"\";\n        },\n        // 内部函数查询支付状态\n        _getOrder() {\n            return __awaiter(this, void 0, void 0, function* () {\n                let out_trade_no = this.orderRes[\"out_trade_no\"];\n                let res = yield this.getOrder(new UTSJSONObject({\n                    out_trade_no,\n                    await_notify: true\n                }));\n                if (res != null) {\n                    let has_paid = res.getBoolean('has_paid');\n                    if (has_paid != null && has_paid == true) {\n                        this.closePopup(\"qrcodePopup\");\n                        this.paySuccess(res);\n                    }\n                }\n            });\n        },\n        // 重新发起支付\n        _afreshPayment() {\n            this.orderPayment(this.orderRes);\n        },\n        // pc版弹窗选择支付方式\n        _pcChooseProvider(provider) {\n            let _provider = this.myOptions[\"provider\"];\n            if (provider != _provider) {\n                this.createOrder(new UTSJSONObject({ provider: provider }));\n            }\n        }\n    },\n    watch: {},\n    computed: {\n        modeCom() {\n            let mode = this.mode;\n            if (mode != \"\")\n                return mode;\n            let systemInfo = uni.getSystemInfoSync();\n            return systemInfo.deviceType == \"pc\" ? \"pc\" : \"mobile\";\n        },\n        totalFeeCom() {\n            let totalFee = this.myOptions.getNumber('total_fee');\n            return totalFee != null ? totalFee : 0;\n        }\n    },\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/uni_modules/uni-pay-x/components/uni-pay/uni-pay.uvue?vue&type=script&lang.uts.js.map","references":["/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/uni_modules/uni-pay-x/js_sdk/js_sdk.uts"],"uniExtApis":["uniCloud.importObject","uni.showModal","uni.requestPayment","uni.__log__","uni.navigateTo","uni.getSystemInfoSync"],"map":"{\"version\":3,\"file\":\"uni-pay.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"uni-pay.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
