{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            btnText: \"\",\n            btnType: \"primary\",\n            btnDisable: false,\n            rewardAd: null,\n            isAdLoadSuccess: false\n        };\n    },\n    onReady() {\n        this.loadAd();\n    },\n    methods: {\n        loadAd() {\n            if (this.btnDisable)\n                return null;\n            this.btnDisable = true;\n            this.btnText = \"正在加载广告\";\n            this.btnType = \"primary\";\n            if (this.rewardAd == null) {\n                this.rewardAd = uni.createRewardedVideoAd({\n                    adpid: \"1507000689\" //此处为测试广告位，实际开发中请在uni-ad后台申请自己的广告位后替换\n                });\n                this.rewardAd.onError((_) => {\n                    this.btnType = \"warn\";\n                    this.btnText = \"广告加载失败，点击重试\";\n                    this.btnDisable = false;\n                });\n                this.rewardAd.onLoad((_ = null) => {\n                    this.btnType = \"primary\";\n                    this.btnText = \"广告加载成功，点击观看\";\n                    this.btnDisable = false;\n                    this.isAdLoadSuccess = true;\n                });\n                this.rewardAd.onClose((e) => {\n                    // 测试广告位无法通过服务器回调。实际开发中，使用自己的广告位后，需参考uni-ad文档编写服务器回调的代码，在服务端发放奖励\n                    this.isAdLoadSuccess = false;\n                    uni.showToast({\n                        title: \"激励视频\" + (e.isEnded ? \"\" : \"未\") + \"播放完毕\",\n                        position: \"bottom\"\n                    });\n                    this.loadAd();\n                });\n            }\n            this.rewardAd.load();\n        },\n        showAd() {\n            if (this.isAdLoadSuccess) {\n                this.rewardAd.show();\n            }\n            else {\n                this.loadAd();\n            }\n        }\n    }\n});\n//# sourceMappingURL=/Users/gaoruicheng/Documents/DcloudProject/uniapp-bugs/uniapp-bugs-main/singlePage/uniapp-hello-x/pages/API/rewarded-video-ad/rewarded-video-ad.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.createRewardedVideoAd","uni.showToast"],"map":"{\"version\":3,\"file\":\"rewarded-video-ad.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"rewarded-video-ad.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACE,+BAAe;IACb,IAAI;QACF,OAAO;YACL,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,SAAS;YAClB,UAAU,EAAE,KAAK;YACjB,QAAQ,EAAE,IAA8B;YACxC,eAAe,EAAE,KAAK;SACvB,CAAA;IACH,CAAC;IACD,OAAO;QACL,IAAI,CAAC,MAAM,EAAE,CAAA;IACf,CAAC;IACD,OAAO,EAAE;QACP,MAAM;YACJ,IAAI,IAAI,CAAC,UAAU;gBACjB,YAAM;YACR,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;YACtB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAA;YACvB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAA;YACxB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACzB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,qBAAqB,CAAC;oBACxC,KAAK,EAAE,YAAY,CAAC,qCAAqC;iBAC1D,CAAC,CAAA;gBACF,IAAI,CAAC,QAAS,CAAC,OAAO,CAAC,CAAC,CAAC;oBACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;oBACrB,IAAI,CAAC,OAAO,GAAG,aAAa,CAAA;oBAC5B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAA;gBACzB,CAAC,CAAC,CAAA;gBACF,IAAI,CAAC,QAAS,CAAC,MAAM,CAAC,CAAC,CAAC,OAAA;oBACtB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAA;oBACxB,IAAI,CAAC,OAAO,GAAG,aAAa,CAAA;oBAC5B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAA;oBACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAA;gBAC7B,CAAC,CAAC,CAAA;gBACF,IAAI,CAAC,QAAS,CAAC,OAAO,CAAC,CAAC,CAAC;oBACvB,gEAAgE;oBAChE,IAAI,CAAC,eAAe,GAAG,KAAK,CAAA;oBAC5B,GAAG,CAAC,SAAS,CAAC;wBACZ,KAAK,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM;wBAC/C,QAAQ,EAAE,QAAQ;qBACnB,CAAC,CAAA;oBACF,IAAI,CAAC,MAAM,EAAE,CAAA;gBACf,CAAC,CAAC,CAAA;aACH;YACD,IAAI,CAAC,QAAS,CAAC,IAAI,EAAE,CAAA;QACvB,CAAC;QACD,MAAM;YACJ,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI,CAAC,QAAS,CAAC,IAAI,EAAE,CAAA;aACtB;iBAAM;gBACL,IAAI,CAAC,MAAM,EAAE,CAAA;aACd;QACH,CAAC;KACF;CACF,EAAA\"}"}
