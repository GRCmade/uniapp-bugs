{"version":3,"sources":["components/uni-collapse-item/uni-collapse-item.vue","uni_modules/test-invoke-network-api/utssdk/interface.uts"],"sourcesContent":["<template>\r\n  <view class=\"uni-collapse-item\">\r\n    <view class=\"uni-collapse-item__title\" @click=\"openCollapse(!is_open)\">\r\n      <text class=\"uni-collapse-item__title-text\"\r\n        :class=\"{'is-disabled':disabled,'open--active':is_open}\">{{title}}</text>\r\n      <view class=\"down_arrow\" :class=\"{'down_arrow--active': is_open}\"></view>\r\n    </view>\r\n    <view ref=\"boxRef\" class=\"uni-collapse-item__content\">\r\n      <view ref=\"contentRef\" class=\"uni-collapse-item__content-box\">\r\n        <slot></slot>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  import { $dispatch } from './util.uts'\r\n  export default {\r\n    name: \"UniCollapseItem\",\r\n    props: {\r\n      // 列表标题\r\n      title: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      open: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      disabled: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        height: 0,\r\n        is_open: this.open as boolean,\r\n        boxNode: null as UniElement | null,\r\n        contentNode: null as UniElement | null,\r\n      };\r\n    },\r\n    watch: {\r\n      open(value : boolean) {\r\n        // this.is_open = value\r\n        if (this.boxNode != null) {\r\n          this.openCollapse(value)\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      $dispatch(this, 'UniCollapse', 'init', this)\r\n    },\r\n    mounted() {\r\n      this.boxNode = this.$refs['boxRef'] as UniElement;\r\n      this.contentNode = this.$refs['contentRef'] as UniElement;\r\n      // this.openCollapse(this.open)\r\n    },\r\n    methods: {\r\n      // 开启或关闭折叠面板\r\n      openCollapse(open : boolean) {\r\n        if (this.disabled) return\r\n        // 关闭其他已打开\r\n        $dispatch(this, 'UniCollapse', 'cloceAll')\r\n        this.is_open = open\r\n        this.openOrClose(open)\r\n      },\r\n      openOrClose(open : boolean) {\r\n        const boxNode = this.boxNode?.style!;\r\n        const contentNode = this.contentNode?.style!;\r\n        let hide = open ? 'flex' : 'none';\r\n        const opacity = open ? \"1\" : \"0\"\r\n        let ani_transform = open ? 'translateY(0)' : 'translateY(-100%)';\r\n        boxNode.setProperty('display', hide);\r\n        this.$nextTick(() => {\r\n          contentNode.setProperty('transform', ani_transform);\r\n          contentNode.setProperty('opacity', opacity);\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .uni-collapse-item {\r\n    background-color: #fff;\r\n  }\r\n\r\n  .uni-collapse-item__title {\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding: 12px;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .down_arrow {\r\n    width: 8px;\r\n    height: 8px;\r\n    transform: rotate(45deg);\r\n    border-right: 1px #999 solid;\r\n    border-bottom: 1px #999 solid;\r\n    margin-top: -3px;\r\n    transition-property: transform;\r\n    transition-duration: 0.2s;\r\n  }\r\n\r\n  .down_arrow--active {\r\n    transform: rotate(-135deg);\r\n    margin-top: 0px;\r\n  }\r\n\r\n  .uni-collapse-item__title-text {\r\n    flex: 1;\r\n    color: #000;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n  }\r\n\r\n  .open--active {\r\n    /* background-color: #f0f0f0; */\r\n    color: #bbb;\r\n  }\r\n\r\n  .is-disabled {\r\n    color: #999;\r\n  }\r\n\r\n  .uni-collapse-item__content {\r\n    display: none;\r\n    position: relative;\r\n  }\r\n\r\n  .uni-collapse-item__content-box {\r\n    width: 100%;\r\n    transition-property: transform, opacity;\r\n    transition-duration: 0.2s;\r\n    transform: translateY(-100%);\r\n    opacity: 0;\r\n  }\r\n</style>\n",null],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBO;;kBAiCH,MAAU;YACR,YAAU,IAAI,EAAE,eAAe,QAAQ,IAAI;QAC7C;;kBACA,MAAU;YACR,IAAI,CAAC,OAAM,GAAI,IAAI,CAAC,OAAK,CAAC,SAAQ,CAAE,EAAC,CAAE;YACvC,IAAI,CAAC,WAAU,GAAI,IAAI,CAAC,OAAK,CAAC,aAAY,CAAE,EAAC,CAAE;QAEjD;;;;;UAdE,IAAK,OAAQ,OAAO,EAAE;YAEpB,IAAI,IAAI,CAAC,OAAM,IAAK,IAAI,EAAE;gBACxB,IAAI,CAAC,YAAY,CAAC;YACpB;QACF;;;;;;;eA/CJ,mBAWO,QAAA,SAXD,WAAM,sBAAmB;YAC7B,mBAIO,QAAA,SAJD,WAAM,4BAA4B,aAAK,KAAA;gBAAE,KAAA,YAAY,CAAA,CAAE,KAAA,OAAO;YAAA;;gBAClE,mBAC2E,QAAA,SADrE,WAAK,eAAA;oBAAC;oBACF,SAAA,iBAAA,KAAA,QAAA,EAAA,kBAAA,KAAA,OAAA;iBAA+C,oBAAI,KAAA,KAAK,GAAA,CAAA;gBAClE,mBAAyE,QAAA,SAAnE,WAAK,eAAA;oBAAC;oBAAqB,SAAA,wBAAA,KAAA,OAAA;iBAA+B;;;;YAElE,mBAIO,QAAA,SAJD,SAAI,UAAS,WAAM;gBACvB,mBAEO,QAAA,SAFD,SAAI,cAAa,WAAM;oBAC3B,WAAa,KAAA,QAAA,EAAA;;;;;;;;aA2Bb;aACA,SAAsB,OAAO;aAC7B,SAAiB;aACjB,aAAqB;;;wBAHrB,YAAQ,CAAC,EACT,aAAS,IAAI,qBAAS,OAAO,EAC7B,aAAS,IAAG,CAAE,EAAC,CAAE,aACjB,iBAAa,IAAG,CAAE,EAAC,CAAE;;;aAqBvB,eAAA,IAAa,MAAO,OAAO,EAAE;YAC3B,IAAI,IAAI,CAAC,QAAQ;gBAAE;;YAEnB,YAAU,IAAI,EAAE,eAAe;YAC/B,IAAI,CAAC,OAAM,GAAI;YACf,IAAI,CAAC,WAAW,CAAC;QACnB;;aACA,cAAA,IAAY,MAAO,OAAO,EAAE;YAC1B,IAAM,UAAU,IAAI,CAAC,OAAO,EAAE;YAC9B,IAAM,cAAc,IAAI,CAAC,WAAW,EAAE;YACtC,IAAI,OAAO,IAAA;gBAAO;;gBAAS;;YAAM;YACjC,IAAM,UAAU,IAAA;gBAAO;;gBAAM;;YAAE;YAC/B,IAAI,gBAAgB,IAAA;gBAAO;;gBAAkB;;YAAmB;YAChE,QAAQ,WAAW,CAAC,WAAW;YAC/B,IAAI,CAAC,WAAS,CAAC,KAAM;gBACnB,YAAY,WAAW,CAAC,aAAa;gBACrC,YAAY,WAAW,CAAC,WAAW;YACrC;;QACF;;;sBAlBA,eAAa,MAAO,OAAO;sBAO3B,cAAY,MAAO,OAAO;;mBAjDtB;;;;;;;;;;;;;;wGAKO,0DAIA,KAAI,4DAIJ,KAAI;;;;;;;;AAiDnB"}