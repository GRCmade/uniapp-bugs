{"version":3,"sources":["pages/API/get-window-info/get-window-info.uvue","pages/API/action-sheet/action-sheet.uvue?type=page","pages/API/get-window-info/get-window-info.uvue?type=page"],"sourcesContent":["<template>\n  <page-head :title=\"title\"></page-head>\n  <view class=\"uni-common-mt\">\n    <view class=\"uni-list\">\n      <view class=\"uni-list-cell\" v-for=\"(item, _) in items\" style=\"align-items: center\">\n        <view class=\"uni-pd\">\n          <view class=\"uni-label\" style=\"width: 180px\">{{ item.label }}</view>\n        </view>\n        <view class=\"uni-list-cell-db\">\n          <text style=\"width: 100%;\">{{ item.value == '' ? '未获取' : item.value }}</text>\n        </view>\n      </view>\n    </view>\n    <view class=\"uni-padding-wrap\">\n      <view class=\"uni-btn-v\">\n        <button type=\"primary\" @tap=\"getWindowInfo\">获取窗口信息</button>\n      </view>\n    </view>\n  </view>\n</template>\n<script>\n  import { setStatusBarHeight, setSafeArea } from '@/store/index.uts'\n\n  import type { SafeArea } from '@/store/index.uts'\n\n\n  type Item = {\n    label : string,\n    value : string,\n  }\n  export default {\n    data() {\n      return {\n        title: 'getWindowInfo',\n        items: [] as Item[],\n      }\n    },\n    onUnload: function () {\n    },\n    onReady() {\n      this.getWindowInfo()\n    },\n    methods: {\n      getWindowInfo: function () {\n        const res = uni.getWindowInfo();\n        // 获取状态栏高度, 供截图对比使用\n        setStatusBarHeight(res.statusBarHeight);\n        // 获取安全区信息,供截图使用\n\n        setSafeArea({\n          top: res.safeArea.top,\n          left: res.safeArea.left,\n          right: res.safeArea.right,\n          bottom: res.safeArea.bottom,\n          width: res.safeArea.width,\n          height: res.safeArea.height,\n        } as SafeArea);\n\n\n\n\n\n\n\n\n\n\n\n        this.items = [] as Item[];\n\n        const res_str = JSON.stringify(res);\n        const res_obj = JSON.parseObject(res_str);\n        const res_map = res_obj!.toMap();\n        let keys = [] as string[]\n        res_map.forEach((_, key) => {\n          keys.push(key);\n        });\n        keys.sort().forEach(key => {\n          const value = res[key];\n          if (value != null) {\n            const item = {\n              label: key,\n              value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\n            } as Item;\n            this.items.push(item);\n          }\n        });\n      },\n      //自动化测试例专用\n      jest_getWindowInfo() : GetWindowInfoResult {\n        return uni.getWindowInfo();\n      },\n    }\n  }\n</script>\n\n<style>\n  .uni-pd {\n    padding-left: 15px;\n  }\n</style>\n",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AA8BO;;iBAOO,MAAY,CACtB;gBACA,MAAU;YACR,IAAI,CAAC,aAAa;QACpB;;;;;;;;;YAxCF,YAAsC,sBAAA,SAA1B,WAAO,KAAA,KAAK,GAAA,IAAA,EAAA,CAAA,EAAA;gBAAA;aAAA;YACxB,mBAgBO,QAAA,SAhBD,WAAM,kBAAe;gBACzB,mBASO,QAAA,SATD,WAAM,aAAU;oBACpB,mBAOO,UAAA,IAAA,EAAA,cAAA,UAAA,CAPyC,KAAA,KAAK,EAAA,IAAjB,MAAM,GAAN,SAAI,UAAA,GAAA,CAAA;+BAAxC,mBAOO,QAAA,SAPD,WAAM,iBAA2C,WAA2B,eAA3B,SAAA,iBAAA;4BACrD,mBAEO,QAAA,SAFD,WAAM,WAAQ;gCAClB,mBAAoE,QAAA,SAA9D,WAAM,aAAY,WAAoB,eAApB,SAAA,WAAA,4BAAwB,KAAK,KAAK,GAAA,CAAA;;4BAE5D,mBAEO,QAAA,SAFD,WAAM,qBAAkB;gCAC5B,mBAA6E,QAAA,SAAvE,WAAoB,eAApB,SAAA,WAAA,2BAAwB,IAAA,KAAK,KAAK,IAAA;oCAAA;;oCAAiB,KAAK,KAAK;;gCAAA,GAAA,CAAA;;;;;;gBAIzE,mBAIO,QAAA,SAJD,WAAM,qBAAkB;oBAC5B,mBAEO,QAAA,SAFD,WAAM,cAAW;wBACrB,mBAA2D,UAAA,SAAnD,UAAK,WAAW,aAAK,KAAA,aAAa,GAAE,UAAM,CAAA,EAAA;4BAAA;yBAAA;;;;;;aAkBlD;aACA,gBAAa;;;wBADb,WAAO,iBACP,WAAO,WAAM;;;aASf,gBAAe,MAAY;YACzB,IAAM,MAAM;YAEZ,mBAAmB,IAAI,eAAe;YAGtC,qBACE,MAAK,IAAI,QAAQ,CAAC,GAAG,EACrB,OAAM,IAAI,QAAQ,CAAC,IAAI,EACvB,QAAO,IAAI,QAAQ,CAAC,KAAK,EACzB,SAAQ,IAAI,QAAQ,CAAC,MAAM,EAC3B,QAAO,IAAI,QAAQ,CAAC,KAAK,EACzB,SAAQ,IAAI,QAAQ,CAAC,MAAM;YAa7B,IAAI,CAAC,KAAI,GAAI,WAAM;YAEnB,IAAM,UAAU,KAAK,SAAS,CAAC;YAC/B,IAAM,UAAU,WAAW,iBAAc,CAAA,KAAA,WAAA,CAAA,UAAA;YACzC,IAAM,UAAU,UAAS,KAAK;YAC9B,IAAI,OAAO,WAAM,MAAM;YACvB,QAAQ,OAAO,CAAC,IAAC,GAAG,IAAQ;gBAC1B,KAAK,IAAI,CAAC;YACZ;;YACA,KAAK,IAAI,GAAG,OAAO,CAAC,IAAA,IAAO;gBACzB,IAAM,QAAQ,GAAG,CAAC,IAAI;gBACtB,IAAI,SAAS,IAAI,EAAE;oBACjB,IAAM,aACJ,QAAO,KACP,QAAO,KAAM,CAAA,IAAA,CAAC,qBAAO,UAAS,QAAQ;wBAAI,KAAK,SAAS,CAAC;;wBAAS;;oBAAI;oBAExE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAClB;YACF;;QACF;;aAEA,qBAAA,OAAuB,oBAAoB;YACzC,OAAO;QACT;;;sBAhDA;sBA8CA,0BAAuB;;;;;;;;;;;;;;;;;;;;;AAI3B"}