{"version":3,"sources":["pages/API/rewarded-video-ad/rewarded-video-ad.uvue","pages/API/rewarded-video-ad/rewarded-video-ad.uvue?type=page","App.uvue"],"sourcesContent":["<template>\n  <page-head title=\"激励视频广告\"></page-head>\n  <button :type=\"btnType\" style=\"margin: 10px;\" :disabled=\"btnDisable\" @click=\"showAd()\">{{btnText}}</button>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        btnText: \"\",\n        btnType: \"primary\",\n        btnDisable: false,\n        rewardAd: null as RewardedVideoAd | null,\n        isAdLoadSuccess: false\n      }\n    },\n    onReady() {\n      this.loadAd()\n    },\n    methods: {\n      loadAd() {\n        if (this.btnDisable)\n          return\n        this.btnDisable = true\n        this.btnText = \"正在加载广告\"\n        this.btnType = \"primary\"\n        if (this.rewardAd == null) {\n          this.rewardAd = uni.createRewardedVideoAd({\n            adpid: \"1507000689\" //此处为测试广告位，实际开发中请在uni-ad后台申请自己的广告位后替换\n          })\n          this.rewardAd!.onError((_) => {\n            this.btnType = \"warn\"\n            this.btnText = \"广告加载失败，点击重试\"\n            this.btnDisable = false\n          })\n          this.rewardAd!.onLoad((_) => {\n            this.btnType = \"primary\"\n            this.btnText = \"广告加载成功，点击观看\"\n            this.btnDisable = false\n            this.isAdLoadSuccess = true\n          })\n          this.rewardAd!.onClose((e) => {\n            // 测试广告位无法通过服务器回调。实际开发中，使用自己的广告位后，需参考uni-ad文档编写服务器回调的代码，在服务端发放奖励\n            this.isAdLoadSuccess = false\n            uni.showToast({\n              title: \"激励视频\" + (e.isEnded ? \"\" : \"未\") + \"播放完毕\",\n              position: \"bottom\"\n            })\n            this.loadAd()\n          })\n        }\n        this.rewardAd!.load()\n      },\n      showAd() {\n        if (this.isAdLoadSuccess) {\n          this.rewardAd!.show()\n        } else {\n          this.loadAd()\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BA2B8B;+BAkC5B;AAvDK;;gBAUH,MAAU;YACR,IAAI,CAAC,MAAM;QACb;;;;;;;;;YAjBF,YAAsC,sBAAA,SAA3B,WAAM;YACjB,mBAA2G,UAAA,SAAlG,UAAM,KAAA,OAAO,EAAE,WAAqB,eAArB,SAAA,YAAA,UAAuB,cAAU,KAAA,UAAU,EAAG,aAAK,KAAA;gBAAE,KAAA,MAAM;YAAA;+BAAM,KAAA,OAAO,GAAA,EAAA,EAAA;gBAAA;gBAAA;gBAAA;aAAA;;;aAO1F;aACA;aACA;aACA,UAAkB;aAClB;;;wBAJA,aAAS,IACT,aAAS,WACT,gBAAY,KAAK,EACjB,cAAU,IAAG,CAAE,EAAC,CAAE,kBAClB,qBAAiB,KAAI;;;aAOvB,SAAA,MAAS;YACP,IAAI,IAAI,CAAC,UAAU;gBACjB;;YACF,IAAI,CAAC,UAAS,GAAI,IAAG;YACrB,IAAI,CAAC,OAAM,GAAI;YACf,IAAI,CAAC,OAAM,GAAI;YACf,IAAI,IAAI,CAAC,QAAO,IAAK,IAAI,EAAE;gBACzB,IAAI,CAAC,QAAO,GAAI,uDACd,QAAO;gBAET,IAAI,CAAC,QAAQ,GAAE,OAAO,CAAC,IAAC,EAAM;oBAC5B,IAAI,CAAC,OAAM,GAAI;oBACf,IAAI,CAAC,OAAM,GAAI;oBACf,IAAI,CAAC,UAAS,GAAI,KAAI;gBACxB;;gBACA,IAAI,CAAC,QAAQ,GAAE,MAAM,CAAC,IAAC,EAAM;oBAC3B,IAAI,CAAC,OAAM,GAAI;oBACf,IAAI,CAAC,OAAM,GAAI;oBACf,IAAI,CAAC,UAAS,GAAI,KAAI;oBACtB,IAAI,CAAC,eAAc,GAAI,IAAG;gBAC5B;;gBACA,IAAI,CAAC,QAAQ,GAAE,OAAO,CAAC,IAAC,EAAM;oBAE5B,IAAI,CAAC,eAAc,GAAI,KAAI;oBAC3B,+BACE,QAAO,SAAU,CAAA,IAAA,EAAE,OAAM;wBAAI;;wBAAK;;oBAAE,IAAK,QACzC,WAAU;oBAEZ,IAAI,CAAC,MAAM;gBACb;;YACF;YACA,IAAI,CAAC,QAAQ,GAAE,IAAI;QACrB;;aACA,SAAA,MAAS;YACP,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI,CAAC,QAAQ,GAAE,IAAI;YACrB,OAAO;gBACL,IAAI,CAAC,MAAM;YACb;QACF;;;sBAvCA;sBAiCA;;;;;;;;;;;;;;;AAQJ"}