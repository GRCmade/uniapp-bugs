{"version":3,"sources":["pages/API/nodes-info/nodes-info.uvue","pages/API/nodes-info/nodes-info-child.uvue","pages/API/nodes-info/nodes-info.uvue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"page\" id=\"page\">\r\n    <page-head :title=\"title\"></page-head>\r\n    <button class=\"btn btn-get-node-info\" @click=\"getNodeInfo\">getNodeInfo</button>\r\n    <button class=\"btn btn-get-all-node-info\" @click=\"getAllNodeInfo\">getAllNodeInfo</button>\r\n    <view id=\"rect-1-2\" class=\"rect-1-2\">\r\n      <view class=\"rect rect1\"></view>\r\n      <view class=\"rect rect2\"></view>\r\n    </view>\r\n    <view class=\"rect-info-1-2\">\r\n      <view class=\"rect-info\" v-for=\"(nodeInfo, index) in nodeInfoList\" :key=\"index\">\r\n        <view class=\"node-info-item\">\r\n          <text class=\"node-info-item-k\">left: </text>\r\n          <text class=\"node-info-item-v\">{{nodeInfo.left}}</text>\r\n        </view>\r\n        <view class=\"node-info-item\">\r\n          <text class=\"node-info-item-k\">top: </text>\r\n          <text class=\"node-info-item-v\">{{nodeInfo.top}}</text>\r\n        </view>\r\n        <view class=\"node-info-item\">\r\n          <text class=\"node-info-item-k\">right: </text>\r\n          <text class=\"node-info-item-v\">{{nodeInfo.right}}</text>\r\n        </view>\r\n        <view class=\"node-info-item\">\r\n          <text class=\"node-info-item-k\">bottom: </text>\r\n          <text class=\"node-info-item-v\">{{nodeInfo.bottom}}</text>\r\n        </view>\r\n        <view class=\"node-info-item\">\r\n          <text class=\"node-info-item-k\">width: </text>\r\n          <text class=\"node-info-item-v\">{{nodeInfo.width}}</text>\r\n        </view>\r\n        <view class=\"node-info-item\">\r\n          <text class=\"node-info-item-k\">height: </text>\r\n          <text class=\"node-info-item-v\">{{nodeInfo.height}}</text>\r\n        </view>\r\n      </view>\r\n    </view>\n    <node-child class=\"node-child\"></node-child>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import nodeChild from './nodes-info-child.uvue'\r\n\r\n  type NodeInfoType = {\r\n    left : number | null,\r\n    top : number | null,\r\n    right : number | null,\r\n    bottom : number | null,\r\n    width : number | null,\r\n    height : number | null,\r\n  }\r\n\r\n  export default {\r\n    components: {\r\n      nodeChild\r\n    },\r\n    data() {\r\n      return {\r\n        title: 'createSelectorQuery',\r\n        nodeInfoList: [] as NodeInfoType[],\r\n        // 仅用于自动化测试\r\n        rootNodeInfo: null as NodeInfoType | null,\r\n        //供自动化测试使用\r\n        // resizeRectValid: false\r\n      }\r\n    },\r\n    onResize() {\r\n      //供自动化测试使用\r\n      /* var rect12Element = uni.getElementById(\"rect-1-2\")\r\n      if(rect12Element != null) {\r\n        var domRect = rect12Element.getBoundingClientRect()\r\n        if(domRect.width > 100) {\r\n          this.resizeRectValid = true\r\n        }\r\n      } */\r\n    },\r\n    methods: {\r\n      // 仅用于自动化测试\r\n      getRootNodeInfo(selector : string) {\r\n        uni.createSelectorQuery().select(selector).boundingClientRect().exec((ret) => {\r\n          if (ret.length == 1) {\r\n            const nodeInfo = ret[0] as NodeInfo;\r\n            const nodeType = {\r\n              left: nodeInfo.left,\r\n              top: nodeInfo.top,\r\n              right: nodeInfo.right,\r\n              bottom: nodeInfo.bottom,\r\n              width: nodeInfo.width,\r\n              height: nodeInfo.height,\r\n            } as NodeInfoType;\r\n            this.rootNodeInfo = nodeType\r\n          }\r\n        })\r\n      },\r\n      getNodeInfo() {\r\n        uni.createSelectorQuery().select('.rect1').boundingClientRect().exec((ret) => {\r\n          this.nodeInfoList.length = 0\r\n          const i = ret[0] as NodeInfo\r\n          this.nodeInfoList.push({\r\n            left: i.left,\r\n            top: i.top,\r\n            right: i.right,\r\n            bottom: i.bottom,\r\n            width: i.width,\r\n            height: i.height,\r\n          } as NodeInfoType)\r\n        })\r\n      },\r\n      getAllNodeInfo() {\r\n        uni.createSelectorQuery().selectAll('.rect').boundingClientRect().exec((ret) => {\r\n          this.nodeInfoList.length = 0\r\n          const array = ret[0] as NodeInfo[]\r\n          array.forEach((i) => {\r\n            this.nodeInfoList.push({\r\n              left: i.left,\r\n              top: i.top,\r\n              right: i.right,\r\n              bottom: i.bottom,\r\n              width: i.width,\r\n              height: i.height,\r\n            } as NodeInfoType)\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .page {\r\n    padding: 15px;\r\n    flex: 1;\r\n  }\r\n\r\n  .btn {\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .rect-1-2 {\r\n    flex-direction: row;\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .rect {\r\n    width: 150px;\r\n    height: 100px;\r\n  }\r\n\r\n  .rect1 {\r\n    background-color: dodgerblue;\r\n  }\r\n\r\n  .rect2 {\r\n    margin-left: auto;\r\n    background-color: seagreen;\r\n  }\r\n\r\n  .rect-info-1-2 {\r\n    flex-direction: row;\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .rect-info {\r\n    flex: 1;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .node-info-item {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .node-info-item-k {\r\n    width: 72px;\r\n    line-height: 2;\r\n  }\r\n\r\n  .node-info-item-v {\r\n    font-weight: bold;\r\n    line-height: 2;\r\n  }\r\n</style>\n",null,null],"names":[],"mappings":"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"}