{"version":3,"sources":["pages/API/get-app/get-app.uvue","pages/API/get-app/get-app.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex: 1; padding-bottom: 20px\">\n\n    <view>\n      <page-head title=\"getApp\"></page-head>\n      <view class=\"uni-padding-wrap\">\n        <button @click=\"getGlobalData\">get globalData</button>\n        <template v-if=\"originGlobalData.str.length\">\n          <text class=\"uni-common-mt bold\">初始的 globalData:</text>\n          <text class=\"uni-common-mt\">globalData string: {{ originGlobalData.str }}</text>\n          <text class=\"uni-common-mt\">globalData number: {{ originGlobalData.num }}</text>\n          <text class=\"uni-common-mt\">globalData boolean: {{ originGlobalData.bool }}</text>\n          <text class=\"uni-common-mt\">globalData object: {{ originGlobalData.obj }}</text>\n          <text class=\"uni-common-mt\">globalData null: {{ originGlobalData.null }}</text>\n          <text class=\"uni-common-mt\">globalData array: {{ originGlobalData.arr }}</text>\n          <text class=\"uni-common-mt\">globalData Set: {{ originGlobalData.mySet }}</text>\n          <text class=\"uni-common-mt\">globalData Map: {{ originGlobalData.myMap }}</text>\n          <text class=\"uni-common-mt\">globalData func 返回值: {{ originGlobalDataFuncRes }}</text>\n        </template>\n        <button @click=\"setGlobalData\" class=\"uni-common-mt\">\n          set globalData\n        </button>\n        <template v-if=\"newGlobalData.bool\">\n          <text class=\"uni-common-mt bold\">更新后的 globalData:</text>\n          <text class=\"uni-common-mt\">globalData string: {{ newGlobalData.str }}</text>\n          <text class=\"uni-common-mt\">globalData number: {{ newGlobalData.num }}</text>\n          <text class=\"uni-common-mt\">globalData boolean: {{ newGlobalData.bool }}</text>\n          <text class=\"uni-common-mt\">globalData object: {{ newGlobalData.obj }}</text>\n          <text class=\"uni-common-mt\">globalData null: {{ newGlobalData.null }}</text>\n          <text class=\"uni-common-mt\">globalData array: {{ newGlobalData.arr }}</text>\n          <text class=\"uni-common-mt\">globalData Set: {{ newGlobalData.mySet }}</text>\n          <text class=\"uni-common-mt\">globalData Map: {{ newGlobalData.myMap }}</text>\n          <text class=\"uni-common-mt\">globalData func 返回值: {{ newGlobalDataFuncRes }}</text>\n        </template>\n        <text class=\"uni-common-mt\">点击按钮调用 App.uvue methods</text>\n        <text class=\"uni-common-mt\">increasetLifeCycleNum 方法</text>\n        <button class=\"uni-common-mt\" @click=\"_increasetLifeCycleNum\">\n          increase lifeCycleNum\n        </button>\n        <text class=\"uni-common-mt\">lifeCycleNum: {{ lifeCycleNum }}</text>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n\n<script lang=\"uts\">\n  import { state, setLifeCycleNum } from '@/store/index.uts'\n\n  type MyGlobalData = {\n    str : string,\n    num : number,\n    bool : boolean,\n    obj : UTSJSONObject,\n    null : string | null,\n    arr : number[],\n    mySet : string[],\n    myMap : UTSJSONObject,\n    func : () => string\n  }\n\n  export default {\n    data() {\n      return {\n        originGlobalData: {\n          str: '',\n          num: 0,\n          bool: false,\n          obj: {\n            str: '',\n            num: 0,\n            bool: false\n          } as UTSJSONObject,\n          null: null,\n          arr: [] as number[],\n          mySet: [] as string[],\n          myMap: {},\n          func: () : string => ''\n        } as MyGlobalData,\n        originGlobalDataFuncRes: '',\n        newGlobalData: {\n          str: '',\n          num: 0,\n          bool: false,\n          obj: {\n            str: '',\n            num: 0,\n            bool: false\n          } as UTSJSONObject,\n          null: null,\n          arr: [] as number[],\n          mySet: [] as string[],\n          myMap: {},\n          func: () : string => ''\n        } as MyGlobalData,\n        newGlobalDataFuncRes: '',\n        lifeCycleNum: 0,\n      }\n    },\n    onReady() {\n      this.lifeCycleNum = state.lifeCycleNum\n    },\n    methods: {\n      getGlobalData() {\n        const app = getApp()\n\n        this.originGlobalData.str = app.globalData.str\n        this.originGlobalData.num = app.globalData.num\n        this.originGlobalData.bool = app.globalData.bool\n        this.originGlobalData.obj = app.globalData.obj\n        this.originGlobalData.null = app.globalData.null\n        this.originGlobalData.arr = app.globalData.arr\n        app.globalData.mySet.forEach((value : string) => {\n          this.originGlobalData.mySet.push(value)\n        })\n        app.globalData.myMap.forEach((value : any, key : string) => {\n          this.originGlobalData.myMap[key] = value\n        })\n        this.originGlobalData.func = app.globalData.func\n        this.originGlobalDataFuncRes = this.originGlobalData.func()\n      },\n      setGlobalData() {\n        const app = getApp()\n\n        app.globalData.str = 'new globalData str'\n        app.globalData.num = 100\n        app.globalData.bool = true\n        app.globalData.obj = {\n          str: 'new globalData obj str',\n          num: 200,\n          bool: true\n        }\n        app.globalData.null = 'not null'\n        app.globalData.arr = [1, 2, 3]\n        app.globalData.mySet = new Set(['a', 'b', 'c'])\n        app.globalData.myMap = new Map([\n          ['a', 1],\n          ['b', 2],\n          ['c', 3]\n        ])\n        app.globalData.func = () : string => {\n          return 'new globalData func'\n        }\n\n        this.newGlobalData.str = app.globalData.str\n        this.newGlobalData.num = app.globalData.num\n        this.newGlobalData.bool = app.globalData.bool\n        this.newGlobalData.obj = app.globalData.obj\n        this.newGlobalData.null = app.globalData.null\n        this.newGlobalData.arr = app.globalData.arr\n        app.globalData.mySet.forEach((value : string) => {\n          this.newGlobalData.mySet.push(value)\n        })\n        app.globalData.myMap.forEach((value : any, key : string) => {\n          this.newGlobalData.myMap[key] = value\n        })\n        this.newGlobalData.func = app.globalData.func\n        this.newGlobalDataFuncRes = this.newGlobalData.func()\n      },\n      _increasetLifeCycleNum: function () {\n        const app = getApp()\n        app.increasetLifeCycleNum()\n        this.lifeCycleNum = state.lifeCycleNum\n      },\n      // 自动化测试\n      setLifeCycleNum(num : number) {\n        setLifeCycleNum(num)\n      }\n    },\n  }\n</script>\n\n<style>\n  .bold {\n    font-weight: bold;\n  }\n\n  .hr {\n    border-bottom: 1px solid #ccc;\n  }\n</style>\n",null],"names":[],"mappings":"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"}