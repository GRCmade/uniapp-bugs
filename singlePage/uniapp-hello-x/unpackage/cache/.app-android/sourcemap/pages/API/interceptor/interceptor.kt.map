{"version":3,"sources":["pages/API/interceptor/interceptor.uvue","pages/API/interceptor/interceptor.uvue?type=page","pages/ask/index/index.uvue?type=page","App.uvue"],"sourcesContent":["<template>\r\n  <view style=\"flex: 1;\">\r\n    <button @click=\"addInterceptor\">添加路由拦截器</button>\r\n    <button @click=\"removeInterceptor\">移除路由拦截器</button>\r\n    <text>点击下方按钮{{msg}}</text>\r\n    <button @click=\"navigateTo\">navigatorTo API跳转到测试页面</button>\n    <navigator url=\"./page1\"><button class=\"navigatorButton\">navigator组件跳转到测试页面</button></navigator>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  const interceptor = {\r\n    invoke: function (options : NavigateToOptions) {\r\n      console.log('拦截 navigateTo 接口传入参数为：', options)\r\n      const url = './page2'\r\n      uni.showToast({\r\n        title: `重定向到页面:${url}`\r\n      })\r\n      options.url = url\r\n    },\r\n    success: function (res : NavigateBackSuccess) {\r\n      console.log('拦截 navigateTo 接口 success 返回参数为：', res)\r\n    },\r\n    fail: function (err : NavigateToFail) {\r\n      console.log('拦截 navigateTo 接口 fail 返回参数为：', err)\r\n    },\r\n    complete: function (res : NavigateToComplete) {\r\n      console.log('拦截 navigateTo 接口 complete 返回参数为：', res)\r\n    }\r\n  } as Interceptor\r\n  export default {\r\n    data() {\r\n      return {\r\n        msg: \"会跳转到测试页面1\"\r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      // 移除 navigateTo 所有拦截器\r\n      uni.removeInterceptor('navigateTo')\r\n    },\r\n    methods: {\r\n      addInterceptor() {\r\n        uni.addInterceptor('navigateTo', interceptor)\r\n        uni.showToast({\r\n          title: '页面跳转已拦截'\r\n        })\r\n        this.msg = \"，路由被劫持到测试页面2\"\r\n      },\r\n      removeInterceptor() {\r\n        uni.removeInterceptor('navigateTo', interceptor)\r\n        uni.showToast({\r\n          title: '拦截器已移除'\r\n        })\r\n        this.msg = \"会跳转到测试页面1\"\r\n      },\r\n      navigateTo() {\r\n        uni.navigateTo({\r\n          url: './page1',\r\n          success(res) {\r\n            console.log('res:', res)\r\n          },\r\n          fail(err) {\r\n            console.error('err:', err)\r\n          },\r\n          complete(res) {\r\n            console.log('res:', res)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n",null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BA0CY;+BATH;+BAKC;+BA4BA;AApCH;;wBAMH,MAAgB;YAEd,sBAAsB;QACxB;;;;;;;;eAtCF,mBAMO,QAAA,SAND,WAAgB,eAAhB,SAAA,UAAA;YACJ,mBAAgD,UAAA,SAAvC,aAAO,KAAA,cAAc,GAAE,WAAO,CAAA,EAAA;gBAAA;aAAA;YACvC,mBAAmD,UAAA,SAA1C,aAAO,KAAA,iBAAiB,GAAE,WAAO,CAAA,EAAA;gBAAA;aAAA;YAC1C,mBAA0B,QAAA,IAAA,EAApB,WAAM,gBAAE,KAAA,GAAG,GAAA,CAAA;YACjB,mBAA2D,UAAA,SAAlD,aAAO,KAAA,UAAU,GAAE,0BAAsB,CAAA,EAAA;gBAAA;aAAA;YAClD,YAAgG,sBAAA,SAArF,SAAI,YAAS,kCAAC,gBAA2D,GAAA;uBAAA;oBAA3D,mBAA2D,UAAA,SAAnD,WAAM,oBAAkB;;;;;;aA2BrD;;;wBAAA,SAAK;;;aAQP,iBAAA,MAAiB;YACf,mBAAmB,cAAc;YACjC,+BACE,QAAO;YAET,IAAI,CAAC,GAAE,GAAI;QACb;;aACA,oBAAA,MAAoB;YAClB,sBAAsB,cAAc;YACpC,+BACE,QAAO;YAET,IAAI,CAAC,GAAE,GAAI;QACb;;aACA,aAAA,MAAa;YACX,iCACE,MAAK,WACL,UAAA,IAAQ,GAAG,EAAE;gBACX,QAAQ,GAAG,CAAC,QAAQ,KAAG;YACzB;cACA,OAAA,IAAK,GAAG,EAAE;gBACR,QAAQ,KAAK,CAAC,QAAQ,KAAG;YAC3B;cACA,WAAA,IAAS,GAAG,EAAE;gBACZ,QAAQ,GAAG,CAAC,QAAQ,KAAG;YACzB;;QAEJ;;;sBA3BA;sBAOA;sBAOA;;;;;;;;;;;;;;;AAeJ"}