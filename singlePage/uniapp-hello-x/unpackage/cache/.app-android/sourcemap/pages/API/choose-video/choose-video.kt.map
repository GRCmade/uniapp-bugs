{"version":3,"sources":["pages/API/choose-video/choose-video.uvue","pages/API/choose-video/choose-video.uvue?type=page","uni_modules/uni-upgrade-center-app/components/uni-upgrade-center-app/uni-upgrade-center-app.uvue"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex:1\">\n\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-padding-wrap\">\n      <video class=\"video\" :src=\"src\" :controls=\"true\"></video>\n      <view class=\"uni-title\">\n        <text class=\"uni-subtitle-text\">视频信息</text>\n      </view>\n      <text>{{videoInfo}}</text>\n      <view class=\"uni-btn-v\">\n        <button type=\"primary\" @click=\"chooseVideo\">选取视频</button>\n      </view>\n      <enum-data title=\"视频来源\" :items=\"sourceTypeItemTypes\" @change=\"onSourceTypeChange\"></enum-data>\n      <enum-data title=\"摄像头\" :items=\"cameraItemTypes\" @change=\"onCameraChange\"></enum-data>\n    </view>\n    <input-data title=\"最长拍摄时间，单位秒\" defaultValue=\"60\" type=\"number\" @confirm=\"onMaxDurationConfirm\"></input-data>\n\n    <view class=\"uni-padding-wrap\">\n      <boolean-data title=\"是否压缩\" :defaultValue=\"true\" @change=\"onCompressedChange\"></boolean-data>\n    </view>\n\n\n  </scroll-view>\n\n</template>\n\n<script>\n  import { ItemType } from '@/components/enum-data/enum-data';\n  export default {\n    data() {\n      return {\n        title: \"chooseVideo\",\n        src: \"\",\n        sourceTypeItemTypes: [{ \"value\": 0, \"name\": \"从相册中选择视频\" }, { \"value\": 1, \"name\": \"拍摄视频\" }, { \"value\": 2, \"name\": \"从相册中选择视频或拍摄视频\" }] as ItemType[],\n        sourceTypeItems: [[\"album\"], [\"camera\"], [\"album\", \"camera\"]],\n        cameraItemTypes: [{ \"value\": 0, \"name\": \"后置摄像头\" }, { \"value\": 1, \"name\": \"前置摄像头\" }] as ItemType[],\n        cameraItems: [\"back\", \"front\"],\n        sourceType: [\"album\", \"camera\"],\n        compressed: true,\n        maxDuration: 60,\n        camera: \"back\",\n        videoInfo: \"\"\n      }\n    },\n    methods: {\n      chooseVideo() {\n        uni.chooseVideo({\n          sourceType: this.sourceType,\n\n          compressed: this.compressed,\n\n          maxDuration: this.maxDuration,\n          camera: this.camera,\n          success: (res) => {\n            console.log(\"chooseVideo success\", JSON.stringify(res));\n            this.src = res.tempFilePath;\n            this.videoInfo = `视频长度: ${res.duration}s\\n视频大小: ${Math.ceil(res.size / 1024)}KB\\n视频宽度: ${res.width}\\n视频高度: ${res.height}\\n`;\n          },\n          fail: (err) => {\n            uni.showModal({\n              title: \"选择视频失败\",\n              content: JSON.stringify(err),\n              showCancel: false\n            });\n          }\n        });\n      },\n      onSourceTypeChange(value : number) {\n        this.sourceType = this.sourceTypeItems[value];\n      },\n      onCompressedChange(value : boolean) {\n        this.compressed = value;\n      },\n      onMaxDurationConfirm(value : number) {\n        this.maxDuration = value;\n      },\n      onCameraChange(value : number) {\n        this.camera = this.cameraItems[value];\n      }\n    }\n  }\n</script>\n\n<style>\n  .video {\n    align-self: center;\n    width: 300px;\n    height: 225px;\n  }\n</style>\n",null,null],"names":[],"mappings":"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"}