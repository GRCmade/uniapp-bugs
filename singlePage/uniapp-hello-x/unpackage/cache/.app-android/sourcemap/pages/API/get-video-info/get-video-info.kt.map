{"version":3,"sources":["pages/API/get-video-info/get-video-info.uvue","pages/API/choose-video/choose-video.uvue?type=page","pages/API/get-video-info/get-video-info.uvue?type=page","uni_modules/uni-upgrade-center-app/components/uni-upgrade-center-app/uni-upgrade-center-app.uvue"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex:1\">\n\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-padding-wrap\">\n      <view class=\"uni-title\">\n        <text class=\"uni-subtitle-text\">获取本地绝对路径视频信息</text>\n      </view>\n      <video class=\"video\" :src=\"absoluteVideoPath\" :controls=\"true\"></video>\n      <text class=\"margin-top-10\">{{absoluteVideoInfo}}</text>\n      <view class=\"uni-btn-v\">\n        <button type=\"primary\" @click=\"chooseVideo\">拍摄视频或从相册中选择视频</button>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        title: \"getVideoInfo\",\n        absoluteVideoPath: \"\",\n        absoluteVideoInfo: \"\",\n        // 自动化测试\n        videoInfoForTest: null as UTSJSONObject | null\n      }\n    },\n    methods: {\n      chooseVideo() {\n        uni.chooseVideo({\n          compressed: false,\n          success: (res) => {\n            this.absoluteVideoPath = res.tempFilePath;\n            uni.getVideoInfo({\n              src: res.tempFilePath,\n              success: (_res) => {\n                console.log(\"getVideoInfo success\", JSON.stringify(res));\n                this.absoluteVideoInfo = `视频画面方向: ${_res.orientation}\\n视频格式: ${_res.type}\\n视频长度: ${_res.duration}s\\n视频大小: ${_res.size}KB\\n视频宽度: ${_res.width}\\n视频高度: ${_res.height}\\n视频帧率: ${_res.fps}fps\\n视频码率: ${_res.bitrate}kbps`;\n              },\n              fail: (err) => {\n                uni.showModal({\n                  title: \"获取视频信息失败\",\n                  content: JSON.stringify(err),\n                  showCancel: false\n                });\n              }\n            });\n          }\n        });\n      },\n      testGetVideoInfo() {\n        uni.getVideoInfo({\n          src: '/static/test-video/10second-demo.mp4',\n          success: (res) => {\n            this.videoInfoForTest = {\n              \"orientation\": res.orientation,\n              \"type\": res.type,\n              \"duration\": res.duration.toInt(),\n              \"size\": res.size,\n              \"width\": res.width,\n              \"height\": res.height,\n              \"fps\": res.fps,\n              \"bitrate\": res.bitrate\n            };\n          },\n          fail: (_) => {\n            this.videoInfoForTest = null;\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style>\n  .video {\n    align-self: center;\n  }\n\n  .margin-top-10 {\n    margin-top: 10px;\n  }\n</style>\n",null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;+BAqCgB;;AAhBT;;;;;;;eAnBL,mBAcc,eAAA,SAdD,WAAc,eAAd,SAAA,UAAA;YAEX,YAAsC,sBAAA,SAA1B,WAAO,KAAA,KAAK,GAAA,IAAA,EAAA,CAAA,EAAA;gBAAA;aAAA;YACxB,mBASO,QAAA,SATD,WAAM,qBAAkB;gBAC5B,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAAmD,QAAA,SAA7C,WAAM,sBAAoB;;gBAElC,mBAAuE,SAAA,SAAhE,WAAM,SAAS,SAAK,KAAA,iBAAiB,EAAG,cAAU,IAAI;;;gBAC7D,mBAAwD,QAAA,SAAlD,WAAM,kBAAe,gBAAG,KAAA,iBAAiB,GAAA,CAAA;gBAC/C,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAAkE,UAAA,SAA1D,UAAK,WAAW,aAAO,KAAA,WAAW,GAAE,iBAAa,CAAA,EAAA;wBAAA;qBAAA;;;;;aAYzD;aACA;aACA;aAEA,kBAA0B;;;wBAJ1B,WAAO,gBACP,uBAAmB,IACnB,uBAAmB,IAEnB,sBAAkB,IAAG,CAAE,EAAC,CAAE;;;aAI5B,cAAA,MAAc;YACZ,mCACE,aAAY,KAAK,EACjB,UAAS,IAAC,IAAQ;gBAChB,IAAI,CAAC,iBAAgB,GAAI,IAAI,YAAY;gBACzC,qCACE,MAAK,IAAI,YAAY,EACrB,UAAS,IAAC,KAAS;oBACjB,QAAQ,GAAG,CAAC,wBAAwB,KAAK,SAAS,CAAC,MAAK;oBACxD,IAAI,CAAC,iBAAgB,GAAI,AAAC,2CAAU,KAAK,WAAW,GAAC,iCAAU,KAAK,IAAI,GAAC,iCAAU,KAAK,QAAQ,GAAC,kCAAW,KAAK,IAAI,GAAC,mCAAY,KAAK,KAAK,GAAC,iCAAU,KAAK,MAAM,GAAC,iCAAU,KAAK,GAAG,GAAC,oCAAa,KAAK,OAAO,GAAC;gBAClN;kBACA,OAAM,IAAC,IAAQ;oBACb,+BACE,QAAO,YACP,UAAS,KAAK,SAAS,CAAC,MACxB,aAAY,KAAI;gBAEpB;;YAEJ;;QAEJ;;aACA,mBAAA,MAAmB;YACjB,qCACE,MAAK,wCACL,UAAS,IAAC,IAAQ;gBAChB,IAAI,CAAC,gBAAe,GAAI;oBACtB,kBAAe,IAAI,WAAW;oBAC9B,WAAQ,IAAI,IAAI;oBAChB,eAAY,IAAI,QAAQ,CAAC,KAAK;oBAC9B,WAAQ,IAAI,IAAI;oBAChB,YAAS,IAAI,KAAK;oBAClB,aAAU,IAAI,MAAM;oBACpB,UAAO,IAAI,GAAG;oBACd,cAAW,IAAI,OAAM;iBACtB;YACH;cACA,OAAM,IAAC,EAAM;gBACX,IAAI,CAAC,gBAAe,GAAI,IAAI;YAC9B;;QAEJ;;;sBAzCA;sBAsBA;;;;;;;;;;;;;;;;;;;;;AAqBJ"}