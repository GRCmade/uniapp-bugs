{"version":3,"sources":["pages/API/get-current-pages/get-current-pages.uvue","pages/API/get-current-pages/get-current-pages.uvue?type=page","pages/component/unicloud-db-contacts/list.uvue?type=page","uni_modules/test-invoke-network-api/utssdk/interface.uts"],"sourcesContent":["<template>\n\n  <scroll-view class=\"page-scroll-view\">\n\n    <page-head title=\"getCurrentPages\"></page-head>\n    <view class=\"uni-padding-wrap\">\n      <button @click=\"_getCurrentPages\">getCurrentPages</button>\n      <view v-if=\"pages.length\" style=\"padding: 15px 0px\">\n        <text>当前页面栈中 {{ pages.length }} 个页面，列表如下：</text>\n        <template v-for=\"(page, index) in pages\" :key=\"page.route\">\n          <text style=\"margin-top: 5px\">index: {{ index }}, route: {{ page.route }}</text>\n        </template>\n      </view>\n    </view>\n\n    <page-head title=\"currentPageStyle\"></page-head>\n    <template v-for=\"(item, index) in PageStyleArray\">\n      <view class=\"page-style-item\" v-if=\"currentPageStyle[item.key]!=null\" :key=\"index\">\n        <view class=\"item-text\">\n          <text class=\"item-text-key\">{{item.key}}:</text>\n          <text class=\"item-text-value\">{{currentPageStyle[item.key]}}</text>\n        </view>\n        <view class=\"set-value\" v-if=\"item.type == 'boolean'\">\n          <switch :checked=\"currentPageStyle.getBoolean(item.key)\"\n            @change=\"switchChange(item.key, $event as UniSwitchChangeEvent)\">\n          </switch>\n        </view>\n        <view class=\"set-value\" v-else-if=\"item.type == 'number'\">\n          <slider :value=\"currentPageStyle.getNumber(item.key)\" :show-value=\"true\"\n            @change=\"sliderChange(item.key, $event as UniSliderChangeEvent)\" />\n        </view>\n        <view class=\"set-value\" v-else-if=\"item.type == 'string'\">\n          <radio-group class=\"radio-set-value\" @change=\"radioChange(item.key, $event as RadioGroupChangeEvent)\">\n            <radio class=\"radio-value\" v-for=\"(item2, index2) in item.value\" :key=\"index2\" :value=\"item2\" >{{item2}}</radio>\n          </radio-group>\n        </view>\n      </view>\n    </template>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  import { PageStyleItem, PageStyleArray } from './page-style.uts';\n\n  class Page {\n    constructor(public route : string) {\n    }\n  }\n\n  export default {\n    data() {\n      return {\n        checked: false,\n        pages: [] as Page[],\n        PageStyleArray: PageStyleArray as PageStyleItem[],\n        currentPageStyle: {} as UTSJSONObject,\n      }\n    },\n    computed: {\n      pageStyleText() : string {\n        return JSON.stringify(this.currentPageStyle)\n      }\n    },\n    onLoad() {\n      this.getPageStyle();\n    },\n    onPullDownRefresh() {\n      setTimeout(() => {\n        uni.stopPullDownRefresh()\n      }, 2000)\n    },\n    methods: {\n      startPullDownRefresh() {\n        uni.startPullDownRefresh()\n      },\n      _getCurrentPages: function () {\n        this.pages.length = 0\n        const pages = getCurrentPages()\n        this.pages.push(new Page(pages[0].route))\n        if (this.pages[0].route.includes('/tabBar/')) {\n          this.checked = true\n        }\n        for (let i = 1; i < pages.length; i++) {\n          this.pages.push(new Page(pages[i].route))\n          if (pages[i].route.includes('/tabBar/')) {\n            this.checked = false\n          }\n        }\n      },\n      /// get-set-page-style\n      radioChange(key : string, e : RadioGroupChangeEvent) {\n        this.setStyleValue(key, e.detail.value);\n      },\n      sliderChange(key : string, e : UniSliderChangeEvent) {\n        this.setStyleValue(key, e.detail.value);\n      },\n      switchChange(key : string, e : UniSwitchChangeEvent) {\n        this.setStyleValue(key, e.detail.value);\n      },\n      setStyleValue(key : string, value : any) {\n        const style = {}\n        style[key] = value\n        this.setPageStyle(style)\n        this.getPageStyle()\n      },\n      getPageStyle() : UTSJSONObject {\n        const pages = getCurrentPages();\n        const currentPage = pages[pages.length - 1];\n        this.currentPageStyle = currentPage.$getPageStyle()\n        return this.currentPageStyle;\n      },\n      setPageStyle(style : UTSJSONObject) {\n        console.log('setPageStyle:', style);\n        const pages = getCurrentPages();\n        const currentPage = pages[pages.length - 1];\n        currentPage.$setPageStyle(style);\n      },\n      // getCurrentPage(): Page {\n      //   const pages = getCurrentPages();\n      //   const currentPage = pages[pages.length - 1];\n      //   return currentPage;\n      // }\n    },\n  }\n</script>\n\n<style>\n  .page {\n    flex: 1;\n    padding: 10px;\n  }\n\n  .page-style {\n    margin-top: 15px;\n  }\n\n  .page-style-item {\n    padding: 10px;\n    margin-top: 10px;\n    background-color: #ffffff;\n    border-radius: 5px;\n  }\n\n  .item-text {\n    flex-direction: row;\n  }\n\n  .item-text-key {\n    font-weight: bold;\n  }\n\n  .item-text-value {\n    margin-left: 5px;\n  }\n\n  .set-value {\n    margin-top: 10px;\n  }\n\n  .radio-set-value {\n    flex-direction: row;\n  }\n\n  .radio-value {\n    margin-left: 10px;\n  }\n</style>\n",null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BA8EY;+BAJE;AApBN;;eAcJ,sBAAS;YACP,IAAI,CAAC,YAAY;;;gCAEV;YACR,WAAA,KAAA;gBACG;YACF;cAAG,IAAI;;;;;;;;;;;;;eAxEX,mBAqCc,eAAA,SArCD,WAAM,qBAAkB;YAEnC,YAA+C,sBAAA,SAApC,WAAM;YACjB,mBAQO,QAAA,SARD,WAAM,qBAAkB;gBAC5B,mBAA0D,UAAA,SAAjD,aAAO,KAAA,gBAAgB,GAAE,mBAAe,CAAA,EAAA;oBAAA;iBAAA;2BACrC,KAAA,KAAK,CAAC,MAAM;oBAAxB,mBAKO,QAAA,qBALmB,WAAyB,eAAzB,SAAA,aAAA;wBACxB,mBAAgD,QAAA,IAAA,EAA1C,YAAO,gBAAG,KAAA,KAAK,CAAC,MAAM,IAAG,cAAU,CAAA;wBACzC,mBAEW,UAAA,IAAA,EAAA,cAAA,UAAA,CAFuB,KAAA,KAAK,EAAA,IAArB,MAAM,OAAN,SAAI,UAAA,GAAA,CAAA;mCACpB,mBAAgF,QAAA,kBADnC,KAAK,KAAK,EACjD,WAAuB,eAAvB,SAAA,gBAAA,UAAwB,YAAO,gBAAG,SAAQ,cAAS,gBAAG,KAAK,KAAK,GAAA,CAAA;;;;;;;YAK5E,YAAgD,sBAAA,SAArC,WAAM;YACjB,mBAqBW,UAAA,IAAA,EAAA,cAAA,UAAA,CArBuB,KAAA,cAAc,EAAA,IAA9B,MAAM,OAAN,SAAI,UAAA,GAAA,CAAA;;oBACgB,IAAA,KAAA,gBAAgB,CAAC,KAAK,GAAG,CAAA,IAAA,IAAA;wBAA7D,mBAmBO,QAAA,SAnBD,WAAM,mBAA2D,SAAK;4BAC1E,mBAGO,QAAA,SAHD,WAAM,cAAW;gCACrB,mBAAgD,QAAA,SAA1C,WAAM,kBAAe,gBAAG,KAAK,GAAG,IAAE,KAAC,CAAA;gCACzC,mBAAmE,QAAA,SAA7D,WAAM,oBAAiB,gBAAG,KAAA,gBAAgB,CAAC,KAAK,GAAG,CAAA,GAAA,CAAA;;4BAE7B,IAAA,KAAK,IAAI,IAAA;gCAAvC,mBAIO,QAAA,qBAJD,WAAM;oCACV,YAES,mBAAA,SAFA,aAAS,KAAA,gBAAgB,CAAC,UAAU,CAAC,KAAK,GAAG,GACnD,cAAM,IAAA,UAAA,GAAA,CAAA;wCAAE,KAAA,YAAY,CAAC,KAAK,GAAG,EAAE,SAAM,EAAA,CAAA;oCAAA;;;;;;gCAGP,IAAA,KAAK,IAAI,IAAA;oCAA5C,mBAGO,QAAA,qBAHD,WAAM;wCACV,YACqE,mBAAA,SAD5D,WAAO,KAAA,gBAAgB,CAAC,SAAS,CAAC,KAAK,GAAG,GAAI,gBAAY,IAAI,EACpE,cAAM,IAAA,UAAA,GAAA,CAAA;4CAAE,KAAA,YAAY,CAAC,KAAK,GAAG,EAAE,SAAM,EAAA,CAAA;wCAAA;;;;;;oCAEP,IAAA,KAAK,IAAI,IAAA;wCAA5C,mBAIO,QAAA,qBAJD,WAAM;4CACV,YAEc,wBAAA,SAFD,WAAM,mBAAmB,cAAM,IAAA,UAAA,GAAA,CAAA;gDAAE,KAAA,WAAW,CAAC,KAAK,GAAG,EAAE,SAAM,EAAA,CAAA;4CAAA,sCAC7C,gBAAqC,GAAA;uDAAA;oDAAhE,mBAAgH,UAAA,IAAA,EAAA,cAAA,UAAA,CAA3D,KAAK,KAAK,EAAA,IAA5B,OAAO,QAAP,SAAK,UAAA,GAAA,CAAA;+DAAxC,YAAgH,kBAAA,SAAzG,WAAM,eAAqD,SAAK,QAAS,WAAO,0CAAQ,gBAAS,GAAA;mEAAA;gEAAA,gBAAP;6DAAK;;;;;;;;;;;;;;;;;;;;;;;;aAwB1G;aACF,gBAAA;aACD;aACG,kBAAM;4BAIT,MAAA;;;wBAPG,aAAS,KAAK,EAChB,WAAA,WAAA,UACD,8EACG,sBAAM,eAAA,8BAIT,MAAA,EAAA,OAAA,MAAA,CAAA;YACG,OAAK,KAAA,SAAA,CAAA,IAAA,CAAA,gBAAA;QACP;;;;aAWA,uBAAA,MAAuB;YACrB;;;gCAEgB,MAAY;YAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;gBACf,QAAO;YACb,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,CAAA,CAAA,CAAA,KAAA;YACA,IAAI,IAAG,CAAE,KAAK,CAAA,CAAE,CAAA,CAAE,KAAK,CAAC,QAAQ,CAAA,aAAO;gBACrC,IAAI,CAAC,OAAO,GAAG,IAAG;;;gBAEf,IAAI,YAAI,CAAC;sBAAC,IAAK,MAAG,MAAA;oBACrB,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA,CAAA,KAAA;oBACF,IAAA,KAAA,CAAA,EAAA,CAAA,KAAA,CAAA,QAAA,CAAA,aAAA;wBACD,IAAA,CAAA,OAAA,GAAA,KAAA;oBACG;oBAJqB;;YAKvB;;;aAGF,cAAA,IAAY,KAAK,MAAO,EAAC,GAAI,qBAAsB,EAAE;YACnD,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK;QACxC;;aACA,eAAA,IAAa,KAAM,MAAM,EAAE,GAAI,oBAAoB,EAAE;YACnD,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK;QACxC;;aACA,eAAA,IAAa,KAAK,MAAO,EAAC,GAAK,oBAAU,EAAA;YACvC,IAAI,CAAA,aAAW,CAAA,KAAA,EAAA,MAAA,CAAA,KAAA;;;iCAEH,KAAM,MAAK,EAAA,OAAA,GAAA,EAAA;YACvB,IAAM,QAAQ,uBAAI,qBAAA,SAAA,sDAAA,GAAA,EAAA,EAAA;aAAA;YACnB,KAAA,CAAA,IAAA,GAAA;YACC,IAAI,CAAC,YAAY,CAAC;YAClB,IAAI,CAAA,YAAa;;;mCAEF,cAAc;YAC7B,IAAK,QAAS;YACf,IAAA,cAAA,KAAA,CAAA,MAAA,MAAA,GAAA,CAAA,CAAA;YACC,IAAI,CAAC,gBAAgB,GAAG,YAAU,eAAA;YAClC,OAAO,IAAI,CAAC,gBAAe;;;gCAEhB,OAAO,aAAc,EAAE;YAClC,QAAQ,GAAG,CAAC,iBAAiB,OAAG;YACjC,IAAA,QAAA;YACA,IAAO,cAAc,KAAI,CAAA,MAAA,MAAA,GAAA,CAAA,CAAA;YACzB,YAAa,eAAa,CAAC;QAC5B;;;sBA5CA;;sBAkBA,cAAY,KAAK,MAAO,EAAC,GAAI;sBAG7B,eAAa,KAAM,MAAM,EAAE,GAAI;sBAG/B,eAAa,KAAK,MAAO,EAAC,GAAK;sCAGjB,KAAM,MAAK,EAAA,OAAA,GAAA;0CAMR;qCAMJ,OAAO"}