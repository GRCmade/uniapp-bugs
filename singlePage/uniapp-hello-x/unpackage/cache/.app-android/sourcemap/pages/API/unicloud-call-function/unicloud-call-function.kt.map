{"version":3,"sources":["pages/API/unicloud-call-function/unicloud-call-function.uvue","node-modules/@dcloudio/uni-components/lib-x/unicloud-db/unicloud-db.vue","pages/API/toast/toast.uvue?type=page","uni_modules/uni-upgrade-center-app/components/uni-upgrade-center-app/uni-upgrade-center-app.uvue","pages/API/unicloud-call-function/unicloud-call-function.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view class=\"page-scroll-view\">\n\n    <view>\n      <page-head :title=\"title\"></page-head>\n      <view class=\"uni-padding-wrap uni-common-mt\">\n        <view class=\"uni-btn-v uni-common-mt\">\n          <button type=\"primary\" @click=\"callFunction\">请求云函数</button>\n          <button type=\"primary\" @click=\"callFunctionWithGeneric\">请求云函数传入泛型</button>\n        </view>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        title: '请求云函数',\n        callFunctionResult: {},\n        callFunctionError: {},\n        genericDemoShowMessage: '',\n        isUniTest: false\n      }\n    },\n    onLoad() {\n    },\n    onUnload() {\n      if (this.isUniTest) {\n        uni.hideToast()\n      }\n    },\n    methods: {\n      notify(content : string, title : string) {\n        if (!this.isUniTest) {\n          uni.showModal({\n            title,\n            content,\n            showCancel: false\n          })\n        } else {\n          console.log(title, content)\n        }\n      },\n      async callFunctionWithGeneric() : Promise<void> {\n        type EchoCfResult = {\n          showMessage: string\n        }\n        uni.showLoading({\n          title: '加载中...'\n        })\n        await uniCloud.callFunction<EchoCfResult>({\n          name: 'echo-cf',\n          data: {\n            num: 1,\n            str: 'ABC'\n          }\n        }).then(res => {\n          const result = res.result\n          uni.hideLoading()\n          this.genericDemoShowMessage = result.showMessage\n          this.notify(result.showMessage, '提示')\n        }).catch((err : any | null) => {\n          const error = err as UniCloudError\n          this.callFunctionError = {\n            errCode: error.errCode,\n            errMsg: error.errMsg\n          }\n          uni.hideLoading()\n          this.notify(error.errMsg, '错误')\n        })\n      },\n      async callFunction() : Promise<void> {\n        uni.showLoading({\n          title: '加载中...'\n        })\n        await uniCloud.callFunction({\n          name: 'echo-cf',\n          data: {\n            num: 1,\n            str: 'ABC'\n          }\n        }).then(res => {\n          const result = res.result\n          this.callFunctionResult = result\n          console.log(JSON.stringify(result))\n          uni.hideLoading()\n          this.notify(result['showMessage'] as string, '提示')\n        }).catch((err : any | null) => {\n          const error = err as UniCloudError\n          this.callFunctionError = {\n            errCode: error.errCode,\n            errMsg: error.errMsg\n          }\n          uni.hideLoading()\n          this.notify(error.errMsg, '错误')\n        })\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n",null,null,null,null],"names":[],"mappings":"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"}