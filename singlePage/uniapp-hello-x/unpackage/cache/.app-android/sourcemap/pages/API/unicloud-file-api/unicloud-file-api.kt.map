{"version":3,"sources":["pages/API/unicloud-file-api/unicloud-file-api.uvue","pages/API/upload-file/upload-file.uvue?type=page","node-modules/@dcloudio/uni-components/lib-x/unicloud-db/unicloud-db.vue","uni_modules/uni-upgrade-center-app/components/uni-upgrade-center-app/uni-upgrade-center-app.uvue","pages/API/unicloud-file-api/unicloud-file-api.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view class=\"page-scroll-view\">\n\n    <view>\n      <page-head :title=\"title\"></page-head>\n      <view class=\"uni-padding-wrap uni-common-mt\">\n        <view class=\"uni-btn-v uni-common-mt\">\n          <button type=\"primary\" @click=\"uploadFile\">选择文件上传</button>\n          <button type=\"primary\" @click=\"chooseAndUploadFile\">一个接口选择文件并上传</button>\n        </view>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n<script>\n  export default {\n    data() {\n      return {\n        title: '云存储'\n      }\n    },\n    onLoad() {\n    },\n    onUnload() {\n    },\n    methods: {\n      uploadFile: function () {\n        uni.chooseImage({\n          count: 1,\n          success(res) : void {\n            uni.showLoading({\n              title: '上传中...'\n            })\n            const tempFilePath = res.tempFilePaths[0]\n            uniCloud.uploadFile({\n              filePath: tempFilePath,\n              cloudPath: 'test.jpg'\n            })\n              .then(function (res) {\n                uni.hideLoading()\n                console.log(res)\n                uni.showModal({\n                  content: '上传成功',\n                  showCancel: false\n                });\n              })\n              .catch(function (err : any | null) {\n                uni.hideLoading()\n                const error = err as UniCloudError\n                uni.showModal({\n                  content: '上传失败，' + error.errMsg,\n                  showCancel: false\n                });\n              })\n            // .finally((_: number) : void => {\n            //   uni.hideLoading()\n            // })\n          },\n          fail(err) : void {\n            console.error('chooseImage fail: ', err)\n          }\n        })\n      },\n      chooseAndUploadFile() {\n        uniCloud.chooseAndUploadFile({\n          type: 'image'\n        }).then(function (res) {\n            uni.hideLoading()\n            console.log(res)\n            uni.showModal({\n              content: '上传成功',\n              showCancel: false\n            });\n          })\n          .catch(function (err : any | null) {\n            uni.hideLoading()\n            const error = err as UniCloudError\n            uni.showModal({\n              content: '上传失败，' + error.errMsg,\n              showCancel: false\n            });\n          })\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n",null,null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkBO;;eAMH,sBAAS,CACT;iBACA,MAAW,CACX;;;;;;;eAzBF,mBAYc,eAAA,SAZD,WAAM,qBAAkB;YAEnC,mBAQO,QAAA,IAAA,EAAA;gBAPL,YAAsC,sBAAA,SAA1B,WAAO,KAAA,KAAK,GAAA,IAAA,EAAA,CAAA,EAAA;oBAAA;iBAAA;gBACxB,mBAKO,QAAA,SALD,WAAM,mCAAgC;oBAC1C,mBAGO,QAAA,SAHD,WAAM,4BAAyB;wBACnC,mBAA0D,UAAA,SAAlD,UAAK,WAAW,aAAO,KAAA,UAAU,GAAE,UAAM,CAAA,EAAA;4BAAA;yBAAA;wBACjD,mBAAwE,UAAA,SAAhE,UAAK,WAAW,aAAO,KAAA,mBAAmB,GAAE,eAAW,CAAA,EAAA;4BAAA;yBAAA;;;;;;aAYjE;;;wBAAA,WAAO;;;aAQT,aAAY,MAAY;YACtB,mCACE,QAAO,CAAC,EACR,UAAA,IAAQ,GAAG,GAAI,IAAG,CAAE;gBAClB,mCACE,QAAO;gBAET,IAAM,eAAe,IAAI,aAAa,CAAC,CAAC,CAAA;gBACxC,SAAS,UAAU,2BACjB,WAAU,cACV,YAAW,aAEV,IAAI,CAAC,IAAU,GAAG,EAAE;oBACnB;oBACA,QAAQ,GAAG,CAAC,KAAG;oBACf,+BACE,UAAS,QACT,aAAY,KAAI;gBAEpB;kBACC,OAAK,CAAC,IAAU,KAAM,GAAE,CAAQ,EAAE;oBACjC;oBACA,IAAM,QAAQ,IAAI,EAAC,CAAE;oBACrB,+BACE,UAAS,UAAU,MAAM,MAAM,EAC/B,aAAY,KAAI;gBAEpB;;YAIJ;cACA,OAAA,IAAK,GAAG,GAAI,IAAG,CAAE;gBACf,QAAQ,KAAK,CAAC,sBAAsB,KAAG;YACzC;;QAEJ;;aACA,sBAAA,MAAsB;YACpB,SAAS,mBAAmB,oCAC1B,OAAM,UACL,IAAI,CAAC,IAAU,GAAG,EAAE;gBACnB;gBACA,QAAQ,GAAG,CAAC,KAAG;gBACf,+BACE,UAAS,QACT,aAAY,KAAI;YAEpB;cACC,OAAK,CAAC,IAAU,KAAM,GAAE,CAAQ,EAAE;gBACjC;gBACA,IAAM,QAAQ,IAAI,EAAC,CAAE;gBACrB,+BACE,UAAS,UAAU,MAAM,MAAM,EAC/B,aAAY,KAAI;YAEpB;;QACJ;;;sBAxDA;sBAqCA;;;;;;;;;;;;;;;AAqBJ"}