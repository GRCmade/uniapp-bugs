{"version":3,"sources":["pages/API/get-system-info/get-system-info.uvue","pages/API/get-system-info/get-system-info.uvue?type=page","uni_modules/uni-upgrade-center-app/utils/call-check-version.ts"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex: 1\">\n\n    <view>\n      <page-head :title=\"title\"></page-head>\n      <view class=\"uni-common-mt\">\n        <view class=\"uni-list\">\n          <view class=\"uni-list-cell\" v-for=\"(item, _) in items\" style=\"align-items: center\">\n            <view class=\"uni-pd\">\n              <view class=\"uni-label\" style=\"width: 180px\">{{\n                item.label\n              }}</view>\n            </view>\n            <view class=\"uni-list-cell-db\">\n              <text style=\"width: 100%;\">{{ item.value == '' ? '未获取' : item.value }}</text>\n            </view>\n          </view>\n        </view>\n        <view class=\"uni-padding-wrap\">\n          <view class=\"uni-btn-v\">\n            <button type=\"primary\" @tap=\"getSystemInfoSync\">\n              同步获取设备系统信息\n            </button>\n            <button type=\"primary\" @tap=\"getSystemInfo\" style=\"margin-top: 20px;\">\n              异步获取设备系统信息\n            </button>\n          </view>\n        </view>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n<script>\n  type Item = {\n    label : string,\n    value : string,\n  }\n  export default {\n    data() {\n      return {\n        title: 'getSystemInfo',\n        items: [] as Item[],\n      }\n    },\n    onUnload: function () {\n    },\n    methods: {\n      getSystemInfo: function () {\n        uni.getSystemInfo({\n          success: (res) => {\n            this.items = [] as Item[];\n            const res_str = JSON.stringify(res);\n            const res_obj =  JSON.parseObject(res_str);\n            const res_map = res_obj!.toMap();\n            let keys = [] as string[]\n            res_map.forEach((_, key) => {\n               keys.push(key);\n            });\n            keys.sort().forEach( key => {\n              const value = res[key];\n              if(value != null){\n                const item = {\n                \tlabel: key,\n                \tvalue: \"\" + ((typeof value == \"object\")? JSON.stringify(value) : value)\n                } as Item;\n                this.items.push(item);\n              }\n            });\n          },\n        })\n      },\n      getSystemInfoSync: function () {\n        this.items = [] as Item[];\n        const res = uni.getSystemInfoSync()\n        const res_str = JSON.stringify(res);\n        const res_obj =  JSON.parseObject(res_str);\n        const res_map = res_obj!.toMap();\n        let keys = [] as string[]\n        res_map.forEach((_, key) => {\n           keys.push(key);\n        });\n        keys.sort().forEach( key => {\n          const value = res[key];\n          if(value != null){\n            const item = {\n            \tlabel: key,\n            \tvalue: \"\" + ((typeof value == \"object\")? JSON.stringify(value) : value)\n            } as Item;\n            this.items.push(item);\n          }\n        });\n      },\n      //自动化测试例专用\n      jest_getSystemInfo() : GetSystemInfoResult {\n        return uni.getSystemInfoSync();\n      },\n    }\n  }\n</script>\n\n<style>\n  .uni-pd {\n    padding-left: 15px;\n  }\n</style>\n",null,null],"names":[],"mappings":"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"}