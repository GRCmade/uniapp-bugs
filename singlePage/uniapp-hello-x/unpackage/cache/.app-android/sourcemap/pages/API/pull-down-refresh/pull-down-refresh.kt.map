{"version":3,"sources":["pages/API/pull-down-refresh/pull-down-refresh.uvue","pages/API/get-current-pages/get-current-pages.uvue?type=page","pages/component/unicloud-db-contacts/list.uvue?type=page","pages/API/pull-down-refresh/pull-down-refresh.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex: 1;\">\n\n    <!-- 实际开发中，长列表应该使用list-view -->\n    <view class=\"uni-padding-wrap uni-common-mt\">\n      <text class=\"text\" v-for=\"(num,index) in data\" :key=\"index\">list - {{num}}</text>\n      <view v-if=\"showLoadMore\">{{loadMoreText}}</view>\n    </view>\n\n  </scroll-view>\n\n</template>\n<script lang=\"uts\">\n  export default {\n    data() {\n      return {\n        data: [] as Array<number>,\n        loadMoreText: \"加载中...\",\n        showLoadMore: false,\n        max: 0,\n        pulldownRefreshTriggered: false\n      }\n    },\n    onReady() {\n      uni.startPullDownRefresh();\n      this.initData();\n    },\n    onReachBottom() {\n      console.log(\"onReachBottom\");\n      if (this.max > 40) {\n        this.loadMoreText = \"没有更多数据了!\"\n        return;\n      }\n      this.showLoadMore = true;\n      setTimeout(() => {\n        this.setListData();\n      }, 300);\n    },\n    onPullDownRefresh() {\n      console.log('onPullDownRefresh');\n      this.pulldownRefreshTriggered = true\n      this.initData();\n    },\n    methods: {\n      initData() {\n        setTimeout(() => {\n          this.max = 0;\n          this.data = [];\n          let data : Array<number> = [];\n          this.max += 20;\n          for (let i : number = this.max - 19; i < this.max + 1; i++) {\n            data.push(i)\n          }\n          this.data = this.data.concat(data);\n          uni.stopPullDownRefresh();\n        }, 1000);\n      },\n      setListData() {\n        let data : Array<number> = [];\n        this.max += 10;\n        for (let i : number = this.max - 9; i < this.max + 1; i++) {\n          data.push(i)\n        }\n        this.data = this.data.concat(data);\n      }\n    }\n  }\n</script>\n\n<style>\n  .text {\n    margin: 6px 0;\n    width: 100%;\n    background-color: #fff;\n    height: 52px;\n    line-height: 52px;\n    text-align: center;\n    color: #555;\n    border-radius: 4px;\n  }\n</style>\n",null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BAgDY;+BAJC;AA9BN;;gBAUH,MAAU;YACR;YACA,IAAI,CAAC,QAAQ;QACf;;sBACA,MAAgB;YACd,QAAQ,GAAG,CAAC,iBAAgB;YAC5B,IAAI,IAAI,CAAC,GAAE,GAAI,EAAE,EAAE;gBACjB,IAAI,CAAC,YAAW,GAAI;gBACpB;YACF;YACA,IAAI,CAAC,YAAW,GAAI,IAAI;YACxB,WAAW,KAAM;gBACf,IAAI,CAAC,WAAW;YAClB;cAAG,GAAG;QACR;;0BACA,MAAoB;YAClB,QAAQ,GAAG,CAAC,qBAAoB;YAChC,IAAI,CAAC,wBAAuB,GAAI,IAAG;YACnC,IAAI,CAAC,QAAQ;QACf;;;;;;;eAzCF,mBAQc,eAAA,SARD,WAAgB,eAAhB,SAAA,UAAA;YAGX,mBAGO,QAAA,SAHD,WAAM,mCAAgC;gBAC1C,mBAAiF,UAAA,IAAA,EAAA,cAAA,UAAA,CAAxC,KAAA,IAAI,EAAA,IAAlB,KAAI,OAAJ,SAAG,UAAA,GAAA,CAAA;2BAA9B,mBAAiF,QAAA,SAA3E,WAAM,QAAoC,SAAK,QAAO,YAAO,gBAAE,MAAG,CAAA;;;2BAC5D,KAAA,YAAY;oBAAxB,mBAAiD,QAAA,SAAA,SAAA,CAAA,GAAA,gBAArB,KAAA,YAAY,GAAA,CAAA;;;;;;;aAUtC,MAAY,SAAM,MAAM;aACxB;aACA;aACA;aACA;;;wBAJA,UAAM,WAAY,MAAM,KACxB,kBAAc,UACd,kBAAc,KAAK,EACnB,SAAK,CAAC,EACN,8BAA0B,KAAI;;;aAwBhC,WAAA,MAAW;YACT,WAAW,KAAM;gBACf,IAAI,CAAC,GAAE,GAAI,CAAC;gBACZ,IAAI,CAAC,IAAG,GAAI,YAAE;gBACd,IAAI,MAAO,SAAM,MAAM,IAAI,YAAE;gBAC7B,IAAI,CAAC,GAAE,IAAK,EAAE;oBACd;oBAAK,IAAI,GAAI,MAAK,GAAI,IAAI,CAAC,GAAE,GAAI,EAAE;oBAAnC,MAAqC,IAAI,IAAI,CAAC,GAAE,GAAI,CAAC;wBACnD,KAAK,IAAI,CAAC;wBAD2C;;gBAEvD;gBACA,IAAI,CAAC,IAAG,GAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;gBAC7B;YACF;cAAG,IAAI;QACT;;aACA,cAAA,MAAc;YACZ,IAAI,MAAO,SAAM,MAAM,IAAI,YAAE;YAC7B,IAAI,CAAC,GAAE,IAAK,EAAE;gBACd;gBAAK,IAAI,GAAI,MAAK,GAAI,IAAI,CAAC,GAAE,GAAI,CAAC;gBAAlC,MAAoC,IAAI,IAAI,CAAC,GAAE,GAAI,CAAC;oBAClD,KAAK,IAAI,CAAC;oBAD0C;;YAEtD;YACA,IAAI,CAAC,IAAG,GAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QAC/B;;;sBApBA;sBAaA;;;;;;;;;;;;;;;;;;;;;AASJ"}