{"version":3,"sources":["pages/API/get-location/get-location.uvue","pages/API/get-location/get-location.uvue?type=page","node-modules/@dcloudio/uni-components/lib-x/unicloud-db/unicloud-db.vue"],"sourcesContent":["<template>\n  <page-head :title=\"title\"></page-head>\n  <view style=\"padding: 4px;\">\n    <text class=\"hello-text\">\n      定位功能默认调用操作系统定位API实现。\\n\n      部分手机因gms兼容不好可能导致无法定位。\\n\n      gcj国标、逆地理信息等功能需三方sdk定位。如果需要类似能力可以下载腾讯定位插件，打包自定义基座。参考示例：</text>\n    <u-link :href=\"'https://ext.dcloud.net.cn/plugin?id=14569'\" :text=\"'https://ext.dcloud.net.cn/plugin?id=14569'\" :inWhiteList=\"true\"></u-link>\n  </view>\n\n  <view class=\"uni-padding-wrap uni-common-mt\">\n    <view class=\"uni-list\">\n      <radio-group @change=\"radioChange\">\n        <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"item.value\"\n          :class=\"index < items.length - 1 ? 'uni-list-cell-line': ''\" :value=\"item.value\"\n          :checked=\"index === current\">\n          {{item.name}}\n        </radio>\n      </radio-group>\n    </view>\n    <view class=\"uni-list-cell uni-list-cell-pd\">\n      <view class=\"uni-list-cell-db\">高度信息</view>\n      <switch :checked=\"altitudeSelect\" @change=\"altitudeChange\" />\n    </view>\n    <view class=\"uni-list-cell uni-list-cell-pd\">\n      <view class=\"uni-list-cell-db\">开启高精度定位</view>\n      <switch :checked=\"isHighAccuracySelect\" @change=\"highAccuracySelectChange\" />\n    </view>\n    <view class=\"uni-list-cell uni-list-cell-pd\">\n      <view class=\"uni-list-cell-db\">是否解析地址信息</view>\n      <switch :checked=\"geocodeSelect\" @change=\"geocodeChange\" />\n    </view>\n    <text>{{exeRet}}</text>\n    <view class=\"uni-btn-v\">\n      <button class=\"uni-btn\" type=\"default\" @tap=\"getLocationTap\">获取定位</button>\n    </view>\n  </view>\n</template>\n<script lang=\"uts\">\n  type ItemType = {\n    value : 'wgs84' | 'gcj02',\n    name : string,\n  }\n  export default {\n    data() {\n      return {\n        title: 'get-location',\n        altitudeSelect: false,\n        isHighAccuracySelect: false,\n        geocodeSelect: false,\n        exeRet: '',\n        items: [\n        {\n          value: 'wgs84',\n          name: 'wgs84'\n        },\n        {\n          value: 'gcj02',\n          name: 'gcj02'\n        }\n        ] as ItemType[],\n        current: 0,\n      }\n    },\n    methods: {\n      altitudeChange: function (e : UniSwitchChangeEvent) {\n        this.altitudeSelect = e.detail.value\n      },\n      geocodeChange: function (e : UniSwitchChangeEvent) {\n        this.geocodeSelect = e.detail.value\n      },\n      highAccuracySelectChange: function (e : UniSwitchChangeEvent) {\n        this.isHighAccuracySelect = e.detail.value\n      },\n      radioChange(e : UniRadioGroupChangeEvent) {\n        for (let i = 0; i < this.items.length; i++) {\n          if (this.items[i].value === e.detail.value) {\n            this.current = i;\n            break;\n          }\n        }\n      },\n      getLocationTap: function () {\n        uni.showLoading({\n          title: '定位中'\n        })\n        uni.getLocation(({\n          type: this.items[this.current].value,\n          altitude: this.altitudeSelect,\n          isHighAccuracy: this.isHighAccuracySelect,\n          geocode: this.geocodeSelect,\n          success: (res : any) => {\n            uni.hideLoading()\n            console.log(res);\n            this.exeRet = JSON.stringify(res)\n          },\n          fail: (res : any) => {\n            uni.hideLoading()\n            console.log(res);\n            this.exeRet = JSON.stringify(res)\n          },\n          complete: (res : any) => {\n            uni.hideLoading()\n            console.log(res);\n            this.exeRet = JSON.stringify(res)\n          }\n        }));\n\n\n      }\n\n    }\n  }\n</script>\n",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BAsFY;;;AA3CL;;;;;;;;;;;;YA1CL,YAAsC,sBAAA,SAA1B,WAAO,KAAA,KAAK,GAAA,IAAA,EAAA,CAAA,EAAA;gBAAA;aAAA;YACxB,mBAMO,QAAA,SAND,WAAqB,eAArB,SAAA,aAAA;gBACJ,mBAGgE,QAAA,SAH1D,WAAM,eAAa;gBAIzB,YAA6I,mBAAA,SAApI,UAAM,6CAA8C,UAAM,6CAA8C,iBAAa,IAAI;;;;;YAGpI,mBA0BO,QAAA,SA1BD,WAAM,mCAAgC;gBAC1C,mBAQO,QAAA,SARD,WAAM,aAAU;oBACpB,YAMc,wBAAA,SANA,cAAQ,KAAA,WAAW,GAAA,kCACe,gBAA8B,GAAA;+BAAA;4BAA5E,mBAIQ,UAAA,IAAA,EAAA,cAAA,UAAA,CAJ8D,KAAA,KAAK,EAAA,IAArB,MAAM,OAAN,SAAI,UAAA,GAAA,CAAA;uCAA1D,YAIQ,kBAAA,SAJD,WAAK,eAAA;oCAAC;oCACH,IAAA,QAAQ,KAAA,KAAK,CAAC,MAAM,GAAA,CAAA;wCAAA;;wCAAA;;iCAAA,GADgD,SAAK,KAAK,KAAK,EAC7B,WAAO,KAAK,KAAK,EAC9E,cAAS,UAAU,KAAA,OAAO,sCAC3B,gBAAa,GAAA;2CAAA;wCAAA,gBAAX,KAAK,IAAI;qCAAA;;;;;;;;;;;;;;;gBAIjB,mBAGO,QAAA,SAHD,WAAM,mCAAgC;oBAC1C,mBAA0C,QAAA,SAApC,WAAM,qBAAmB;oBAC/B,YAA6D,mBAAA,SAApD,aAAS,KAAA,cAAc,EAAG,cAAQ,KAAA,cAAc;;;;;gBAE3D,mBAGO,QAAA,SAHD,WAAM,mCAAgC;oBAC1C,mBAA6C,QAAA,SAAvC,WAAM,qBAAmB;oBAC/B,YAA6E,mBAAA,SAApE,aAAS,KAAA,oBAAoB,EAAG,cAAQ,KAAA,wBAAwB;;;;;gBAE3E,mBAGO,QAAA,SAHD,WAAM,mCAAgC;oBAC1C,mBAA8C,QAAA,SAAxC,WAAM,qBAAmB;oBAC/B,YAA2D,mBAAA,SAAlD,aAAS,KAAA,aAAa,EAAG,cAAQ,KAAA,aAAa;;;;;gBAEzD,mBAAuB,QAAA,IAAA,EAAA,gBAAf,KAAA,MAAM,GAAA,CAAA;gBACd,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAA0E,UAAA,SAAlE,WAAM,WAAU,UAAK,WAAW,aAAK,KAAA,cAAc,GAAE,QAAI,CAAA,EAAA;wBAAA;qBAAA;;;;;aAY/D;aACA;aACA;aACA;aACA;aACA,gBASK;aACL;;;wBAfA,WAAO,gBACP,oBAAgB,KAAK,EACrB,0BAAsB,KAAK,EAC3B,mBAAe,KAAK,EACpB,YAAQ,IACR,WAAO,WASF,WAAA,UAPH,QAAO,SACP,OAAM,UAMH,UAHH,QAAO,SACP,OAAM,WAGR,aAAS,CAAC;;;aAIZ,iBAAgB,IAAU,GAAI,oBAAoB,EAAE;YAClD,IAAI,CAAC,cAAa,GAAI,EAAE,MAAM,CAAC,KAAI;QACrC;;aACA,gBAAe,IAAU,GAAI,oBAAoB,EAAE;YACjD,IAAI,CAAC,aAAY,GAAI,EAAE,MAAM,CAAC,KAAI;QACpC;;aACA,2BAA0B,IAAU,GAAI,oBAAoB,EAAE;YAC5D,IAAI,CAAC,oBAAmB,GAAI,EAAE,MAAM,CAAC,KAAI;QAC3C;;aACA,cAAA,IAAY,GAAI,wBAAwB,EAAE;gBACxC;gBAAK,IAAI,YAAI,CAAC;gBAAd,MAAgB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM;oBACnC,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAI,KAAM,EAAE,MAAM,CAAC,KAAK,EAAE;wBAC1C,IAAI,CAAC,OAAM,GAAI;wBACf,KAAK;oBACP;oBAJqC;;YAKvC;QACF;;aACA,iBAAgB,MAAY;YAC1B,mCACE,QAAO;YAET,mCACE,OAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EACpC,WAAU,IAAI,CAAC,cAAc,EAC7B,iBAAgB,IAAI,CAAC,oBAAoB,EACzC,UAAS,IAAI,CAAC,aAAa,EAC3B,UAAS,IAAC,KAAM,GAAG,CAAK;gBACtB;gBACA,QAAQ,GAAG,CAAC,KAAI;gBAChB,IAAI,CAAC,MAAK,GAAI,KAAK,SAAS,CAAC;YAC/B;cACA,OAAM,IAAC,KAAM,GAAG,CAAK;gBACnB;gBACA,QAAQ,GAAG,CAAC,KAAI;gBAChB,IAAI,CAAC,MAAK,GAAI,KAAK,SAAS,CAAC;YAC/B;cACA,WAAU,IAAC,KAAM,GAAG,CAAK;gBACvB;gBACA,QAAQ,GAAG,CAAC,KAAI;gBAChB,IAAI,CAAC,MAAK,GAAI,KAAK,SAAS,CAAC;YAC/B;;QAIJ;;;sBA5CA,iBAA0B,GAAI;sBAG9B,gBAAyB,GAAI;sBAG7B,2BAAoC,GAAI;sBAGxC,cAAY,GAAI;sBAQhB;;;;;;;;;;;;;;;AA8BJ"}