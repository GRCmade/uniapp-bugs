{"version":3,"sources":["pages/API/get-image-info/get-image-info.uvue","pages/API/upload-file/upload-file.uvue?type=page","pages/API/get-image-info/get-image-info.uvue?type=page","uni_modules/uni-upgrade-center-app/components/uni-upgrade-center-app/uni-upgrade-center-app.uvue"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex:1\">\n\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-padding-wrap\">\n      <view class=\"uni-title\">\n        <text class=\"uni-subtitle-text\">获取本地相对路径图片信息</text>\n      </view>\n      <image class=\"image\" :src=\"relativeImagePath\" mode=\"aspectFit\"></image>\n      <text class=\"margin-top-10\">{{absoluteImageInfo}}</text>\n      <view class=\"uni-title\">\n        <text class=\"uni-subtitle-text\">获取网络路径图片信息</text>\n      </view>\n      <image class=\"image\" :src=\"remoteImagePath\" mode=\"aspectFit\"></image>\n      <text class=\"margin-top-10\">{{remoteImageInfo}}</text>\n      <view class=\"uni-title\">\n        <text class=\"uni-subtitle-text\">获取本地绝对路径图片信息</text>\n      </view>\n      <image class=\"image\" :src=\"absoluteImagePath\" mode=\"aspectFit\"></image>\n      <text class=\"margin-top-10\">{{relativeImageInfo}}</text>\n      <view class=\"uni-btn-v\">\n        <button type=\"primary\" @click=\"chooseImage\">拍摄照片或从相册中选择照片</button>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        title: \"getImageInfo\",\n        relativeImagePath: \"/static/test-image/logo.png\",\n        relativeImageInfo: \"\",\n        absoluteImagePath: \"\",\n        absoluteImageInfo: \"\",\n        remoteImagePath: \"https://qiniu-web-assets.dcloud.net.cn/uni-app-x/static/img/building.jpg\",\n        remoteImageInfo: \"\",\n        // 自动化测试\n        imageInfoForTest: null as UTSJSONObject | null,\n      }\n    },\n    methods: {\n      chooseImage() {\n        uni.chooseImage({\n          count: 1,\n          success: (res) => {\n            this.absoluteImagePath = res.tempFilePaths[0];\n            uni.getImageInfo({\n              src: res.tempFilePaths[0],\n              success: (_res) => {\n                console.log(\"getImageInfo success\", JSON.stringify(res));\n                this.relativeImageInfo = `图片宽度: ${_res.width}\\n图片高度: ${_res.height}\\n图片路径: ${_res.path}\\n图片方向: ${_res.orientation}\\n图片格式: ${_res.type}`;\n              },\n              fail: (err) => {\n                uni.showModal({\n                  title: \"获取图片信息失败\",\n                  content: JSON.stringify(err),\n                  showCancel: false\n                });\n              }\n            });\n          }\n        });\n      }\n    },\n    onReady() {\n      uni.getImageInfo({\n        src: this.relativeImagePath,\n        success: (res) => {\n          console.log(\"getImageInfo success\", JSON.stringify(res));\n          this.absoluteImageInfo = `图片宽度: ${res.width}\\n图片高度: ${res.height}\\n图片路径: ${res.path}\\n图片方向: ${res.orientation}\\n图片格式: ${res.type}`;\n          this.imageInfoForTest = {\n            \"width\": res.width,\n            \"height\": res.height,\n            \"path\": res.path.slice(res.path.indexOf('/static')),\n            \"orientation\": res.orientation,\n            \"type\": res.type\n          };\n        },\n        fail: (err) => {\n          uni.showModal({\n            title: \"获取图片信息失败\",\n            content: JSON.stringify(err),\n            showCancel: false\n          });\n          this.imageInfoForTest = null;\n        }\n      });\n      uni.getImageInfo({\n        src: this.remoteImagePath,\n        success: (res) => {\n          console.log(\"getImageInfo success\", JSON.stringify(res));\n          this.remoteImageInfo = `图片宽度: ${res.width}\\n图片高度: ${res.height}\\n图片路径: ${res.path}\\n图片方向: ${res.orientation}\\n图片格式: ${res.type}`;\n        },\n        fail: (err) => {\n          uni.showModal({\n            title: \"获取图片信息失败\",\n            content: JSON.stringify(err),\n            showCancel: false\n          });\n        }\n      });\n    }\n  }\n</script>\n\n<style>\n  .image {\n    align-self: center;\n  }\n\n  .margin-top-10 {\n    margin-top: 10px;\n  }\n</style>\n",null,null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;+BAmDgB;+BArCV;AAiBC;;gBAsCH,MAAU;YACR,qCACE,MAAK,IAAI,CAAC,iBAAiB,EAC3B,UAAS,IAAC,IAAQ;gBAChB,QAAQ,GAAG,CAAC,wBAAwB,KAAK,SAAS,CAAC,MAAK;gBACxD,IAAI,CAAC,iBAAgB,GAAI,AAAC,+BAAQ,IAAI,KAAK,GAAC,iCAAU,IAAI,MAAM,GAAC,iCAAU,IAAI,IAAI,GAAC,iCAAU,IAAI,WAAW,GAAC,iCAAU,IAAI,IAAI;gBAChI,IAAI,CAAC,gBAAe,iBAAI;;wBACtB;wBAAS,IAAI,KAAK;;;wBAClB;wBAAU,IAAI,MAAM;;;wBACpB;wBAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC;;;wBACxC;wBAAe,IAAI,WAAW;;;wBAC9B;wBAAQ,IAAI,IAAG;;;YAEnB;cACA,OAAM,IAAC,IAAQ;gBACb,+BACE,QAAO,YACP,UAAS,KAAK,SAAS,CAAC,MACxB,aAAY,KAAI;gBAElB,IAAI,CAAC,gBAAe,GAAI,IAAI;YAC9B;;YAEF,qCACE,MAAK,IAAI,CAAC,eAAe,EACzB,UAAS,IAAC,IAAQ;gBAChB,QAAQ,GAAG,CAAC,wBAAwB,KAAK,SAAS,CAAC,MAAK;gBACxD,IAAI,CAAC,eAAc,GAAI,AAAC,+BAAQ,IAAI,KAAK,GAAC,iCAAU,IAAI,MAAM,GAAC,iCAAU,IAAI,IAAI,GAAC,iCAAU,IAAI,WAAW,GAAC,iCAAU,IAAI,IAAI;YAChI;cACA,OAAM,IAAC,IAAQ;gBACb,+BACE,QAAO,YACP,UAAS,KAAK,SAAS,CAAC,MACxB,aAAY,KAAI;YAEpB;;QAEJ;;;;;;;;eAxGF,mBAwBc,eAAA,SAxBD,WAAc,eAAd,SAAA,UAAA;YAEX,YAAsC,sBAAA,SAA1B,WAAO,KAAA,KAAK,GAAA,IAAA,EAAA,CAAA,EAAA;gBAAA;aAAA;YACxB,mBAmBO,QAAA,SAnBD,WAAM,qBAAkB;gBAC5B,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAAmD,QAAA,SAA7C,WAAM,sBAAoB;;gBAElC,mBAAuE,SAAA,SAAhE,WAAM,SAAS,SAAK,KAAA,iBAAiB,EAAE,UAAK;;;gBACnD,mBAAwD,QAAA,SAAlD,WAAM,kBAAe,gBAAG,KAAA,iBAAiB,GAAA,CAAA;gBAC/C,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAAiD,QAAA,SAA3C,WAAM,sBAAoB;;gBAElC,mBAAqE,SAAA,SAA9D,WAAM,SAAS,SAAK,KAAA,eAAe,EAAE,UAAK;;;gBACjD,mBAAsD,QAAA,SAAhD,WAAM,kBAAe,gBAAG,KAAA,eAAe,GAAA,CAAA;gBAC7C,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAAmD,QAAA,SAA7C,WAAM,sBAAoB;;gBAElC,mBAAuE,SAAA,SAAhE,WAAM,SAAS,SAAK,KAAA,iBAAiB,EAAE,UAAK;;;gBACnD,mBAAwD,QAAA,SAAlD,WAAM,kBAAe,gBAAG,KAAA,iBAAiB,GAAA,CAAA;gBAC/C,mBAEO,QAAA,SAFD,WAAM,cAAW;oBACrB,mBAAkE,UAAA,SAA1D,UAAK,WAAW,aAAO,KAAA,WAAW,GAAE,iBAAa,CAAA,EAAA;wBAAA;qBAAA;;;;;aAYzD;aACA;aACA;aACA;aACA;aACA;aACA;aAEA,kBAA0B;;;wBAR1B,WAAO,gBACP,uBAAmB,+BACnB,uBAAmB,IACnB,uBAAmB,IACnB,uBAAmB,IACnB,qBAAiB,4EACjB,qBAAiB,IAEjB,sBAAkB,IAAG,CAAE,EAAC,CAAE;;;aAI5B,cAAA,MAAc;YACZ,mCACE,QAAO,CAAC,EACR,UAAS,IAAC,IAAQ;gBAChB,IAAI,CAAC,iBAAgB,GAAI,IAAI,aAAa,CAAC,CAAC,CAAC;gBAC7C,qCACE,MAAK,IAAI,aAAa,CAAC,CAAC,CAAC,EACzB,UAAS,IAAC,KAAS;oBACjB,QAAQ,GAAG,CAAC,wBAAwB,KAAK,SAAS,CAAC,MAAK;oBACxD,IAAI,CAAC,iBAAgB,GAAI,AAAC,+BAAQ,KAAK,KAAK,GAAC,iCAAU,KAAK,MAAM,GAAC,iCAAU,KAAK,IAAI,GAAC,iCAAU,KAAK,WAAW,GAAC,iCAAU,KAAK,IAAI;gBACvI;kBACA,OAAM,IAAC,IAAQ;oBACb,+BACE,QAAO,YACP,UAAS,KAAK,SAAS,CAAC,MACxB,aAAY,KAAI;gBAEpB;;YAEJ;;QAEJ;;;sBArBA;;;;;;;;;;;;;;;;;;;;;AA6DJ"}