{"version":3,"sources":["pages/API/request-payment-uni-pay/request-payment-uni-pay.uvue","uni_modules/uni-upgrade-center-app/utils/call-check-version.ts","pages/ask/index/index.uvue?type=page","uni_modules/uni-upgrade-center-app/components/uni-upgrade-center-app/uni-upgrade-center-app.uvue","App.uvue","pages/API/request-payment-uni-pay/request-payment-uni-pay.uvue?type=page"],"sourcesContent":["<template>\n\t<view class=\"app\">\n\t\t<view>\n\t\t\t<view class=\"label\">支付单号：</view>\n\t\t\t<view><input class=\"input\" v-model=\"out_trade_no\" placeholder=\"点击发起支付会自动生成\"/></view>\n\t\t</view>\n\t\t<view>\n\t\t\t<view class=\"label\">支付金额（单位分，100=1元）：</view>\n\t\t\t<view><input class=\"input\" v-model.number=\"total_fee\" /></view>\n\t\t</view>\n\t\t<button class=\"button\" @click=\"open()\">打开收银台（弹窗模式）</button>\n\n\t\t<view v-if=\"!isPcCom\">\n\t\t\t<button class=\"button\" @click=\"toPayDesk\">打开收银台（新页面模式）</button>\n\t\t</view>\n\n\n\n\t\t<button class=\"button\" @click=\"createOrder('wxpay')\">发起支付（微信）</button>\n\n\n\t\t<button class=\"button\" @click=\"createOrder('alipay')\">发起支付（支付宝）</button>\n\n\n\n\t\t<button class=\"button\" @click=\"createQRcode('alipay')\">APP扫码支付（支付宝）</button>\n\n\n\t\t<button class=\"button\" @click=\"getOrderPopup(true)\">查询支付状态</button>\n\t\t<button class=\"button\" @click=\"pageTo('/uni_modules/uni-pay-x/pages/success/success?out_trade_no=test2024030501-1&order_no=test2024030501&total_fee=1&adpid=1000000001&return_url=/pages/API/request-payment-uni-pay/order-detail')\">支付成功页面示例</button>\n\t\t<!-- 查询支付的弹窗 -->\n\t\t<uni-pay-popup ref=\"getOrderPopupRef\" type=\"bottom\">\n\t\t\t<scroll-view direction=\"vertical\" class=\"get-order-popup\">\n\t\t\t\t<view class=\"label\">插件支付单号：</view>\n\t\t\t\t<view class=\"mt20\">\n\t\t\t\t\t<input class=\"input pd2030\" v-model=\"out_trade_no\" placeholder=\"请输入\" />\n\t\t\t\t\t<view><text class=\"tips\">插件支付单号和第三方交易单号2选1填即可</text> </view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"label\">第三方交易单号：</view>\n\t\t\t\t<view class=\"mt20\">\n\t\t\t\t\t<input class=\"input pd2030\" v-model=\"transaction_id\" placeholder=\"请输入\" />\n\t\t\t\t\t<view class=\"tips\"><text class=\"tips\">可从支付宝账单（订单号）、微信账单（交易单号）中复制</text></view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"mt20\">\n\t\t\t\t\t<button class=\"button\" @click=\"getOrder\">查询支付状态</button>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"mt20\" v-if=\"getOrderRes['transaction_id']\">\n\t\t\t\t\t<view class=\"table\">\n\t\t\t\t\t\t<view class=\"table-tr\">\n\t\t\t\t\t\t\t<view class=\"table-td label\"><text class=\"text align-left\">订单描述</text></view>\n\t\t\t\t\t\t\t<view class=\"table-td\"><text class=\"text align-right\">{{ getOrderRes['description'] }}</text></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"table-tr\">\n\t\t\t\t\t\t\t<view class=\"table-td label\"><text class=\"text align-left\">支付金额</text></view>\n\t\t\t\t\t\t\t<view class=\"table-td\"><text class=\"text align-right\">{{ amountFormat(getOrderRes.getNumber('total_fee')) }}</text></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"table-tr\">\n\t\t\t\t\t\t\t<view class=\"table-td label\"><text class=\"text align-left\">支付方式</text></view>\n\t\t\t\t\t\t\t<view class=\"table-td\"><text class=\"text align-right\">{{ providerFormat(getOrderRes['provider'] as string) }}</text></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"table-tr\">\n\t\t\t\t\t\t\t<view class=\"table-td label\"><text class=\"text align-left\">第三方交易单号</text></view>\n\t\t\t\t\t\t\t<view class=\"table-td\"><text class=\"text align-right\">{{ getOrderRes['transaction_id'] }}</text></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"table-tr\">\n\t\t\t\t\t\t\t<view class=\"table-td label\"><text class=\"text align-left\">插件支付单号</text></view>\n\t\t\t\t\t\t\t<view class=\"table-td\"><text class=\"text align-right\">{{ getOrderRes['out_trade_no'] }}</text></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"table-tr\">\n\t\t\t\t\t\t\t<view class=\"table-td label\"><text class=\"text align-left\">回调状态</text></view>\n\t\t\t\t\t\t\t<view class=\"table-td\"><text\n\t\t\t\t\t\t\t\t\tclass=\"text align-right\">{{ getOrderRes.getBoolean('user_order_success') != null && getOrderRes.getBoolean('user_order_success') == true ? \"成功\" : \"异常\" }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</uni-pay-popup>\n\n\n\t\t<!-- <button class=\"button\" v-if=\"isIosAppCom\" @click=\"pageTo('/pages/iosiap/iosiap')\">苹果内购示例</button> -->\n\n\n\t\t<!-- <button class=\"button\" @click=\"refund\">发起退款</button>\n\t\t<view><text class=\"tips\">发起退款需要admin权限，本示例未对接登录功能</text></view>\n\t\t<button class=\"button\" @click=\"getRefund\">查询退款状态</button>\n\t\t<button class=\"button\" @click=\"closeOrder\">关闭订单</button> -->\n\n\n\n\n\t\t<!-- 统一支付组件，注意：vue3下ref不可以等于组件名，因此这里ref=\"pay\" 而不能是 ref=\"uniPay\" -->\n\t\t<uni-pay ref=\"payRef\" :adpid=\"adpid\" height=\"900rpx\" return-url=\"/pages/API/request-payment-uni-pay/order-detail\" logo=\"/static/logo.png\" @success=\"onSuccess\" @create=\"onCreate\"\n\t\t\t@fail=\"onFail\" @cancel=\"onCancel\"></uni-pay>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttotal_fee: 1, // 支付金额，单位分 100 = 1元\n\t\t\t\torder_no: \"\", // 业务系统订单号（即你自己业务系统的订单表的订单号）\n\t\t\t\tout_trade_no: \"\", // 插件支付单号\n\t\t\t\tdescription: \"测试订单\", // 支付描述\n\t\t\t\ttype: \"test\", // 支付回调类型 如 recharge 代表余额充值 goods 代表商品订单（可自定义，任意英文单词都可以，只要你在 uni-pay-co/notify/目录下创建对应的 xxx.js文件进行编写对应的回调逻辑即可）\n\t\t\t\topenid: \"\", // 微信公众号需要\n\t\t\t\tcustom: {\n\t\t\t\t\ta: \"a\",\n\t\t\t\t\tb: 1\n\t\t\t\t} as UTSJSONObject,\n\t\t\t\tadpid: \"1000000001\", // uni-ad的广告位id\n\n\t\t\t\ttransaction_id: \"\", // 查询订单接口的查询条件\n\t\t\t\tgetOrderRes: {} as UTSJSONObject, // 查询订单支付成功后的返回值\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tconsole.log('onLoad: ', options)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t},\n\t\tmethods: {\n\t\t\t/**\n\t\t\t * 发起支付（唤起收银台，如果只有一种支付方式，则收银台不会弹出来，会直接使用此支付方式）\n\t\t\t * 在调用此api前，你应该先创建自己的业务系统订单，并获得订单号 order_no，把order_no当参数传给此api，而示例中为了简化跟支付插件无关的代码，这里直接已时间戳生成了order_no\n\t\t\t */\n\t\t\topen() {\n\t\t\t\tthis.order_no = `test` + Date.now();\n\t\t\t\tthis.out_trade_no = `${this.order_no}-1`;\n\t\t\t\t// 打开支付收银台\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tpayInstance.open({\n\t\t\t\t\ttotal_fee: this.total_fee, // 支付金额，单位分 100 = 1元\n\t\t\t\t\torder_no: this.order_no, // 业务系统订单号（即你自己业务系统的订单表的订单号）\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t\tdescription: this.description, // 支付描述\n\t\t\t\t\ttype: this.type, // 支付回调类型\n\t\t\t\t\topenid: this.openid, // 微信公众号需要\n\t\t\t\t\tcustom: this.custom, // 自定义数据\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * 发起支付（不唤起收银台，手动指定支付方式）\n\t\t\t * 在调用此api前，你应该先创建自己的业务系统订单，并获得订单号 order_no，把order_no当参数传给此api，而示例中为了简化跟支付插件无关的代码，这里直接已时间戳生成了order_no\n\t\t\t */\n\t\t\tcreateOrder(provider : string) {\n\t\t\t\tthis.order_no = `test` + Date.now();\n\t\t\t\tthis.out_trade_no = `${this.order_no}-1`;\n\t\t\t\t// 发起支付\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tpayInstance.createOrder({\n\t\t\t\t\tprovider: provider, // 支付供应商\n\t\t\t\t\ttotal_fee: this.total_fee, // 支付金额，单位分 100 = 1元\n\t\t\t\t\torder_no: this.order_no, // 业务系统订单号（即你自己业务系统的订单表的订单号）\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t\tdescription: this.description, // 支付描述\n\t\t\t\t\ttype: this.type, // 支付回调类型\n\t\t\t\t\topenid: this.openid, // 微信公众号需要\n\t\t\t\t\tcustom: this.custom, // 自定义数据\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * 生成支付独立二维码（只返回支付二维码）\n\t\t\t * 在调用此api前，你应该先创建自己的业务系统订单，并获得订单号 order_no，把order_no当参数传给此api，而示例中为了简化跟支付插件无关的代码，这里直接已时间戳生成了order_no\n\t\t\t */\n\t\t\tcreateQRcode(provider : string) {\n\t\t\t\tthis.order_no = `test` + Date.now();\n\t\t\t\tthis.out_trade_no = `${this.order_no}-1`;\n\t\t\t\t// 发起支付\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tpayInstance.createOrder({\n\t\t\t\t\tprovider: provider, // 支付供应商\n\t\t\t\t\ttotal_fee: this.total_fee, // 支付金额，单位分 100 = 1元\n\t\t\t\t\torder_no: this.order_no, // 业务系统订单号（即你自己业务系统的订单表的订单号）\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t\tdescription: this.description, // 支付描述\n\t\t\t\t\ttype: this.type, // 支付回调类型\n\t\t\t\t\tqr_code: true, // 强制扫码支付\n\t\t\t\t\topenid: this.openid, // 微信公众号需要\n\t\t\t\t\tcustom: this.custom, // 自定义数据\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * 前往自定义收银台页面\n\t\t\t * 在调用此api前，你应该先创建自己的业务系统订单，并获得订单号 order_no，把order_no当参数传给此api，而示例中为了简化跟支付插件无关的代码，这里直接已时间戳生成了order_no\n\t\t\t */\n\t\t\ttoPayDesk() {\n\t\t\t\tthis.order_no = `test` + Date.now();\n\t\t\t\tthis.out_trade_no = `${this.order_no}-1`;\n\t\t\t\tlet options = {\n\t\t\t\t\ttotal_fee: this.total_fee, // 支付金额，单位分 100 = 1元\n\t\t\t\t\torder_no: this.order_no, // 业务系统订单号（即你自己业务系统的订单表的订单号）\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t\tdescription: this.description, // 支付描述\n\t\t\t\t\ttype: this.type, // 支付回调类型\n\t\t\t\t\topenid: this.openid, // 微信公众号需要\n\t\t\t\t\tcustom: this.custom, // 自定义数据\n\t\t\t\t};\n\t\t\t\tlet optionsStr = encodeURI(JSON.stringify(options));\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/uni_modules/uni-pay-x/pages/pay-desk/pay-desk?options=${optionsStr}`\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 打开查询订单的弹窗\n\t\t\tgetOrderPopup(key : boolean) {\n\t\t\t\tconst getOrderPopupInstance = this.$refs[\"getOrderPopupRef\"] as UniPayPopupComponentPublicInstance;\n\t\t\t\tif (key) {\n\t\t\t\t\tgetOrderPopupInstance.open();\n\t\t\t\t} else {\n\t\t\t\t\tgetOrderPopupInstance.close();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 查询支付状态\n\t\t\tasync getOrder() : Promise<void> {\n\t\t\t\tthis.getOrderRes = {} as UTSJSONObject;\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tlet getOrderData = {\n\t\t\t\t\tawait_notify: true\n\t\t\t\t} as UTSJSONObject;\n\t\t\t\tif (this.transaction_id != \"\") {\n\t\t\t\t\tgetOrderData['transaction_id'] = this.transaction_id;\n\t\t\t\t} else if (this.out_trade_no != \"\") {\n\t\t\t\t\tgetOrderData['out_trade_no'] = this.out_trade_no;\n\t\t\t\t}\n\t\t\t\tlet res = await payInstance.getOrder(getOrderData);\n\t\t\t\tif (res != null && res['errCode'] == 0) {\n\t\t\t\t\tthis.getOrderRes = res.getJSON('pay_order') as UTSJSONObject;\n\t\t\t\t\tlet obj = {\n\t\t\t\t\t\t\"-1\": \"已关闭\",\n\t\t\t\t\t\t\"1\": \"已支付\",\n\t\t\t\t\t\t\"0\": \"未支付\",\n\t\t\t\t\t\t\"2\": \"已部分退款\",\n\t\t\t\t\t\t\"3\": \"已全额退款\"\n\t\t\t\t\t} as UTSJSONObject;\n\t\t\t\t\tlet status = res['status'] as number;\n\t\t\t\t\tlet statusStr = status + \"\";\n\t\t\t\t\tlet title = obj[statusStr] as string;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 发起退款\n\t\t\tasync refund() : Promise<void> {\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tlet res = await payInstance.refund({\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t});\n\t\t\t\tif (res != null && res['errCode'] == 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res['errMsg'] as string,\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 查询退款状态\n\t\t\tasync getRefund() : Promise<void> {\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tlet res = await payInstance.getRefund({\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t});\n\t\t\t\tif (res != null && res['errCode'] == 0) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: res['errMsg'] as string,\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 关闭订单\n\t\t\tasync closeOrder() : Promise<void> {\n\t\t\t\tconst payInstance = this.$refs[\"payRef\"] as UniPayComponentPublicInstance;\n\t\t\t\tlet res = await payInstance.closeOrder({\n\t\t\t\t\tout_trade_no: this.out_trade_no, // 插件支付单号\n\t\t\t\t});\n\t\t\t\tif (res != null && res['errCode'] == 0) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: res['errMsg'] as string,\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t// 监听事件 - 支付订单创建成功（此时用户还未支付）\n\t\t\tonCreate(res : UTSJSONObject) {\n\t\t\t\tconsole.log('create: ', res);\n\t\t\t\t// 如果只是想生成支付二维码，不需要组件自带的弹窗，则在这里可以获取到支付二维码 qr_code_image\n\t\t\t},\n\t\t\t// 监听事件 - 支付成功\n\t\t\tonSuccess(res : UTSJSONObject) {\n\t\t\t\tconsole.log('success: ', res);\n\t\t\t\tlet user_order_success = res.getBoolean('user_order_success');\n\t\t\t\tif (user_order_success != null && user_order_success != true) {\n\t\t\t\t\t// 代表用户已付款，且你自己写的回调成功并正确执行了\n\n\t\t\t\t} else {\n\t\t\t\t\t// 代表用户已付款，但你自己写的回调执行失败（通常是因为你的回调代码有问题）\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 监听事件 - 支付失败\n\t\t\tonFail(err : RequestPaymentFail) {\n\t\t\t\tconsole.log('fail: ', err)\n\n\t\t\t},\n\t\t\t// 监听事件 - 取消支付\n\t\t\tonCancel(err : RequestPaymentFail) {\n\t\t\t\tconsole.log('cancel: ', err)\n\n\t\t\t},\n\t\t\t// 页面跳转\n\t\t\tpageTo(url : string) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl\n\t\t\t\t});\n\t\t\t},\n\t\t\t// provider格式化\n\t\t\tproviderFormat(provider ?: string) : string {\n\t\t\t\tif (provider == null) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tlet providerObj = {\n\t\t\t\t\t\"wxpay\": \"微信支付\",\n\t\t\t\t\t\"alipay\": \"支付宝支付\",\n\t\t\t\t\t\"appleiap\": \"ios内购\"\n\t\t\t\t} as UTSJSONObject;\n\t\t\t\tlet providerStr = providerObj[provider] as string;\n\t\t\t\treturn providerStr;\n\t\t\t},\n\t\t\t// amount格式化\n\t\t\tamountFormat(totalFee : number | null) : string {\n\t\t\t\tif (totalFee == null) {\n\t\t\t\t\treturn \"0\";\n\t\t\t\t} else {\n\t\t\t\t\treturn (totalFee / 100).toFixed(2)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t// 计算当前H5环境\n\t\t\th5Env() : string {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\t// 计算当前是否是ios app\n\t\t\tisIosAppCom() : boolean {\n\t\t\t\tlet info = uni.getSystemInfoSync();\n\t\t\t\treturn info.uniPlatform == 'app' && info.osName == 'ios' ? true : false;\n\t\t\t},\n\t\t\t// 计算当前是否是PC环境\n\t\t\tisPcCom() : boolean {\n\t\t\t\tlet isPC = false;\n\n\n\n\n\t\t\t\treturn isPC;\n\t\t\t}\n\t\t},\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.app {\n\t\tpadding: 30rpx;\n\t}\n\n\t.input {\n\t\tborder: 1px solid #f3f3f3;\n\t\tpadding: 10rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\theight: 80rpx;\n    background: #FFF;\n\t}\n\n\t.button {\n\t\tmargin-top: 20rpx;\n\t}\n\n\t.label {\n\t\tmargin: 10rpx 0;\n\t}\n\n\t.tips {\n\t\tmargin: 20rpx 0;\n\t\tfont-size: 24rpx;\n\t\tcolor: #565656;\n\t}\n\n\t.get-order-popup {\n\t\tbackground-color: #ffffff;\n\t\tpadding: 30rpx;\n\t\theight: 900rpx;\n\t\tborder-radius: 20rpx;\n\t\twidth: 690rpx;\n\t}\n\n\t.mt20 {\n\t\tmargin-top: 20rpx;\n\t}\n\n\t.pd2030 {\n\t\tpadding: 20rpx 30rpx;\n\t}\n\n\t.table {\n\t\t.table-tr {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 10rpx 0;\n\t\t}\n\n\t\t.table-td {\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.align-left {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t.align-right {\n\t\t\ttext-align: right;\n\t\t}\n\n\t\t.label {\n\t\t\twidth: 180rpx;\n\t\t}\n\n\t\t.text {\n\t\t\tfont-size: 24rpx;\n\t\t}\n\t}\n</style>\n",null,null,null,null,null],"names":[],"mappings":"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"}