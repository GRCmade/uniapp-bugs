{"version":3,"sources":["pages/template/share/share.uvue","pages/template/share/share.uvue?type=page","pages/component/list-view/list-view-multiplex.uvue?type=page","App.uvue"],"sourcesContent":["<template>\n  <view id=\"viewshot\">\n    <button class=\"button\" @click=\"shareText('https://uniapp.dcloud.io/uni-app-x','分享到')\">分享文本</button>\n    <button class=\"button\" @click=\"shareSnapShot\">指定view截图并分享</button>\n  </view>\n</template>\n\n<script>\n  import Intent from 'android.content.Intent';\n  import File from 'java.io.File';\n\n  export default {\n    data() {\n      return {\n\n      }\n    },\n    methods: {\n      shareText(text : string, title : string) {\n        const context = UTSAndroid.getUniActivity()!;\n        const intent = new Intent(Intent.ACTION_SEND)\n        intent.setType(\"text/plain\");\n        intent.putExtra(Intent.EXTRA_TEXT, text);\n        context.startActivity(Intent.createChooser(intent, title));\n        // 这里是简单的文本分享示例，如需分享文件图片，需要使用fileProvider\n      },\n      shareSnapShot() {\n        uni.getElementById(\"viewshot\")?.takeSnapshot(\n          {\n            success: function (res) {\n              // 打印截图文件临时路径\n              console.log(res.tempFilePath)\n              const context = UTSAndroid.getUniActivity()!;\n              const intent = new Intent(Intent.ACTION_SEND)\n              intent.setType(\"image/*\");\n              let file = new File(res.tempFilePath)\n              const uri = UTSAndroid.getFileProviderUri(file) //3.99支持\n              intent.putExtra(Intent.EXTRA_STREAM, uri);\n              context.startActivity(Intent.createChooser(intent, \"分享到\"));\n            },\n            fail: function (res) {\n              console.log(res)\n              uni.showToast({\n                icon: 'error',\n                title: '截图失败'\n              })\n            }\n          }\n        )\n      },\n\n    }\n  }\n</script>\n\n<style>\n  .button {\n    margin: 15px;\n  }\n</style>\n",null,null,null],"names":[],"mappings":";;AAQE,OAAmB,sBAAwB,CAAA;;;;;;;;;;;;AAC3C,OAAiB,YAAc,CAAA;;;;;+BASA;+BAf7B;AAQG;;;;;;eAVL,mBAGO,QAAA,SAHD,QAAG,aAAU;YACjB,mBAAmG,UAAA,SAA3F,WAAM,UAAU,aAAK,KAAA;gBAAE,KAAA,SAAS,CAAA,sCAAA;YAAA;eAA8C,QAAI,CAAA,EAAA;gBAAA;aAAA;YAC1F,mBAAkE,UAAA,SAA1D,WAAM,UAAU,aAAO,KAAA,aAAa,GAAE,eAAW,CAAA,EAAA;gBAAA;aAAA;;;;aAevD,YAAA,IAAU,MAAO,MAAM,EAAE,OAAQ,MAAM,EAAE;YACvC,IAAM,UAAU,WAAW,cAAc;YACzC,IAAM,SAAS,AAAI,OAAO,OAAO,WAAW;YAC5C,OAAO,OAAO,CAAC;YACf,OAAO,QAAQ,CAAC,OAAO,UAAU,EAAE;YACnC,QAAQ,aAAa,CAAC,OAAO,aAAa,CAAC,QAAQ;QAErD;;aACA,gBAAA,MAAgB;YACd,mBAAmB,aAAa,iCAE5B,UAAS,IAAU,GAAG,EAAE;gBAEtB,QAAQ,GAAG,CAAC,IAAI,YAAY,EAAA;gBAC5B,IAAM,UAAU,WAAW,cAAc;gBACzC,IAAM,SAAS,AAAI,OAAO,OAAO,WAAW;gBAC5C,OAAO,OAAO,CAAC;gBACf,IAAI,OAAO,AAAI,KAAK,IAAI,YAAY;gBACpC,IAAM,MAAM,WAAW,kBAAkB,CAAC;gBAC1C,OAAO,QAAQ,CAAC,OAAO,YAAY,EAAE;gBACrC,QAAQ,aAAa,CAAC,OAAO,aAAa,CAAC,QAAQ;YACrD;cACA,OAAM,IAAU,GAAG,EAAE;gBACnB,QAAQ,GAAG,CAAC,KAAG;gBACf,+BACE,OAAM,SACN,QAAO;YAEX;;QAGN;;;sBA/BA,YAAU,MAAO,MAAM,EAAE,OAAQ,MAAM;sBAQvC;;;;;;;;;;;;;;;;;;;;;AA0BJ"}