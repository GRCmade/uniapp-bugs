{"version":3,"sources":["pages/component/sticky-section/sticky-section.uvue","pages/component/list-view/list-view-multiplex.uvue?type=page","pages/component/sticky-section/sticky-section.uvue?type=page"],"sourcesContent":["<template>\n  <page-head title=\"sticky-section\"></page-head>\n  <list-view id=\"list-view\" ref=\"list-view\" show-scrollbar=false class=\"page\" :scroll-into-view=\"scrollIntoView\"\n  @scroll=\"onScroll\" @scrollend=\"onScrollEnd\" rebound=\"false\">\n    <list-item style=\"padding: 10px; margin: 5px 0;align-items: center;\" :type = 20>\n      <button @click=\"gotoStickyHeader('C')\" size=\"mini\">跳转到id为C的sticky-header位置上</button>\n    </list-item>\n    <sticky-section v-for=\"(sectionText) in data\" :padding=\"sectionPadding\" :push-pinned-header=\"true\">\n      <sticky-header :header-id=\"sectionText\" :id=\"sectionText\">\n        <text class=\"sticky-header-text\">{{sectionText}}</text>\n      </sticky-header>\n      <list-item v-for=\"i in 10\" class=\"content-item\" :type=10>\n        <text class=\"text\">{{sectionText}}--item--content----{{i}}</text>\n      </list-item>\n    </sticky-section>\n    <list-item style=\"padding: 10px; margin: 5px 0;align-items: center;\" :type= 30>\n      <!-- <text style=\"color: #aaa\">到底了</text> -->\n      <button @click=\"toTop\" size=\"mini\">回到顶部</button>\n    </list-item>\n  </list-view>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        data: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N'],\n        sectionPadding: [0, 10, 0, 10] as Array<number>,\n        scrollIntoView: \"\",\n        scrolling: false\n      }\n    },\n    methods: {\n      toTop(){\n        this.scrollIntoView = \"\"\n        uni.getElementById(\"list-view\")!.scrollTop = 0\n      },\n      //用于自动化测试\n      listViewScrollByY(y : number) {\n        const listview = this.$refs[\"list-view\"] as UniElement\n        // listview.scrollBy(0, y)\n        listview.scrollTop = y\n      },\n      gotoStickyHeader(id : string) {\n\n        this.scrollIntoView = id\n\n\n\n\n      },\n      onScroll() {\n        this.scrolling = true\n      },\n      onScrollEnd() {\n        this.scrolling = false\n        //滚动后重置scrollIntoView = \"\"\n        if(this.scrollIntoView != \"\") {\n          this.scrollIntoView = \"\"\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  .page {\n    flex: 1;\n    background-color: #f5f5f5;\n  }\n\n  .sticky-header-text {\n    font-size: 16px;\n    padding: 8px;\n    color: #959595;\n    background-color: #f5f5f5;\n  }\n\n  .content-item {\n    padding: 15px;\n    margin-bottom: 10px;\n    background-color: #fff;\n  }\n</style>\n",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BAiCa;AAVN;;;;;;;;YAtBL,YAA8C,sBAAA,SAAnC,WAAM;YACjB,mBAiBY,aAAA,SAjBD,QAAG,aAAY,SAAI,aAAY,oBAAe,SAAM,WAAM,QAAQ,sBAAkB,KAAA,cAAc,EAC5G,cAAQ,KAAA,QAAQ,EAAG,iBAAW,KAAA,WAAW,EAAE,aAAQ;gBAClD,mBAEY,aAAA,SAFD,WAAyD,eAAzD,SAAA,aAAA,QAAA,YAAA,SAAA,iBAAA,YAA2D,UAAO,EAAE;oBAC7E,mBAAoF,UAAA,SAA3E,aAAK,KAAA;wBAAE,KAAA,gBAAgB,CAAA;oBAAA;sBAAO,UAAK,SAAO,4BAAwB,CAAA,EAAA;wBAAA;qBAAA;;gBAE7E,mBAOiB,UAAA,IAAA,EAAA,cAAA,UAAA,CAPuB,KAAA,IAAI,EAAA,IAApB,aAAA,OAAA,SAAW,UAAA,GAAA,CAAA;2BAAnC,mBAOiB,kBAAA,SAP8B,aAAS,KAAA,cAAc,EAAG,wBAAoB,IAAI;wBAC/F,mBAEgB,iBAAA,SAFA,eAAW,aAAc,QAAI;4BAC3C,mBAAuD,QAAA,SAAjD,WAAM,uBAAoB,gBAAG,cAAW,CAAA;;;;;wBAEhD,mBAEY,UAAA,IAAA,EAAA,cAAA,UAAA,CAFW,EAAE,EAAA,IAAP,GAAA,OAAA,SAAC,UAAA,GAAA,CAAA;mCAAnB,mBAEY,aAAA,SAFe,WAAM,gBAAgB,UAAK,EAAE;gCACtD,mBAAiE,QAAA,SAA3D,WAAM,SAAM,gBAAG,eAAa,wBAAmB,gBAAE,IAAC,CAAA;;;;;;;;;gBAG5D,mBAGY,aAAA,SAHD,WAAyD,eAAzD,SAAA,aAAA,QAAA,YAAA,SAAA,iBAAA,YAA2D,UAAM,EAAE;oBAE5E,mBAAgD,UAAA,SAAvC,aAAO,KAAA,KAAK,EAAE,UAAK,SAAO,QAAI,CAAA,EAAA;wBAAA;qBAAA;;;;;;;;;aASrC;aACA,gBAAkC,SAAM,MAAM;aAC9C;aACA;;;wBAHA,UAAM;YAAC;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;YAAK;SAAI,EAC5E,oBAAgB,WAAwB,MAAM,EAA7B,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAC7B,oBAAgB,IAChB,eAAW,KAAI;;;aAIjB,QAAA,MAAO;YACL,IAAI,CAAC,cAAa,GAAI;YACtB,mBAAmB,eAAc,SAAQ,GAAI,CAAA;QAC/C;;aAEA,oBAAA,IAAkB,GAAI,MAAM,EAAE;YAC5B,IAAM,WAAW,IAAI,CAAC,OAAK,CAAC,YAAW,CAAE,EAAC,CAAE;YAE5C,SAAS,SAAQ,GAAI;QACvB;;aACA,mBAAA,IAAiB,IAAK,MAAM,EAAE;YAE5B,IAAI,CAAC,cAAa,GAAI;QAKxB;;aACA,WAAA,MAAW;YACT,IAAI,CAAC,SAAQ,GAAI,IAAG;QACtB;;aACA,cAAA,MAAc;YACZ,IAAI,CAAC,SAAQ,GAAI,KAAI;YAErB,IAAG,IAAI,CAAC,cAAa,IAAK,IAAI;gBAC5B,IAAI,CAAC,cAAa,GAAI;YACxB;QACF;;;sBA3BA;sBAKA,oBAAkB,GAAI,MAAM;sBAK5B,mBAAiB,IAAK,MAAM;sBAQ5B;sBAGA;;;;;;;;;;;;;;;;;;;;;AAQJ"}