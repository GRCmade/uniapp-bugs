{"version":3,"sources":["pages/component/nested-scroll-body/nested-scroll-body.uvue","pages/component/nested-scroll-body/nested-scroll-body.uvue?type=page"],"sourcesContent":["<template>\n\t<scroll-view style=\"flex:1\" type=\"nested\" direction=\"vertical\" refresher-enabled=\"true\" refresher-default-style=\"none\"\n      bounces=\"false\" :refresher-triggered=\"refresherTriggered\" @refresherpulling=\"onRefresherpulling\" @refresherrefresh=\"onRefresherrefresh\" @refresherrestore=\"onRefreshrestore\">\n    <nested-scroll-header>\n      <swiper ref=\"header\" indicator-dots=\"true\" circular=\"true\">\n        <swiper-item  v-for=\"i in 3\" :item-id=\"i\">\n          <image src=\"/static/shuijiao.jpg\" style=\"width:100% ;height: 240px;\"></image>\n        </swiper-item>\n      </swiper>\n    </nested-scroll-header>\n    <nested-scroll-body>\n      <view style=\"flex:1\">\n        <view style=\"flex-direction: row;\">\n          <text style=\"padding: 12px 15px;\">nested-scroll-body</text>\n        </view>\n        <!-- 嵌套滚动仅可能关闭bounces效果 会影响嵌套滚动不连贯 -->\n        <list-view bounces=\"false\" id=\"body-list\" :scroll-top=\"scrollTop\" style=\"flex:1\" associative-container=\"nested-scroll-view\">\n          <list-item v-for=\"key in scrollData\">\n          \t<view class=\"scroll-item\">\n          \t\t<text class=\"scroll-item-title\">{{key}}</text>\n          \t</view>\n          </list-item>\n        </list-view>\n      </view>\n      <text>不会渲染，因为 nested-scroll-body 只会渲染第一个子节点</text>\n    </nested-scroll-body>\n    <!-- 支持自定义样式下拉刷新slot组件 -->\n    <refresh-box slot=\"refresher\" :state=\"state\"></refresh-box>\n\t</scroll-view>\n</template>\n\n<script>\n  import refreshBox from '../../template/custom-refresher/refresh-box/refresh-box.uvue';\n\texport default {\n    components: { refreshBox },\n\t\tdata() {\n\t\t\treturn {\n          scrollData: [] as Array<string>,\n          scrollTop: 0,\n          refresherTriggered: false,\n          pullingDistance: 0,\n          resetting: false\n\t\t\t}\n\t\t},\n    computed: {\n    \tstate() : number {\n    \t\tif (this.resetting) {\n    \t\t\treturn 3;\n    \t\t}\n    \t\tif (this.refresherTriggered) {\n    \t\t\treturn 2\n    \t\t}\n    \t\tif (this.pullingDistance > 45) {\n    \t\t\treturn 1\n    \t\t} else {\n    \t\t\treturn 0;\n    \t\t}\n    \t}\n    },\n    onLoad() {\n    \tlet lists : Array<string> = []\n    \tfor (let i = 0; i < 30; i++) {\n    \t\tlists.push(\"item---\" + i)\n    \t}\n    \tthis.scrollData = lists\n    },\n\t\tmethods: {\n      onRefresherpulling(e : RefresherEvent) {\n      \tthis.pullingDistance = e.detail.dy;\n      },\n      onRefresherrefresh() {\n      \tthis.refresherTriggered = true\n      \tsetTimeout(() => {\n      \t\tthis.refresherTriggered = false\n      \t\tthis.resetting = true;\n      \t}, 1500)\n      },\n      onRefreshrestore() {\n        this.pullingDistance = 0\n      \tthis.resetting = false;\n      },\n      //自动化测试使用\n      testBodyScrollBy(y: number) {\n        this.scrollTop = y\n      }\n\t\t}\n\t}\n</script>\n\n<style>\n\t.scroll-item {\r\n\t\tmargin-left: 6px;\r\n\t\tmargin-right: 6px;\r\n\t\tmargin-top: 6px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.scroll-item-title {\r\n\t\twidth: 100%;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t\ttext-align: center;\r\n\t\tcolor: #555;\r\n\t}\n\n  .scroll-header-tiem {\n    height: 200px;\n    background-color: #66ccff;\n    align-items: center;\n    justify-content: center;\n  }\n</style>\n",null],"names":[],"mappings":"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"}