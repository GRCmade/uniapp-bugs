{"version":3,"sources":["pages/component/scroll-view/scroll-view.uvue","App.uvue","pages/component/scroll-view/scroll-view.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view class=\"page-scroll-view\">\n\n    <view>\n      <page-head title=\"scroll-view,区域滚动视图\"></page-head>\n      <view class=\"uni-padding-wrap uni-common-mt\">\n        <view class=\"uni-title uni-common-mt\">\n          <text class=\"uni-title-text\">Vertical Scroll</text>\n          <text class=\"uni-subtitle-text\">纵向滚动</text>\n        </view>\n        <view>\n          <scroll-view :scroll-top=\"scrollTop\" direction=\"vertical\" class=\"scroll-Y\" scroll-with-animation=\"true\"\n            @scrolltoupper=\"upper\" @scrolltolower=\"lower\" @scroll=\"scroll\" @scrollend=\"end\" :show-scrollbar=\"showScrollbar\">\n            <view class=\"scroll-view-item uni-bg-red\"><text class=\"text\">A</text></view>\n            <view class=\"scroll-view-item uni-bg-green\"><text class=\"text\">B</text></view>\n            <view class=\"scroll-view-item uni-bg-blue\"><text class=\"text\">C</text></view>\n          </scroll-view>\n        </view>\n        <view @tap=\"goTop\" class=\"uni-center uni-common-mt\">\n          <text class=\"uni-link\">点击这里返回顶部</text>\n        </view>\n\n        <view class=\"uni-title uni-common-mt\">\n          <text class=\"uni-title-text\">Horizontal Scroll</text>\n          <text class=\"uni-subtitle-text\">横向滚动</text>\n        </view>\n        <view>\n          <scroll-view class=\"scroll-view_H\" direction=\"horizontal\" @scroll=\"scroll\" @scrollend=\"end\" :scroll-left=\"scrollLeft\" :show-scrollbar=\"showScrollbar\">\n            <view class=\"scroll-view-item_H uni-bg-red\"><text class=\"text\">A</text></view>\n            <view class=\"scroll-view-item_H uni-bg-green\"><text class=\"text\">B</text></view>\n            <view class=\"scroll-view-item_H uni-bg-blue\"><text class=\"text\">C</text></view>\n          </scroll-view>\n        </view>\n\n        <navigator url=\"/pages/component/scroll-view/scroll-view-props\" hover-class=\"none\">\n          <button type=\"primary\" class=\"button\">\n            非下拉刷新的属性示例\n          </button>\n        </navigator>\n        <view class=\"uni-common-pb\"></view>\n\n        <navigator url=\"/pages/component/scroll-view/scroll-view-refresher-props\" hover-class=\"none\">\n          <button type=\"primary\" class=\"button\">\n            下拉刷新的属性示例\n          </button>\n        </navigator>\n        <view class=\"uni-common-pb\"></view>\n        <navigator url=\"/pages/component/scroll-view/scroll-view-refresher\" hover-class=\"none\">\n          <button type=\"primary\" class=\"button\"> 默认下拉刷新示例 </button>\n        </navigator>\n        <view class=\"uni-common-pb\"></view>\n        <navigator url=\"/pages/component/scroll-view/scroll-view-custom-refresher-props\" hover-class=\"none\">\n          <button type=\"primary\" class=\"button\">\n            自定义下拉刷新示例\n          </button>\n        </navigator>\n        <view class=\"uni-common-pb\"></view>\n      </view>\n    </view>\n\n  </scroll-view>\n\n</template>\n<script lang=\"uts\">\n  type ScrollEventTest = {\n    type: string;\n    target: UniElement | null;\n    currentTarget: UniElement | null;\n    direction?:string\n  }\n  export default {\n    data() {\n      return {\n        scrollTop: 0,\n        oldScrollTop: 0,\n        scrollLeft:120,\n        showScrollbar: true,\n        // 自动化测试\n        isScrollTest:'',\n        isScrolltolowerTest:'',\n        isScrolltoupperTest:'',\n        // 在web端scroll事件event参数中detail类型报错，先条件编译处理\n\n        scrollDetailTest:null as UniScrollEventDetail|null,\n        scrollEndDetailTest:null as UniScrollEventDetail|null,\n\n      }\n    },\n    methods: {\n      upper: function (e : UniScrollToUpperEvent) {\n        console.log('滚动到顶部/左边',e)\n        this.checkEventTest({\n          type:e.type,\n          target:e.target,\n          currentTarget:e.currentTarget,\n          direction:e.detail.direction,\n        } as ScrollEventTest,'scrolltoupper')\n      },\n      lower: function (e : UniScrollToLowerEvent) {\n        console.log('滚动到底部/右边',e)\n        this.checkEventTest({\n          type:e.type,\n          target:e.target,\n          currentTarget:e.currentTarget,\n          direction:e.detail.direction,\n        } as ScrollEventTest,'scrolltolower')\n      },\n      scroll: function (e : UniScrollEvent) {\n\n        this.scrollDetailTest = e.detail\n\n        this.checkEventTest({\n          type:e.type,\n          target:e.target,\n          currentTarget:e.currentTarget\n        } as ScrollEventTest,'scroll')\n        this.oldScrollTop = e.detail.scrollTop\n      },\n      end: function (e : UniScrollEvent){\n        console.log('滚动结束时触发',e)\n\n        this.scrollEndDetailTest = e.detail\n\n        this.checkEventTest({\n          type:e.type,\n          target:e.target,\n          currentTarget:e.currentTarget\n        } as ScrollEventTest,'scrollend')\n      },\n      goTop: function () {\n        // 解决view层不同步的问题\n        this.scrollTop = this.oldScrollTop\n        this.$nextTick(function () {\n          this.scrollTop = 0\n        })\n        uni.showToast({\n          icon: 'none',\n          title: '纵向滚动 scrollTop 值已被修改为 0',\n        })\n      },\n      // 自动化测试专用（由于事件event参数对象中存在循环引用，在ios端JSON.stringify报错，自动化测试无法page.data获取）\n      checkEventTest(e:ScrollEventTest, eventName:String){\n        const isPass = e.type === eventName && e.target instanceof UniElement && e.currentTarget instanceof UniElement;\n        const result = isPass ? `${eventName}:Success` : `${eventName}:Fail`;\n        switch (eventName){\n          case 'scroll':\n            this.isScrollTest = result\n            break;\n          case 'scrolltolower':\n            this.isScrolltolowerTest =  result + `-${e.direction}`\n            break;\n          case 'scrolltoupper':\n            this.isScrolltoupperTest =  result + `-${e.direction}`\n            break;\n          default:\n            break;\n        }\n      },\n    },\n  }\n</script>\n\n<style>\n  .scroll-Y {\n    height: 150px;\n  }\n\n  .scroll-view_H {\n    width: 100%;\n    flex-direction: row;\n  }\n\n  .scroll-view-item {\n    height: 150px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .scroll-view-item_H {\n    width: 100%;\n    height: 150px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .text {\n    font-size: 18px;\n    color: #ffffff;\n  }\n\n  .button {\n    margin-top: 15px;\n  }\n</style>\n",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;+BAwHY;AAjDL;;;;;;;;eArEL,mBA2Dc,eAAA,SA3DD,WAAM,qBAAkB;YAEnC,mBAuDO,QAAA,IAAA,EAAA;gBAtDL,YAAkD,sBAAA,SAAvC,WAAM;gBACjB,mBAoDO,QAAA,SApDD,WAAM,mCAAgC;oBAC1C,mBAGO,QAAA,SAHD,WAAM,4BAAyB;wBACnC,mBAAmD,QAAA,SAA7C,WAAM,mBAAiB;wBAC7B,mBAA2C,QAAA,SAArC,WAAM,sBAAoB;;oBAElC,mBAOO,QAAA,IAAA,EAAA;wBANL,mBAKc,eAAA,SALA,gBAAY,KAAA,SAAS,EAAE,eAAU,YAAW,WAAM,YAAW,2BAAsB,QAC9F,qBAAe,KAAA,KAAK,EAAG,qBAAe,KAAA,KAAK,EAAG,cAAQ,KAAA,MAAM,EAAG,iBAAW,KAAA,GAAG,EAAG,oBAAgB,KAAA,aAAa;4BAC9G,mBAA4E,QAAA,SAAtE,WAAM,gCAA6B;gCAAC,mBAA2B,QAAA,SAArB,WAAM,SAAO;;4BAC7D,mBAA8E,QAAA,SAAxE,WAAM,kCAA+B;gCAAC,mBAA2B,QAAA,SAArB,WAAM,SAAO;;4BAC/D,mBAA6E,QAAA,SAAvE,WAAM,iCAA8B;gCAAC,mBAA2B,QAAA,SAArB,WAAM,SAAO;;;;;;;;;;;oBAGlE,mBAEO,QAAA,SAFA,aAAK,KAAA,KAAK,EAAE,WAAM;wBACvB,mBAAsC,QAAA,SAAhC,WAAM,aAAW;;;;oBAGzB,mBAGO,QAAA,SAHD,WAAM,4BAAyB;wBACnC,mBAAqD,QAAA,SAA/C,WAAM,mBAAiB;wBAC7B,mBAA2C,QAAA,SAArC,WAAM,sBAAoB;;oBAElC,mBAMO,QAAA,IAAA,EAAA;wBALL,mBAIc,eAAA,SAJD,WAAM,iBAAgB,eAAU,cAAc,cAAQ,KAAA,MAAM,EAAG,iBAAW,KAAA,GAAG,EAAG,iBAAa,KAAA,UAAU,EAAG,oBAAgB,KAAA,aAAa;4BAClJ,mBAA8E,QAAA,SAAxE,WAAM,kCAA+B;gCAAC,mBAA2B,QAAA,SAArB,WAAM,SAAO;;4BAC/D,mBAAgF,QAAA,SAA1E,WAAM,oCAAiC;gCAAC,mBAA2B,QAAA,SAArB,WAAM,SAAO;;4BACjE,mBAA+E,QAAA,SAAzE,WAAM,mCAAgC;gCAAC,mBAA2B,QAAA,SAArB,WAAM,SAAO;;;;;;;;;oBAIpE,YAIY,sBAAA,SAJD,SAAI,kDAAiD,iBAAY,2CAC1E,gBAES,GAAA;+BAAA;4BAFT,mBAES,UAAA,SAFD,UAAK,WAAU,WAAM,WAAS;;;;oBAIxC,mBAAmC,QAAA,SAA7B,WAAM;oBAEZ,YAIY,sBAAA,SAJD,SAAI,4DAA2D,iBAAY,2CACpF,gBAES,GAAA;+BAAA;4BAFT,mBAES,UAAA,SAFD,UAAK,WAAU,WAAM,WAAS;;;;oBAIxC,mBAAmC,QAAA,SAA7B,WAAM;oBACZ,YAEY,sBAAA,SAFD,SAAI,sDAAqD,iBAAY,2CAC9E,gBAAyD,GAAA;+BAAA;4BAAzD,mBAAyD,UAAA,SAAjD,UAAK,WAAU,WAAM,WAAS;;;;oBAExC,mBAAmC,QAAA,SAA7B,WAAM;oBACZ,YAIY,sBAAA,SAJD,SAAI,mEAAkE,iBAAY,2CAC3F,gBAES,GAAA;+BAAA;4BAFT,mBAES,UAAA,SAFD,UAAK,WAAU,WAAM,WAAS;;;;oBAIxC,mBAAmC,QAAA,SAA7B,WAAM;;;;;aAiBZ;aACA;aACA;aACA;aAEA;aACA;aACA;aAGA,kBAAyB;aACzB,qBAA4B;;;wBAX5B,eAAW,CAAC,EACZ,kBAAc,CAAC,EACf,gBAAW,GAAG,EACd,mBAAe,IAAI,EAEnB,kBAAa,IACb,yBAAoB,IACpB,yBAAoB,IAGpB,sBAAiB,IAAG,CAAE,EAAC,CAAE,uBACzB,yBAAoB,IAAG,CAAE,EAAC,CAAE;;;aAK9B,QAAO,IAAU,GAAI,qBAAqB,EAAE;YAC1C,QAAQ,GAAG,CAAC,YAAW,GAAC;YACxB,IAAI,CAAC,cAAc,iBACjB,OAAK,EAAE,IAAI,EACX,SAAO,EAAE,MAAM,EACf,gBAAc,EAAE,aAAa,EAC7B,YAAU,EAAE,MAAM,CAAC,SAAS,GACT;QACvB;;aACA,QAAO,IAAU,GAAI,qBAAqB,EAAE;YAC1C,QAAQ,GAAG,CAAC,YAAW,GAAC;YACxB,IAAI,CAAC,cAAc,iBACjB,OAAK,EAAE,IAAI,EACX,SAAO,EAAE,MAAM,EACf,gBAAc,EAAE,aAAa,EAC7B,YAAU,EAAE,MAAM,CAAC,SAAS,GACT;QACvB;;aACA,SAAQ,IAAU,GAAI,cAAc,EAAE;YAEpC,IAAI,CAAC,gBAAe,GAAI,EAAE,MAAK;YAE/B,IAAI,CAAC,cAAc,iBACjB,OAAK,EAAE,IAAI,EACX,SAAO,EAAE,MAAM,EACf,gBAAc,EAAE,aAAY,GACT;YACrB,IAAI,CAAC,YAAW,GAAI,EAAE,MAAM,CAAC,SAAQ;QACvC;;aACA,MAAK,IAAU,GAAI,cAAc,EAAC;YAChC,QAAQ,GAAG,CAAC,WAAU,GAAC;YAEvB,IAAI,CAAC,mBAAkB,GAAI,EAAE,MAAK;YAElC,IAAI,CAAC,cAAc,iBACjB,OAAK,EAAE,IAAI,EACX,SAAO,EAAE,MAAM,EACf,gBAAc,EAAE,aAAY,GACT;QACvB;;aACA,QAAO,MAAY;YAEjB,IAAI,CAAC,SAAQ,GAAI,IAAI,CAAC,YAAW;YACjC,IAAI,CAAC,WAAS,CAAC,MAAY;gBACzB,IAAI,CAAC,SAAQ,GAAI,CAAA;YACnB;;YACA,+BACE,OAAM,QACN,QAAO;QAEX;;aAEA,iBAAA,IAAe,GAAE,eAAe,EAAE,WAAU,MAAM,EAAC;YACjD,IAAM,SAAS,EAAE,IAAG,KAAM,aAAa,EAAE,MAAK,IAAa,cAAc,EAAE,aAAY,IAAa;YACpG,IAAM,SAAS,IAAA;gBAAU,KAAE,YAAU;;gBAAa,KAAE,YAAU;;YAAM;YACpE,MAAQ;gBACD;oBACH,IAAI,CAAC,YAAW,GAAI;gBAEjB;oBACH,IAAI,CAAC,mBAAkB,GAAK,SAAS,CAAA,AAAC,MAAG,EAAE,SAAS,AAAC;gBAElD;oBACH,IAAI,CAAC,mBAAkB,GAAK,SAAS,CAAA,AAAC,MAAG,EAAE,SAAS,AAAC;gBAEvD;;YAEF;QACF;;;sBApEA,QAAiB,GAAI;sBASrB,QAAiB,GAAI;sBASrB,SAAkB,GAAI;sBAWtB,MAAe,GAAI;sBAWnB;sBAYA,iBAAe,GAAE,iBAAiB,WAAU;;;;;;;;;;;;;;;;;;;;;AAkBhD"}