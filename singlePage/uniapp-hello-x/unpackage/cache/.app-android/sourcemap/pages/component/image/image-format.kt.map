{"version":3,"sources":["pages/component/image/image-format.uvue","pages/component/image/image-format.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex: 1;\">\n\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-padding-wrap uni-common-mt\">\n      <!-- <view class=\"uni-title\">\n        <text class=\"uni-title-text\">支持的图片格式示例</text>\n      </view> -->\n      <view v-for=\"(item,index) in supportFormats\" :key=\"index\">\n        <text class=\"uni-subtitle-text\">{{item.format}}</text>\n        <view class=\"uni-center\" style=\"background:#FFFFFF;\">\n          <!-- <image class=\"image\" mode=\"widthFix\" :src=\"item.src\"></image> -->\n          <image class=\"image\" mode=\"widthFix\" :src=\"item.errorImage == null ? item.src : item.errorImage\"\n            @error=\"imageErrorEvent(index, $event as ImageErrorEvent)\"></image>\n        </view>\n      </view>\n      <!-- <view class=\"uni-title\">\n        <text class=\"uni-title-text\">暂不支持的格式</text>\n      </view>\n      <view v-for=\"(item,index) in notSupportFormats\" :key=\"index\">\n        <text class=\"uni-subtitle-text\">{{item.format}}</text>\n        <view class=\"uni-center\" style=\"background:#FFFFFF;\">\n          <image class=\"image\" mode=\"widthFix\" :src=\"item.errorImage == null ? item.src : item.errorImage\"\n            @error=\"imageErrorEvent(index, $event as ImageErrorEvent)\"></image>\n        </view>\n      </view> -->\n    </view>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        title: 'image-format',\n        supportFormats: [\n          {\n            format: 'bmp',\n            src: '/static/test-image/logo.bmp'\n          },\n          {\n            format: 'gif',\n            src: '/static/test-image/logo.gif'\n          },\n          {\n            format: 'ico',\n            src: '/static/test-image/logo.ico'\n          },\n          {\n            format: 'jpg',\n            src: '/static/test-image/logo.jpg'\n          },\n          {\n            format: 'png',\n            src: '/static/test-image/logo.png'\n          },\n          {\n            format: 'webp',\n            src: '/static/test-image/logo.webp'\n          },\n          {\n            format: 'heic（App-Android10+支持）',\n            src: '/static/test-image/logo.heic'\n          },\n          {\n            format: 'avif（仅部分浏览器支持）',\n            src: '/static/test-image/logo.avif'\n          },\n          {\n            format: 'tif（仅部分浏览器支持）',\n            src: '/static/test-image/logo.tif'\n          }\n        ] as Array<ImageFormat>\n        /* notSupportFormats: [\n          {\n            format: 'avif',\n            src: '/static/test-image/logo.avif'\n          },\n          {\n            format: 'tif',\n            src: '/static/test-image/logo.tif'\n          }\n        ] as Array<ImageFormat> */\n      }\n    },\n    methods: {\n      imageErrorEvent(index: number, e: ImageErrorEvent) {\n        console.log(\"图片加载错误\", e.detail);\n        // 图片加载失败，加载本地占位图\n        this.supportFormats[index].errorImage = '/static/template/drop-card/dislike.png'\n      }\n    },\n  }\n\n  type ImageFormat = {\n    format : string\n    src : string.ImageURIString\n    errorImage ?: string.ImageURIString | null\n  }\n</script>\n\n<style>\n  .image {\n    margin: 40px auto;\n    width: 100px;\n  }\n</style>\n",null],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkCO;;;;;;;eAhCL,mBA2Bc,eAAA,SA3BD,WAAgB,eAAhB,SAAA,UAAA;YAEX,YAAsC,sBAAA,SAA1B,WAAO,KAAA,KAAK,GAAA,IAAA,EAAA,CAAA,EAAA;gBAAA;aAAA;YACxB,mBAsBO,QAAA,SAtBD,WAAM,mCAAgC;gBAI1C,mBAOO,UAAA,IAAA,EAAA,cAAA,UAAA,CAPsB,KAAA,cAAc,EAAA,IAA7B,MAAK,OAAL,SAAI,UAAA,GAAA,CAAA;2BAAlB,mBAOO,QAAA,SAPuC,SAAK,QAAK;wBACtD,mBAAsD,QAAA,SAAhD,WAAM,sBAAmB,gBAAG,KAAK,MAAM,GAAA,CAAA;wBAC7C,mBAIO,QAAA,SAJD,WAAM,cAAa,WAA2B,eAA3B,SAAA,gBAAA;4BAEvB,mBACqE,SAAA,SAD9D,WAAM,SAAQ,UAAK,YAAY,SAAK,IAAA,KAAK,UAAU,IAAA,IAAA;gCAAW,KAAK,GAAG;;gCAAG,KAAK,UAAU;;4BAAA,EAC5F,aAAK,IAAA,UAAA,GAAA,CAAA;gCAAE,KAAA,eAAe,CAAC,OAAO,SAAM,EAAA,CAAA;4BAAA;;;;;;;;;;;;aAuBzC;aACA,gBAqCK,SAAM;;;wBAtCX,WAAO,gBACP,oBAAgB,WAqCL,aAAA,YAnCP,SAAQ,OACR,MAAK,gCAkCE,YA/BP,SAAQ,OACR,MAAK,gCA8BE,YA3BP,SAAQ,OACR,MAAK,gCA0BE,YAvBP,SAAQ,OACR,MAAK,gCAsBE,YAnBP,SAAQ,OACR,MAAK,gCAkBE,YAfP,SAAQ,QACR,MAAK,iCAcE,YAXP,SAAQ,0BACR,MAAK,iCAUE,YAPP,SAAQ,kBACR,MAAK,iCAME,YAHP,SAAQ,iBACR,MAAK;;;aAgBX,kBAAA,IAAgB,OAAO,MAAM,EAAE,GAAG,eAAe,EAAE;YACjD,QAAQ,GAAG,CAAC,UAAU,EAAE,MAAM,EAAC;YAE/B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,UAAS,GAAI;QAC1C;;;sBAJA,kBAAgB,OAAO,MAAM,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;AAMtC"}