{"version":3,"sources":["pages/component/scroll-view/scroll-view-refresher-props.uvue","pages/component/scroll-view/scroll-view-refresher-props.uvue?type=page"],"sourcesContent":["<template>\n  <view class=\"page-scroll-view\">\n    <page-head title=\"下拉刷新的scroll-view属性示例\"></page-head>\n    <view class=\"uni-margin-wrap\">\n      <scroll-view direction=\"vertical\" :refresher-enabled=\"refresherEnabled\" :refresher-threshold=\"refresherThreshold\"\n        :refresher-default-style=\"refresherDefaultStyle\" :refresher-background=\"refresherBackground\"\n        :refresher-triggered=\"refresherTriggered\" @refresherpulling=\"refresherpulling\"\n        @refresherrefresh=\"refresherrefresh\" @refresherrestore=\"refresherrestore\" @refresherabort=\"refresherabort\"\n        style=\"width: 100%;height: 100%;\">\n        <view class=\"item\" :id=\"item.id\" v-for=\"(item,_) in items\">\n          <text class=\"uni-text\">{{item.label}}</text>\n        </view>\n      </scroll-view>\n    </view>\n\n    <scroll-view class=\"uni-list\" :showScrollbar=\"true\">\n      <view class=\"uni-list-cell-padding\">\n        <text class=\"refresher-tips\">**下拉刷新的属性设置需要先打开下拉刷新开关**</text>\n      </view>\n      <view class=\"uni-list-cell uni-list-cell-padding\">\n        <text>是否开启下拉刷新</text>\n        <switch :checked=\"refresherEnabled\" @change=\"handleTrunOnRefresher\"></switch>\n      </view>\n      <view class=\"uni-list-cell uni-list-cell-padding\">\n        <text>设置下拉刷新状态</text>\n        <switch :disabled=\"!refresherEnabled\" :checked=\"refresherTriggered\"\n          @change=\"refresherTriggered=!refresherTriggered\"></switch>\n      </view>\n\n      <view class=\"uni-list-cell uni-list-cell-padding\">\n        <text>设置下拉刷新阈值</text>\n        <input class=\"uni-list-cell-input\" :disabled=\"!refresherEnabled\" :value=\"refresherThreshold\" type=\"number\"\n          @input=\"handleRefresherThresholdInput\" />\n      </view>\n\n      <view class=\"uni-list-cell uni-list-cell-padding\">\n        <text>设置下拉刷新区域背景颜色</text>\n        <input class=\"uni-list-cell-input\" :disabled=\"!refresherEnabled\" :value=\"refresherBackground\"\n          @input=\"handleRefresherBackground\" />\n      </view>\n\n      <view class=\"uni-list-cell-padding\">\n        <text>设置下拉刷新默认样式</text>\n        <view class=\"switch-refresher-group\">\n          <button class=\"switch-refresher-style\" type=\"primary\" size=\"mini\"\n            @click=\"refresherDefaultStyle = `none`\">none</button>\n          <button class=\"switch-refresher-style\" type=\"primary\" size=\"mini\"\n            @click=\"refresherDefaultStyle = `black`\">black</button>\n          <button class=\"switch-refresher-style\" type=\"primary\" size=\"mini\"\n            @click=\"refresherDefaultStyle = `white`\">white</button>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script>\n  type Item = {\n    id : string,\n    label : string,\n  }\n\n  export default {\n    data() {\n      return {\n        items: [] as Item[],\n        refresherEnabled: true,\n        refresherTriggered: false,\n        refresherThreshold: 45,\n        refresherDefaultStyle: \"black\",\n        refresherBackground: \"transparent\",\n      }\n    },\n    onLoad() {\n      for (let i = 0; i < 10; i++) {\n        const item = {\n          id: \"item\" + i,\n          label: \"item\" + i,\n        } as Item;\n        this.items.push(item);\n      }\n    },\n    methods: {\n      handleTrunOnRefresher() {\n        this.refresherTriggered = false;\n        //不能同时关闭下拉状态和关闭下拉刷新。\n        setTimeout(() => {\n          this.refresherEnabled = !this.refresherEnabled;\n        }, 0)\n      },\n      handleRefresherThresholdInput(e : InputEvent) {\n        const value = e.detail.value;\n        if (value == \"\") {\n          this.refresherThreshold = 45;\n        } else {\n          this.refresherThreshold = parseInt(e.detail.value);\n        }\n      },\n      handleRefresherBackground(e : InputEvent) {\n        const value = e.detail.value;\n        this.refresherBackground = value;\n      },\n      //响应事件\n      refresherpulling() {\n        console.log(\"下拉刷新控件被下拉\");\n      },\n      refresherrefresh() {\n        console.log(\"下拉刷新被触发\");\n        this.refresherTriggered = true;\n        //不能同时关闭下拉状态和关闭下拉刷新。\n        setTimeout(() => {\n          this.refresherTriggered = false;\n        }, 1500)\n      },\n      refresherrestore() {\n        console.log(\"下拉刷新被复位\");\n      },\n      refresherabort() {\n        console.log(\"下拉刷新被中止\");\n      }\n    }\n  }\n</script>\n\n<style>\n  .uni-margin-wrap {\n    height: 200px;\n    margin: 0 25px 25px 25px;\n  }\n\n  .item {\n    justify-content: center;\n    align-items: center;\n    height: 200px;\n    width: 100%;\n    background-color: azure;\n    border-width: 1px;\n    border-style: solid;\n    border-color: chocolate;\n  }\n\n  .refresher-tips {\n    font-size: 12px;\n    text-align: center;\n    color: red;\n  }\n\n  .uni-text {\n    color: black;\n    font-size: 50px;\n  }\n\n  .uni-list {\n    flex: 1;\n  }\n\n  .uni-list-cell-input {\n    max-width: 100px;\n    border: 1px solid #ccc;\n    text-align: center;\n  }\n\n  .picker-view {\n    width: 100%;\n    height: 320px;\n    margin-top: 10px;\n  }\n\n  .switch-refresher-group {\n    flex-direction: row;\n    margin-top: 5px;\n  }\n\n  .switch-refresher-style {\n    padding: 2px 10px;\n    margin-right: 5px;\n  }\n</style>\n",null],"names":[],"mappings":";;;;;;;;;;;;;;;;;AA8DO;;eAWH,sBAAS;gBACP;gBAAK,IAAI,YAAI,CAAC;gBAAd,MAAgB,IAAI,EAAE;oBACpB,IAAM,aACJ,KAAI,SAAS,GACb,QAAO,SAAS;oBAElB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;oBALM;;YAMxB;QACF;;;;;;;;;eAhFF,mBAoDO,QAAA,SApDD,WAAM,qBAAkB;YAC5B,YAAoD,sBAAA,SAAzC,WAAM;YACjB,mBAUO,QAAA,SAVD,WAAM,oBAAiB;gBAC3B,mBAQc,eAAA,SARD,eAAU,YAAY,uBAAmB,KAAA,gBAAgB,EAAG,yBAAqB,KAAA,kBAAkB,EAC7G,6BAAyB,KAAA,qBAAqB,EAAG,0BAAsB,KAAA,mBAAmB,EAC1F,yBAAqB,KAAA,kBAAkB,EAAG,wBAAkB,KAAA,gBAAgB,EAC5E,wBAAkB,KAAA,gBAAgB,EAAG,wBAAkB,KAAA,gBAAgB,EAAG,sBAAgB,KAAA,cAAc,EACzG,WAAiC,eAAjC,SAAA,WAAA,QAAA,YAAA;oBACA,mBAEO,UAAA,IAAA,EAAA,cAAA,UAAA,CAF6C,KAAA,KAAK,EAAA,IAAhB,MAAK,GAAL,SAAI,UAAA,GAAA,CAAA;+BAA7C,mBAEO,QAAA,SAFD,WAAM,QAAQ,QAAI,KAAK,EAAE;4BAC7B,mBAA4C,QAAA,SAAtC,WAAM,aAAU,gBAAG,KAAK,KAAK,GAAA,CAAA;;;;;;;;;;;;;;;;;;YAKzC,mBAqCc,eAAA,SArCD,WAAM,YAAY,mBAAe,IAAI;gBAChD,mBAEO,QAAA,SAFD,WAAM,0BAAuB;oBACjC,mBAA4D,QAAA,SAAtD,WAAM,mBAAiB;;gBAE/B,mBAGO,QAAA,SAHD,WAAM,wCAAqC;oBAC/C,mBAAqB,QAAA,IAAA,EAAf;oBACN,YAA6E,mBAAA,SAApE,aAAS,KAAA,gBAAgB,EAAG,cAAQ,KAAA,qBAAqB;;;;;gBAEpE,mBAIO,QAAA,SAJD,WAAM,wCAAqC;oBAC/C,mBAAqB,QAAA,IAAA,EAAf;oBACN,YAC4D,mBAAA,SADnD,cAAQ,CAAG,KAAA,gBAAgB,EAAG,aAAS,KAAA,kBAAkB,EAC/D,cAAM,KAAA;wBAAE,KAAA,kBAAkB,GAAA,CAAE,KAAA,kBAAkB;oBAAA;;;;;;;gBAGnD,mBAIO,QAAA,SAJD,WAAM,wCAAqC;oBAC/C,mBAAqB,QAAA,IAAA,EAAf;oBACN,mBAC2C,SAAA,SADpC,WAAM,uBAAuB,cAAQ,CAAG,KAAA,gBAAgB,EAAG,WAAO,KAAA,kBAAkB,EAAE,UAAK,UAC/F,aAAO,KAAA,6BAA6B;;;;;;gBAGzC,mBAIO,QAAA,SAJD,WAAM,wCAAqC;oBAC/C,mBAAyB,QAAA,IAAA,EAAnB;oBACN,mBACuC,SAAA,SADhC,WAAM,uBAAuB,cAAQ,CAAG,KAAA,gBAAgB,EAAG,WAAO,KAAA,mBAAmB,EACzF,aAAO,KAAA,yBAAyB;;;;;;gBAGrC,mBAUO,QAAA,SAVD,WAAM,0BAAuB;oBACjC,mBAAuB,QAAA,IAAA,EAAjB;oBACN,mBAOO,QAAA,SAPD,WAAM,2BAAwB;wBAClC,mBACuD,UAAA,SAD/C,WAAM,0BAAyB,UAAK,WAAU,UAAK,QACxD,aAAK,KAAA;4BAAE,KAAA,qBAAqB,GAAA;wBAAA;2BAAW,QAAI,CAAA,EAAA;4BAAA;yBAAA;wBAC9C,mBACyD,UAAA,SADjD,WAAM,0BAAyB,UAAK,WAAU,UAAK,QACxD,aAAK,KAAA;4BAAE,KAAA,qBAAqB,GAAA;wBAAA;2BAAY,SAAK,CAAA,EAAA;4BAAA;yBAAA;wBAChD,mBACyD,UAAA,SADjD,WAAM,0BAAyB,UAAK,WAAU,UAAK,QACxD,aAAK,KAAA;4BAAE,KAAA,qBAAqB,GAAA;wBAAA;2BAAY,SAAK,CAAA,EAAA;4BAAA;yBAAA;;;;;;aAgBlD,gBAAa;aACb;aACA;aACA;aACA;aACA;;;wBALA,WAAO,WAAM,UACb,sBAAkB,IAAI,EACtB,wBAAoB,KAAK,EACzB,wBAAoB,EAAE,EACtB,2BAAuB,SACvB,yBAAqB;;;aAavB,wBAAA,MAAwB;YACtB,IAAI,CAAC,kBAAiB,GAAI,KAAK;YAE/B,WAAW,KAAM;gBACf,IAAI,CAAC,gBAAe,GAAI,CAAC,IAAI,CAAC,gBAAgB;YAChD;cAAG,CAAC;QACN;;aACA,gCAAA,IAA8B,GAAI,UAAU,EAAE;YAC5C,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;YAC5B,IAAI,SAAS,IAAI;gBACf,IAAI,CAAC,kBAAiB,GAAI,EAAE;YAC9B,OAAO;gBACL,IAAI,CAAC,kBAAiB,GAAI,SAAS,EAAE,MAAM,CAAC,KAAK;YACnD;QACF;;aACA,4BAAA,IAA0B,GAAI,UAAU,EAAE;YACxC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;YAC5B,IAAI,CAAC,mBAAkB,GAAI;QAC7B;;aAEA,mBAAA,MAAmB;YACjB,QAAQ,GAAG,CAAC,aAAY;QAC1B;;aACA,mBAAA,MAAmB;YACjB,QAAQ,GAAG,CAAC,WAAU;YACtB,IAAI,CAAC,kBAAiB,GAAI,IAAI;YAE9B,WAAW,KAAM;gBACf,IAAI,CAAC,kBAAiB,GAAI,KAAK;YACjC;cAAG,IAAI;QACT;;aACA,mBAAA,MAAmB;YACjB,QAAQ,GAAG,CAAC,WAAU;QACxB;;aACA,iBAAA,MAAiB;YACf,QAAQ,GAAG,CAAC,WAAU;QACxB;;;sBApCA;sBAOA,gCAA8B,GAAI;sBAQlC,4BAA0B,GAAI;sBAK9B;sBAGA;sBAQA;sBAGA;;;;;;;;;;;;;;;;;;;;;AAIJ"}