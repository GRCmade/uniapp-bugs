{"version":3,"sources":["pages/component/general-event/transition-event.uvue","pages/component/list-view/list-view-multiplex.uvue?type=page","pages/component/general-event/transition-event.uvue?type=page"],"sourcesContent":["<template>\n\n  <scroll-view style=\"flex:1;\" v-if=\"isShow\">\n\n    <image class=\"transition-transform\" id=\"transition-transform\" @transitionend=\"onEnd\" src=\"/static/uni.png\"></image>\n    <text class=\"adjust\">对图片设置transform进行旋转，在旋转完成的transitionend事件后，继续旋转</text>\n    <button class=\"adjust\" @click=\"switchBtn\">{{buttonValue}}</button>\n\n  </scroll-view>\n\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        times: 0,\n        element: null as UniElement | null,\n        isStart: false,\n        buttonValue: \"开启图片旋转\",\n        onTransitionEndTriggr: false,\n\n        isShow: false,\n\n\n\n\n      }\n    },\n    onReady() {\n      // onReady中动态修改isShow是为了验证在安卓手机上子线程中创建节点可能会崩溃的问题，不具备代码参考性。\n\n      var that = this\n      class ThreadRunnable extends Runnable {\n        override run() {\n          that.isShow = true\n        }\n      }\n      new Thread(new ThreadRunnable()).start()\n\n    },\n    methods: {\n      switchBtn() {\n        if (!this.isStart) {\n          if (this.element == null) {\n            this.element = uni.getElementById('transition-transform')\n          }\n          this.buttonValue = \"关闭图片旋转\"\n          this.times = this.times + 1\n          this.element!.style.setProperty('transition-duration', '2000ms')\n          this.element!.style.setProperty('transform', 'rotate(' + this.times * 360 + 'deg)')\n          this.isStart = true\n        } else {\n          this.isStart = false\n          this.times = 0\n          this.onTransitionEndTriggr = false\n          this.buttonValue = \"开启图片旋转\"\n          this.element!.style.setProperty('transition-duration', '0ms')\n          this.element!.style.setProperty('transform', 'rotate(' + this.times * 360 + 'deg)')\n        }\n      },\n      onEnd() {\n        if (this.isStart) {\n          this.times = this.times + 1\n          this.element!.style.setProperty('transform', 'rotate(' + this.times * 360 + 'deg)')\n          this.onTransitionEndTriggr = true\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  .adjust {\n    margin: 10px;\n  }\n\n  .transition-transform {\n    width: 200px;\n    height: 200px;\n    margin: 25px auto;\n    border-radius: 100px;\n    transition-duration: 2000ms;\n    transition-property: transform;\n    transition-timing-function: linear;\n    transform: rotate(0deg);\n  }\n</style>\n",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAaO;;gBAgBH,MAAU;YAGR,IAAI,OAAO,IAAG;YACd,WAAM,iBAAuB,UAAS;yDAEjB,qBAAA;oBAAA,OAAA,qBAAA,kBAAA,uDAAA,EAAA,EAAA,EAAA;gBAAA;gBAErB,aAAA,MAAA;oBACI,KAAK,MAAM,GAAG,IAAI;;YAEvB;YACK,OAAG,kBAAA,KAAA;;;;;;;;0BAvCwB,KAAA,MAAM;YAAzC,mBAMc,eAAA,qBAND,WAAe,eAAf,SAAA,UAAA;gBAEX,mBAAmH,SAAA,SAA5G,WAAM,wBAAuB,QAAG,wBAAwB,qBAAe,KAAA,KAAK,EAAE,SAAI;;;gBACzF,mBAA0E,QAAA,SAApE,WAAM,WAAS;gBACrB,mBAAkE,UAAA,SAA1D,WAAM,UAAU,aAAO,KAAA,SAAS,mBAAI,KAAA,WAAW,GAAA,CAAA,EAAA;oBAAA;iBAAA;;;;;;;aAUnD;aACA,SAAiB;aACjB;aACA;aACA;aAEA;;;wBANA,WAAO,CAAC,EACR,aAAS,IAAG,CAAE,EAAC,CAAE,aACjB,aAAS,KAAK,EACd,iBAAa,UACb,2BAAuB,KAAK,EAE5B,YAAQ,KAAK;;;+BAuBH;gBACR,CAAA,IAAA,CAAA,OAAA,EAAA;gBACA,IAAI,IAAI,CAAC,OAAM,IAAK,IAAI,EAAE;oBACxB,IAAI,CAAC,OAAO,GAAG,mBAAS;gBAC1B;gBACA,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAA,GAAA,CAAA;gBAClB,IAAG,CAAE,OAAA,GAAA,KAAA,CAAA,WAAA,CAAA,uBAAA;gBACL,IAAI,CAAC,OAAM,GAAE,KAAM,CAAA,WAAA,CAAA,aAAA,YAAA,IAAA,CAAA,KAAA,GAAA,GAAA,GAAA;gBACnB,IAAI,CAAC,OAAM,GAAE,IAAA;mBACR;gBACL,IAAI,CAAC,OAAO,GAAG,KAAK;gBACpB,IAAI,CAAC,KAAK,GAAG,CAAC;gBACd,IAAI,CAAC,qBAAqB,GAAG,KAAK;gBACpC,IAAA,CAAA,WAAA,GAAA;gBACD,IAAA,CAAA,OAAA,GAAA,KAAA,CAAA,WAAA,CAAA,uBAAA;gBACG,IAAI,CAAA,OAAA,GAAA,KAAA,CAAA,WAAA,CAAA,aAAA,YAAA,IAAA,CAAA,KAAA,GAAA,GAAA,GAAA;YACN;;;2BAEM;gBACF,IAAI,CAAC,OAAO,EAAE;gBAClB,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA,GAAA,CAAA;gBACF,IAAA,CAAA,OAAA,GAAA,KAAA,CAAA,WAAA,CAAA,aAAA,YAAA,IAAA,CAAA,KAAA,GAAA,GAAA,GAAA;gBACF,IAAA,CAAA,qBAAA,GAAA,IAAA;YACF"}