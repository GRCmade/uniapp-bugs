{"version":3,"sources":["pages/component/mixin-datacom/datacom.uvue","node-modules/@dcloudio/uni-components/lib-x/unicloud-db/index.uts"],"sourcesContent":["<template>\n  <view>\n    <view v-if=\"mixinDatacomLoading\">Loading...</view>\n    <view v-else-if=\"mixinDatacomError\">\n      请求错误：{{mixinDatacomError}}\n    </view>\n    <view v-else=\"mixinDatacomResData.length>0\">\n      <!-- 需要自行处理数据及相关UI展现 -->\n      <!-- {{mixinDatacomResData}} -->\n      <scroll-view class=\"list-view\">\n        <view class=\"list-item\" v-for=\"(item, _) in mixinDatacomResData\">\n          <text>{{item}}</text>\n        </view>\n      </scroll-view>\n    </view>\n    <view v-if=\"!mixinDatacomLoading && mixinDatacomResData.length==0\">\n      无数据\n    </view>\n  </view>\n</template>\n\n<script lang=\"uts\">\n  export default {\n    mixins: [uniCloudMixinDatacom],\n    data() {\n      return {\n      }\n    },\n    created() {\n      this.load()\n    },\n    methods: {\n      load() {\n        if (this.mixinDatacomLoading == true) {\n          return\n        }\n        this.mixinDatacomLoading = true\n\n        this.mixinDatacomGet(null).then((res: UniCloudDBGetResult) => {\n          const data = res.data\n          // const count = res.count\n          this.mixinDatacomResData = data\n        }).catch((err: any | null) => {\n          this.mixinDatacomError = err as UniCloudError\n        }).finally(() => {\n          this.mixinDatacomLoading = false\n        })\n      },\n      // 当组件属性发生变化时\n      onMixinDatacomPropsChange(needReset: boolean, changed: Array<string>) {\n        console.log(needReset, changed);\n        // needReset=true 需要重置已加载数据和分页信息，例如 collection，orderby\n        // changed，变化的属性名，类型为 Array，例如 ['collection', 'orderby']\n        // if (needReset) {\n        //   // 清空已加载的数据\n        //   this.mixinDatacomResData = []\n\n        //   // 重置分页数据，如果没有分页不需要处理\n        //   this.mixinDatacomPage.size = this.pageSize // 重置分页大小\n        //   this.mixinDatacomPage.current = 0 // 重置当前分页\n        //   this.mixinDatacomPage.count = 0 // 重置数据总数\n        // }\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n",null],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAsBO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAMH,MAAU;YACR,IAAI,CAAC,IAAI;QACX;;;;;;;eA7BF,mBAiBO,QAAA,IAAA,EAAA;uBAhBO,KAAA,mBAAmB;gBAA/B,mBAAkD,QAAA,SAAA,SAAA,CAAA,GAAjB;;2BAChB,KAAA,iBAAiB;oBAAlC,mBAEO,QAAA,SAAA,SAAA,CAAA,GAF6B,WAC7B,gBAAE,KAAA,iBAAiB,GAAA,CAAA;;oBAE1B,mBAQO,QAAA,SAAA,SAAA,CAAA,GAAA;wBALL,mBAIc,eAAA,SAJD,WAAM,cAAW;4BAC5B,mBAEO,UAAA,IAAA,EAAA,cAAA,UAAA,CAFqC,KAAA,mBAAmB,EAAA,IAA/B,MAAM,GAAN,SAAI,UAAA,GAAA,CAAA;uCAApC,mBAEO,QAAA,SAFD,WAAM,cAAW;oCACrB,mBAAqB,QAAA,IAAA,EAAA,gBAAb,OAAI,CAAA;;;;;;;;;;wBAIL,KAAA,mBAAmB,IAAI,KAAA,mBAAmB,CAAC,MAAM,IAAA,CAAA;gBAA9D,mBAEO,QAAA,SAAA,SAAA,CAAA,GAF4D;;;;;;wBAbvD,SAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aA8B7B,OAAA,MAAO;YACL,IAAI,IAAI,CAAC,mBAAkB,IAAK,IAAI,EAAE;gBACpC;YACF;YACA,IAAI,CAAC,mBAAkB,GAAI,IAAG;YAE9B,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,IAAC,KAAK,oBAAwB;gBAC5D,IAAM,OAAO,IAAI,IAAG;gBAEpB,IAAI,CAAC,mBAAkB,GAAI;YAC7B;cAAG,OAAK,CAAC,IAAC,KAAK,GAAE,EAAa;gBAC5B,IAAI,CAAC,iBAAgB,GAAI,IAAI,EAAC,CAAE;YAClC;cAAG,SAAO,CAAC,KAAM;gBACf,IAAI,CAAC,mBAAkB,GAAI,KAAI;YACjC;;QACF;;aAEA,4BAAA,IAA0B,WAAW,OAAO,EAAE,SAAS,SAAM,MAAM,CAAC,EAAE;YACpE,QAAQ,GAAG,CAAC,WAAW,SAAQ;QAYjC;;;;;sBA9BA;sBAiBA,4BAA0B,WAAW,OAAO,EAAE,SAAS,SAAM,MAAM;;;;;;;;;2GA/CrE,WAAkD,yDAOhD,sHAMW;;;;;;;;;;;;;;;;;;;;;;;;;AAiDf"}