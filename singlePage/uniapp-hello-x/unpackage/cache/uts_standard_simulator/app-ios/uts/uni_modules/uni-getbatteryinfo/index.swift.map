{"version":3,"sources":["uni_modules/uni-getbatteryinfo/utssdk/app-ios/index.uts","uni_modules/uni-getbatteryinfo/utssdk/interface.uts"],"sourcesContent":["// 引用 iOS 原生平台 api\nimport { UIDevice } from \"UIKit\";\nimport { Int } from 'Swift';\n\nimport { GetBatteryInfo, GetBatteryInfoSuccess, GetBatteryInfoResult, GetBatteryInfoSync } from '../interface.uts';\n\n/**\n * 导出 获取电量方法\n */\nexport const getBatteryInfo : GetBatteryInfo = function (options) {\n\n    // 开启电量检测\n    UIDevice.current.isBatteryMonitoringEnabled = true\n\n    // 返回数据\n    const res : GetBatteryInfoSuccess = {\n        errMsg: \"getBatteryInfo:ok\",\n        level: Math.abs(Number(UIDevice.current.batteryLevel * 100)),\n        isCharging: UIDevice.current.batteryState == UIDevice.BatteryState.charging,\n    };\n    options.success?.(res);\n    options.complete?.(res);\n}\n\nexport const getBatteryInfoSync : GetBatteryInfoSync = function (): GetBatteryInfoResult {\n\n    // 开启电量检测\n    UIDevice.current.isBatteryMonitoringEnabled = true\n\n    // 返回数据\n    const res : GetBatteryInfoResult = {\n        level: Math.abs(Number(UIDevice.current.batteryLevel * 100)),\n        isCharging: UIDevice.current.batteryState == UIDevice.BatteryState.charging,\n    };\n\treturn res;\n}\n","export type GetBatteryInfoSuccess = {\n\terrMsg : string,\n\t/**\n\t* 设备电量，范围1 - 100\n\t*/\n\tlevel : number,\n\t/**\n\t* 是否正在充电中\n\t*/\n\tisCharging : boolean\n}\n\n// export type GetBatteryInfoFail = {\n// \t/**\n// \t* 错误码\n// \t*/\n// \terrCode : number,\n// \t/**\n// \t* 调用API的名称\n// \t*/\n// \terrSubject : string,\n// \t/**\n// \t* 错误的详细信息\n// \t*/\n// \terrMsg : string,\n// \t/**\n// \t* 错误来源\n// \t*/\n// \tcause : any | null\n// }\n\n\n\nexport type GetBatteryInfoOptions = {\n\t/**\n\t\t* 接口调用结束的回调函数（调用成功、失败都会执行）\n\t\t*/\n\tsuccess ?: (res : GetBatteryInfoSuccess) => void\n\t/**\n\t\t* 接口调用失败的回调函数\n\t\t*/\n\tfail ?: (res : UniError) => void\n\t/**\n\t\t* 接口调用成功的回调\n\t\t*/\n\tcomplete ?: (res : any) => void\n}\n\nexport type GetBatteryInfoResult = {\n\t/**\n\t* 设备电量，范围1 - 100\n\t*/\n\tlevel : number,\n\t/**\n\t* 是否正在充电中\n\t*/\n\tisCharging : boolean\n}\n\n/**\n* 获取电量信息\n* @param {GetBatteryInfoOptions} options\n*\n*\n* @tutorial https://uniapp.dcloud.net.cn/api/system/batteryInfo.html\n* @platforms APP-IOS = ^9.0,APP-ANDROID = ^22\n* @since 3.6.11\n*\n* @assert () => success({errCode: 0, errSubject: \"uni-getBatteryInfo\", errMsg: \"getBatteryInfo:ok\", level: 60, isCharging: false })\n* @assert () => fail({errCode: 1001, errSubject: \"uni-getBatteryInfo\", errMsg: \"getBatteryInfo:fail getAppContext is null\" })\n*/\nexport type GetBatteryInfo = (options : GetBatteryInfoOptions) => void\n\n\nexport type GetBatteryInfoSync = () => GetBatteryInfoResult\n\ninterface Uni {\n\n\t/**\n\t * 获取电池电量信息\n\t * @description 获取电池电量信息\n\t * @param {GetBatteryInfoOptions} options\n\t * @example\n\t * ```typescript\n\t * uni.getBatteryInfo({\n\t *\t\tsuccess(res) {\n\t *\t\t\tconsole.log(res);\n\t *\t\t}\n\t * })\n\t * ```\n\t * @remark\n\t * - 该接口需要同步调用\n\t * @uniPlatform {\n\t *    \"app\": {\n\t *        \"android\": {\n\t *            \"osVer\": \"4.4.4\",\n\t *            \"uniVer\": \"3.6.11\",\n\t *            \"unixVer\": \"3.9.0\"\n\t *        },\n\t *        \"ios\": {\n\t *            \"osVer\": \"9.0\",\n\t *            \"uniVer\": \"3.6.11\",\n\t *            \"unixVer\": \"3.9.0\"\n\t *        }\n\t *    }\n\t * }\n\t * @uniVueVersion 2,3  //支持的vue版本\n\t *\n\t */\n\tgetBatteryInfo (options : GetBatteryInfoOptions) : void,\n\t/**\n\t * 同步获取电池电量信息\n\t * @description 获取电池电量信息\n\t * @example\n\t * ```typescript\n\t * uni.getBatteryInfo()\n\t * ```\n\t * @remark\n\t * - 该接口需要同步调用\n\t * @uniPlatform {\n\t *    \"app\": {\n\t *        \"android\": {\n\t *            \"osVer\": \"4.4.4\",\n\t *            \"uniVer\": \"3.6.11\",\n\t *            \"unixVer\": \"3.9.0\"\n\t *        },\n\t *        \"ios\": {\n\t *            \"osVer\": \"9.0\",\n\t *            \"uniVer\": \"3.6.11\",\n\t *            \"unixVer\": \"3.9.0\"\n\t *        }\n\t *    }\n\t * }\n\t * @uniVueVersion 2,3  //支持的vue版本\n\t *\n\t */\n\tgetBatteryInfoSync():GetBatteryInfoResult\n\n}\n"],"names":[],"mappings":";;AAEA,aAA4B;AAD5B,aAAiC;ACDG;;aAAxB;;;;IACX,mBAAS,MAAM,EAAC;IAIhB,kBAAQ,QAAM,EAAC;IAIf,uBAAa,IAAO,SAAA;;;;;;;;;;;;;;;;;;;;;;wCARX,MAAM;sCAIP,QAAM;gDAID,IAAO;;AACrB;AAuBoC;;aAAxB;;;;IAIX,wBAAY,KAAM,0BAA0B,IAAI,GAAA;IAIhD,qBAAS,KAAM,aAAa,IAAI,GAAA;IAIhC,yBAAa,KAAM,GAAG,KAAK,IAAI,GAAA;;;;;;;;;;;;;;;;;;;;;;8CARnB,KAAM,0BAA0B,IAAI;wCAIvC,KAAM,aAAa,IAAI;gDAInB,KAAM,GAAG,KAAK,IAAI;;AAChC;AAEmC;;aAAvB;;;;IAIX,kBAAQ,QAAM,EAAC;IAIf,uBAAa,IAAO,SAAA;;;;;;;;;;;;;;;;;;;;sCAJZ,QAAM;gDAID,IAAO;;AACrB;iBAcY,oBAAkB,SAAU,0BAA0B,IAAI;iBAG1D,2BAA2B;ADjEhC,WAAM,iCAAkC;CAAU,EAAA,OAAO;AAG5D,SAAS,OAAO,CAAC,0BAA0B,GAAG,IAAI;AAGlD,IAAM;IACF,CAAA,SAAQ;IACR,CAAA,QAAO,KAAK,GAAG,CAAC,SAAO,SAAS,OAAO,CAAC,YAAY,GAAG,GAAG;IAC1D,CAAA,aAAY,SAAS,OAAO,CAAC,YAAY,IAAI,SAAS,YAAY,CAAC,QAAQ;;AAE/E,QAAQ,OAAO,EAAG;AAClB,QAAQ,QAAQ,EAAG;;AAGhB,WAAM,yCAA0C;;AAGnD,SAAS,OAAO,CAAC,0BAA0B,GAAG,IAAI;AAGlD,IAAM;IACF,CAAA,QAAO,KAAK,GAAG,CAAC,SAAO,SAAS,OAAO,CAAC,YAAY,GAAG,GAAG;IAC1D,CAAA,aAAY,SAAS,OAAO,CAAC,YAAY,IAAI,SAAS,YAAY,CAAC,QAAQ;;AAElF,OAAO;;ACD4B;;;IAInC,WAAA,SAAS,aAAuC;IAIhD,WAAA,MAAM,aAA0B;IAIhC,WAAA,UAAU,aAAqB;AAChC;iCAyB8B,SAAU,oCAA0B,IAAI;;;SAlCzD,KAAM;yBAAN;;;SAIH,KAAM;sBAAN;;;SAII,KAAM,GAAG;0BAAT;;;;wCA6ByB;;;;;;8CAHT,SAAU,oCAA0B,IAAI;kCAAxC;;qDAGS"}